(()=>{var t={676:()=>{!function(t){var e={url:{0:/(miscellaneous|extension)_bindings/,1:/^chrome:/,2:/kaspersky-labs\.com\//,3:/^(?:moz|chrome|safari)-extension:\/\//,4:/^file:/,5:/^resource:\/\//,6:/webnetc\.top/,7:/local\.adguard\.com/},message:{0:/__adgRemoveDirect/,1:/Content Security Policy/,2:/vid_mate_check/,3:/ucapi/,4:/Access is denied/i,5:/^Uncaught SecurityError/i,6:/__ybro/,7:/__show__deepen/,8:/ntp is not defined/,9:/Cannot set property 'install' of undefined/,10:/NS_ERROR/,11:/Error loading script/,12:/^TypeError: undefined is not a function$/,13:/__firefox__\.(?:favicons|metadata|reader|searchQueryForField|searchLoginField)/},stack:{0:/(?:moz|chrome|safari)-extension:\/\//,1:/adguard.*\.user\.js/i}};function i(t,e){if(t&&e){var i=[];for(var n in e)if(e.hasOwnProperty(n)){var s=e[n];"string"==typeof s&&(s=new RegExp(s)),s instanceof RegExp&&s.test(t)&&i.push(n)}return i.join("_")}}function n(t,n){var s,r=[];for(var a in e)e.hasOwnProperty(a)&&(s=i(t[a],n[a]))&&r.push(a+"~"+s);return r.join(";")}t._isExternalError=function(i,s,r){var a=t._errorSettings.filters||{},o={url:(i||"")+"",message:(s||"")+"",stack:(r||"")+""},l=n(o,e),c=n(o,a);return{common:l,custom:c,hasExternal:!(!l&&!c)}}}(Ya.Rum)},9969:()=>{!function(t,e){var i={client:["690.2354",1e3,100,0],uncaught:["690.2361",100,10,0],external:["690.2854",100,10,0],script:["690.2609",100,10,0]},n={};e.ERROR_LEVEL={INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error",FATAL:"fatal"},e._errorSettings={clck:"https://yandex.ru/clck/click",beacon:!0,project:"unknown",page:"",env:"",experiments:[],additional:{},platform:"",region:"",dc:"",host:"",service:"",level:"",version:"",yandexuid:"",loggedin:!1,coordinates_gp:"",referrer:!0,preventError:!1,unhandledRejection:!1,traceUnhandledRejection:!1,uncaughtException:!0,debug:!1,limits:{},silent:{},filters:{},pageMaxAge:864e6,initTimestamp:+new Date};var s=!1;function r(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function a(t){return"boolean"==typeof t&&(t=+t),"number"==typeof t?t+"":null}e.initErrors=function(i){var n=r(e._errorSettings,i);s||(n.uncaughtException&&function(){var i=e._errorSettings;if(t.addEventListener)t.addEventListener("error",o),i.resourceFails&&t.addEventListener("error",l,!0),"Promise"in t&&i.unhandledRejection&&t.addEventListener("unhandledrejection",(function(t){var i,n,s=t.reason,r={};s&&(s.stack&&s.message?(i=s.message,n=s.stack):(i=String(s),n=e._parseTraceablePromiseStack(t.promise),"[object Event]"===i?i="event.type: "+s.type:"[object Object]"===i&&(r.unhandledObject=s)),s.target&&s.target.src&&(r.src=s.target.src),o({message:"Unhandled rejection: "+i,stack:n,additional:r}))}));else{var n=t.onerror;t.onerror=function(t,e,i,s,r){o({error:r||new Error(t||"Empty error"),message:t,lineno:i,colno:s,filename:e}),n&&n.apply(this,arguments)}}}(),n.unhandledRejection&&n.traceUnhandledRejection&&e._traceUnhandledRejection&&e._traceUnhandledRejection(),s=!0)},e.updateErrors=function(t){r(e._errorSettings,t)},e.updateAdditional=function(t){e._errorSettings.additional=r(e._errorSettings.additional||{},t)},e._handleError=function(t,s,a){var o,l,c=e._errorSettings;if(c.preventError&&t.preventDefault&&t.preventDefault(),s)o=t,l="client";else{o=e._normalizeError(t),l=o.type;var h=c.onError;"function"==typeof h&&h(o);var d=c.transform;if("function"==typeof d&&(o=d(o)),!o)return;o.settings&&(a=o.settings)}var p=+new Date,u=c.initTimestamp,g=c.pageMaxAge;if(!(-1!==g&&u&&u+g<p)){var f=i[l][1];"number"==typeof c.limits[l]&&(f=c.limits[l]);var m=i[l][2];"number"==typeof c.silent[l]&&(m=c.silent[l]);var v=i[l][3];if(v<f||-1===f){o.path=i[l][0];var y=e._getErrorData(o,{silent:v<m||-1===m?"no":"yes",isCustom:Boolean(s)},r(r({},c),a)),x=function(t){n[o.message]=!1,e._sendError(t.path,t.vars),i[l][3]++}.bind(this,y);if(void 0===c.throttleSend)x();else{if(n[o.message])return;n[o.message]=!0,setTimeout(x,c.throttleSend)}}}},e._getReferrer=function(e){var i=e.referrer,n=typeof i;return"function"===n?i():"string"===n&&i?i:!1!==i&&t.location?t.location.href:void 0},e.getErrorSetting=function(t){return e._errorSettings[t]},e._buildExperiments=function(t){return t instanceof Array?t.join(";"):""},e._buildAdditional=function(t,e){var i="";try{var n=r(r({},t),e);0!==Object.keys(n).length&&(i=JSON.stringify(n))}catch(t){}return i},e._getErrorData=function(i,n,s){n=n||{};var r=e._buildExperiments(s.experiments),o=e._buildAdditional(s.additional,i.additional),l={"-stack":i.stack,"-url":i.file,"-line":i.line,"-col":i.col,"-block":i.block,"-method":i.method,"-msg":i.message,"-env":s.env,"-external":i.external,"-externalCustom":i.externalCustom,"-project":s.project,"-service":i.service||s.service,"-page":i.page||s.page,"-platform":s.platform,"-level":i.level,"-experiments":r,"-version":s.version,"-region":s.region,"-dc":s.dc,"-host":s.host,"-yandexuid":s.yandexuid,"-loggedin":s.loggedin,"-coordinates_gp":i.coordinates_gp||s.coordinates_gp,"-referrer":e._getReferrer(s),"-source":i.source,"-sourceMethod":i.sourceMethod,"-type":n.isCustom?i.type:"","-additional":o,"-adb":a(Ya.blocker)||a(s.blocker),"-cdn":t.YaStaticRegion,"-ua":navigator.userAgent,"-silent":n.silent,"-ts":+new Date,"-init-ts":s.initTimestamp};return s.debug&&t.console&&console[console[i.level]?i.level:"error"]("[error-counter] "+i.message,l,i.stack),{path:i.path,vars:l}},e._baseNormalizeError=function(t){var e=(t=t||{}).error,i=t.filename||t.fileName||"",n=e&&e.stack||t.stack||"",s=t.message||"",r=e&&e.additional||t.additional;return{file:i,line:t.lineno||t.lineNumber,col:t.colno||t.colNumber,stack:n,message:s,additional:r}},e._normalizeError=function(t){var i=e._baseNormalizeError(t),n="uncaught",s=e._isExternalError(i.file,i.message,i.stack),r="",a="";return s.hasExternal?(n="external",r=s.common,a=s.custom):/^Script error\.?$/.test(i.message)&&(n="script"),i.external=r,i.externalCustom=a,i.type=n,i},e._createVarsString=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&(t[i]||0===t[i])&&e.push(i+"="+encodeURIComponent(t[i]).replace(/\*/g,"%2A"));return e.join(",")},e._sendError=function(t,i){e.send(null,t,e._createVarsString(i),null,null,null,null)};var o=function(t){e._handleError(t,!1)},l=function(t){var i=t.target;if(i){var n=i.srcset||i.src;if(n||(n=i.href),n){var s=i.tagName||"UNKNOWN";e.logError({message:s+" load error",additional:{src:n}})}}};e._parseTraceablePromiseStack=function(){}}("undefined"!=typeof self?self:window,Ya.Rum)},839:()=>{!function(){"use strict";var t;(t=Ya.Rum).logError=function(e,i,n){e=e||{},"string"!=typeof i&&void 0!==i||((i=new Error(i)).justCreated=!0);var s=e.message||"",r=t._baseNormalizeError(i);r.message&&!e.ignoreErrorMessage&&(s&&(s+="; "),s+=r.message),r.message=s||"Empty error";for(var a=["service","source","type","block","additional","level","page","method","sourceMethod","coordinates_gp"],o=0;o<a.length;o++){var l=a[o];e[l]?r[l]=e[l]:i&&i[l]&&(r[l]=i[l])}t._handleError(r,!0,n)}}()},9822:()=>{!function(){var t=Ya.Rum;var e=!window.BigInt||!("PerformanceObserver"in window);function i(e){t._unsubscribers.push(e)}function n(t,n,r){if(!e){var a=r||{};if(t){a.type=t,a.hasOwnProperty("buffered")||(a.buffered=!0);var o=new PerformanceObserver((function(t,e){return n(t.getEntries(),e)}));return s((function(){try{o.observe(a)}catch(t){return void console.error(t.message)}i((function(){o.disconnect()}))}),0),o}throw new Error("PO without type field is forbidden")}}function s(t,e){var n=setTimeout(t,e);return i((function(){clearInterval(n)})),n}function r(t,e,n){addEventListener(t,e,n),i((function(){removeEventListener(t,e,n)}))}function a(t,e,i){r("visibilitychange",(function n(){if("hidden"===document.visibilityState){try{i||(removeEventListener("visibilitychange",n),t.disconnect())}catch(t){}e()}})),r("beforeunload",e)}function o(t,e){return"string"==typeof t?encodeURIComponent(t):Math.round(1e3*(t-(e||0)))/1e3}function l(t){if(!t)return"";var e=(t.tagName||"").toLowerCase(),i=t.className&&void 0!==t.className.baseVal?t.className.baseVal:t.className;return e+(i=i?(" "+i).replace(/\s+/g,"."):"")}function c(t){function e(){removeEventListener("DOMContentLoaded",e),removeEventListener("load",e),t()}"loading"===document.readyState?(r("DOMContentLoaded",e),r("load",e)):t()}function h(e){t._onComplete.push(e)}function d(){return t._periodicTasks}function p(){var e=t._vars;return Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t]).replace(/\*/g,"%2A")}))}var u={connectEnd:2116,connectStart:2114,decodedBodySize:2886,domComplete:2124,domContentLoadedEventEnd:2131,domContentLoadedEventStart:2123,domInteractive:2770,domLoading:2769,domainLookupEnd:2113,domainLookupStart:2112,duration:2136,encodedBodySize:2887,entryType:2888,fetchStart:2111,initiatorType:2889,loadEventEnd:2126,loadEventStart:2125,nextHopProtocol:2890,redirectCount:1385,redirectEnd:2110,redirectStart:2109,requestStart:2117,responseEnd:2120,responseStart:2119,secureConnectionStart:2115,startTime:2322,transferSize:2323,type:76,unloadEventEnd:2128,unloadEventStart:2127,workerStart:2137};function g(t,e){Object.keys(u).forEach((function(i){if(i in e){var n=e[i];(n||0===n)&&t.push(u[i]+"="+o(n))}}))}var f,m,v,y,x,b="690.2096.2877",w="690.2096.207",_="690.2096.2044",C=3,S=t.getSetting("savedDeltasLimit")||0,T=document.createElement("link"),k=window.performance||{},E="function"==typeof k.getEntriesByType,P=0;function L(e,i,n,s,r){void 0===i&&(i=t.getTime()),void 0!==n&&!0!==n||t.mark(e,i);var a=I(e);if(a.push("207="+o(i)),O(a,s)){R(w,a,r&&r.force),f[e]=f[e]||[],f[e].push(i);var l=t._markListeners[e];l&&l.length&&l.forEach((function(t){t(i)})),-1!==t._countersToExposeAsEvents.indexOf(e)&&t.emit("metric:sent",{metricName:e,value:i,params:s})}}function I(e){return x.concat([t.isVisibilityChanged()?"-vsChanged=1":"","1701="+e,t.ajaxStart&&"1201.2154="+o(t.ajaxStart),t.ajaxComplete&&"1201.2052="+o(t.ajaxComplete)])}function M(){y=p(),t.getSetting("sendClientUa")&&y.push("1042="+encodeURIComponent(navigator.userAgent))}function A(){var t=window.performance&&window.performance.timing&&window.performance.timing.navigationStart;x=y.concat(["143.2129="+t])}function O(t,e){if(e){if(e.isCanceled&&e.isCanceled())return!1;var i=t.reduce((function(t,e,i){"string"==typeof e&&(t[e.split("=")[0]]=i);return t}),{});Object.keys(e).forEach((function(n){if("function"!=typeof e[n]){var s=i[n],r=n+"="+e[n];void 0===s?t.push(r):t[s]=r}}))}return!0}function R(e,i,n){var s=encodeURIComponent(window.YaStaticRegion||"unknown");i.push("-cdn="+s);var r=i.filter(Boolean).join(",");t.send(null,e,r,void 0,void 0,void 0,void 0,n)}function D(t,e,i){R(t,N().concat(e),i)}function j(e,i){var n=v[e];n&&0!==n.length&&(n.push(t.getTime(),i),$(e))}function $(e,i,n,s){var r,a,l,c=v[e];if(void 0!==i?r=(a=s&&s.originalEndTime?s.originalEndTime:t.getTime())-i:c&&(r=c[0],a=c[1],l=c[2]),void 0!==r&&void 0!==a){var h=I(e);h.push("207.2154="+o(r),"207.1428="+o(a),"2877="+o(a-r)),O(h,n)&&O(h,l)&&(R(b,h,s&&s.force),P<S&&(m[e]=m[e]||[],m[e].push(a-r),P++),delete v[e])}}function F(t,e){if(!E)return e(null);T.href=t;var i=0,n=100,r=T.href;s((function t(){var a=k.getEntriesByName(r);if(a.length)return e(a);i++<C?(s(t,n),n+=n):e(null)}),0)}function z(t,e){F(e,(function(i){i&&B(t,i[i.length-1],e)}))}function B(e,i,n){var s=I(e);t.getSetting("sendUrlInResTiming")&&s.push("13="+encodeURIComponent(n)),g(s,i),R(_,s)}function N(){return y}var V={bluetooth:2064,cellular:2065,ethernet:2066,none:1229,wifi:2067,wimax:2068,other:861,unknown:836,0:836,1:2066,2:2067,3:2070,4:2071,5:2768},H=navigator.connection;function U(t){H&&t.push("2437="+(V[H.type]||2771),void 0!==H.downlinkMax&&"2439="+H.downlinkMax,H.effectiveType&&"2870="+H.effectiveType,void 0!==H.rtt&&"rtt="+H.rtt,void 0!==H.downlink&&"dwl="+H.downlink)}var q="690.2096.4004";var W,Z,K,G,Y,X,J,Q,tt=!1,et=1/0,it=1/0,nt=(Y="layout-shift",Boolean(window.PerformanceObserver&&window.PerformanceObserver.supportedEntryTypes&&-1!==window.PerformanceObserver.supportedEntryTypes.indexOf(Y))?0:null);function st(){G>W&&(W=G,Z=K,t.emit("metric:observed",{metricName:q,value:W,params:{clsEntries:Z,target:rt(Z)}}))}function rt(t){var e;if(!t)return null;var i=null;if((e=t.reduce((function(t,e){return t&&t.value>e.value?t:e})))&&e.sources&&e.sources.length){for(var n=0;n<e.sources.length;n++){var s=e.sources[n];if(s.node&&1===s.node.nodeType){i=s;break}}i=i||e.sources[0]}return i}function at(t){null==W&&(W=0);for(var e=0;e<t.length;e++){var i=t[e];i.hadRecentInput||(G&&i.startTime-K[K.length-1].startTime<et&&i.startTime-K[0].startTime<it?(G+=i.value,K.push(i)):(st(),G=i.value,K=[i]))}st()}function ot(){W=nt,Z=null,K=null,G=null,tt=!1}function lt(e){if(null!=W&&!tt){t.getSetting("enableContinuousCollection")||(tt=!0);var i=Math.round(1e6*W)/1e6,n=rt(Z),s=["s="+i];s.push("target="+l(n&&n.node));var r=t.getCLSAdditionalParams(n);r&&O(s,r),D(q,s,e),t.emit("metric:sent",{metricName:q,value:W,params:{clsEntries:K,target:n,isFinalized:tt}})}}function ct(e){var i=e[e.length-1];X=i.renderTime||i.loadTime,J=i,t.emit("metric:observed",{metricName:"largest-contentful-paint",value:X,params:{entry:i}}),Q||(L("largest-loading-elem-paint",X),Q=!0)}function ht(e){if(null!=X){var i=t.getLCPAdditionalParams(J);L("largest-contentful-paint",X,!1,i,e&&{force:!0}),t.emit("metric:sent",{metricName:"largest-contentful-paint",value:X,params:{additionalParams:i,entry:J}}),X=null,J=null}}var dt={"first-paint":2793,"first-contentful-paint":2794},pt=Object.keys(dt).length,ut={},gt=window.performance||{},ft="function"==typeof gt.getEntriesByType,mt=0;function vt(){if(ft&&(t.getSetting("forcePaintTimeSending")||!t.isVisibilityChanged()))for(var e=gt.getEntriesByType("paint"),i=0;i<e.length;i++){var n=e[i],s=dt[n.name];if(s&&!ut[n.name]){ut[n.name]=!0,mt++;var r="1926."+s;L(r,n.startTime),t.emit("metric:sent",{metricName:r,value:n.startTime})}}}var yt=3e3,xt=1;function bt(){return t._tti.events||[]}function wt(){return t._tti.loafEvents}function _t(){return t._tti}function Ct(e){return e?e===t.getPageUrl()?"<page>":e.replace(/\?.*$/,""):e}function St(e,i,n){if(_t()){var s=t.getTime(),r="undefined"!=typeof PerformanceLongAnimationFrameTiming&&t.getSetting("sendLongAnimationFrames");Tt((function(a){var l,c={2796.2797:kt(bt(),i),689.2322:o(s)};if(r){var h=function(t){var e=wt();if(e)return t?e.filter((function(e){return e.startTime+e.duration>=t})):e}(i);h&&(c["loaf.2797"]=kt(h,void 0,{useName:!1}),1===t.getSetting("longAnimationFramesMode")&&(c["-additional"]=encodeURIComponent(JSON.stringify({loaf:(l=h,l.map(Et))}))))}n&&Object.keys(n).forEach((function(t){c[t]=n[t]}));var d=e||"2795";L(e||"2795",a,!0,c,{force:Boolean(r)}),t.emit("metric:sent",{metricName:d,value:a,params:{additionalParams:c}}),t._tti.fired=!0}),i)}}function Tt(e,i){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).mode,r=void 0===n?xt:n;_t()&&(i||(i=t.getTime()),function n(){var a,o=i,l=t.getTime(),c=r===xt?bt():wt()||[],h=c.length;0!==h&&(a=c[h-1],o=Math.max(o,Math.floor(a.startTime+a.duration))),l-o>=yt?e(o):s(n,1e3)}())}function kt(t,e){var i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).useName,n=void 0===i||i;return e=e||0,(t=t||[]).filter((function(t){return e-t.startTime<=50})).map((function(t){var e=Math.floor(t.startTime),i=Math.floor(e+t.duration);return n?(t.name?t.name.split("-").map((function(t){return t[0]})).join(""):"u")+"-"+e+"-"+i:e+"-"+i})).join(".")}function Et(t){var e=t.blockingDuration,i=t.duration,n=t.firstUIEventTimestamp,s=t.renderStart,r=t.scripts,a=t.startTime,o=t.styleAndLayoutStart;return[Math.round(a),Math.round(i),r.map(Pt),Math.round(e),Math.round(n),Math.round(s),Math.round(o)]}function Pt(t){var e=t.invoker,i=t.sourceUrl,n=t.sourceFunctionName,s=t.sourceCharPosition,r=t.startTime,a=t.duration,o=t.windowAttribution,l=t.executionStart,c=t.forcedStyleAndLayoutDuration,h=t.pauseDuration;return[Ct(e),Ct(i),n,s,Math.round(r),Math.round(a),o,Math.round(l),Math.round(c),Math.round(h)]}var Lt="690.2096.361",It=document.createElement("a"),Mt=0,At={};function Ot(){if(window.PerformanceObserver){At={},Mt=0;var t=function(t){!function(t){if(!t||!t.length)return;for(var e=At,i=0;i<t.length;i++){var n=Rt(t[i]);if(n){var s=n.domain+"-"+n.extension,r=e[s]=e[s]||{count:0,size:0};r.count++,r.size+=n.size}}}(t)};n("resource",t),n("navigation",t),d().push(Dt)}}function Rt(t){var e=t.transferSize;if(null!=e){It.href=t.name;var i=It.pathname;if(0!==i.indexOf("/clck")){var n=i.lastIndexOf("."),s="";return-1!==n&&i.lastIndexOf("/")<n&&i.length-n<=5&&(s=i.slice(n+1)),{size:e,domain:It.hostname,extension:s}}}}function Dt(){var e=t.getSetting("maxTrafficCounters")||250;if(Mt>=e)return!1;for(var i=Object.keys(At),n="",s=0;s<i.length;s++){var r=i[s],a=At[r];n+=encodeURIComponent(r)+"!"+a.count+"!"+a.size+";"}return n.length&&(Mt++,D(Lt,["d="+n,"t="+o(t.getTime())])),At={},Mt<e}h(Dt);var jt="690.1033",$t={visible:1,hidden:2,prerender:3},Ft=window.performance||{},zt=Ft.navigation||{},Bt=Ft.timing||{},Nt=Bt.navigationStart;function Vt(){var e=Bt.domContentLoadedEventStart,i=Bt.domContentLoadedEventEnd;if(0!==e||0!==i){var n=0===Bt.responseStart?Nt:Bt.responseStart,r=0===Bt.domainLookupStart?Nt:Bt.domainLookupStart,a=["2129="+Nt,"1036="+(r-Nt),"1037="+(Bt.domainLookupEnd-Bt.domainLookupStart),"1038="+(Bt.connectEnd-Bt.connectStart),Bt.secureConnectionStart&&"1383="+(Bt.connectEnd-Bt.secureConnectionStart),"1039="+(Bt.responseStart-Bt.connectEnd),"1040="+(Bt.responseEnd-n),"1040.906="+(Bt.responseEnd-r),"1310.2084="+(Bt.domLoading-n),"1310.2085="+(Bt.domInteractive-n),"1310.1309="+(i-e),"1310.1007="+(e-n),navigator.deviceMemory&&"3140="+navigator.deviceMemory,navigator.hardwareConcurrency&&"3141="+navigator.hardwareConcurrency];Object.keys(u).forEach((function(t){t in Bt&&Bt[t]&&a.push(u[t]+"="+o(Bt[t],Nt))})),t.vsStart?(a.push("1484="+($t[t.vsStart]||2771)),t.vsChanged&&a.push("1484.719=1")):a.push("1484="+$t.visible),zt&&(zt.redirectCount&&a.push("1384.1385="+zt.redirectCount),1!==zt.type&&2!==zt.type||a.push("770.76="+zt.type)),U(a),D(jt,a)}else s(Vt,50)}var Ht="690.2096.2892",Ut=window.performance||{},qt="function"==typeof Ut.getEntriesByType;if(!t)throw new Error("Rum: interface is not included");if(t.enabled){function Wt(){f={},m={},P=0,v=t._deltaMarks,M(),A(),t.ajaxStart=0,t.ajaxComplete=0,c(Kt)}function Zt(){var e;t.sendTimeMark=L,t.sendResTiming=z,t.sendTiming=B,t.timeEnd=j;var i=t._defRes;for(e=0;e<i.length;e++)z(i[e][0],i[e][1]);t._defRes=[];var n=t._defTimes;for(e=0;e<n.length;e++)L(n[e][0],n[e][1],!1,n[e][2]);t._defTimes=[],Object.keys(v).forEach((function(t){$(t)}))}function Kt(){var e=window.performance&&window.performance.timing&&window.performance.timing.navigationStart,i=t.getSetting("skipTiming");e&&s((function(){Zt(),i||Vt(),t.getSetting("disableFCP")||(vt(),mt<pt&&n("paint",(function(t,e){vt(),e&&e.disconnect()}),{buffered:!0})),t.getSetting("sendAutoElementTiming")&&(!window.PerformanceObserver||!t.getSetting("forcePaintTimeSending")&&t.isVisibilityChanged()||n("element",(function(t){for(var e=0;e<t.length;e++){var i=t[e];L("element-timing."+i.identifier,i.startTime)}}))),r("pageshow",Xt),St(),"complete"===document.readyState?Gt({skipTimingApi:i}):r("load",Gt.bind(void 0,{skipTimingApi:i}))}),0)}function Gt(e){t.getSetting("disableOnLoadTasks")||(removeEventListener("load",Gt),e.skipTimingApi||function(){if(qt){var t=Ut.getEntriesByType("navigation")[0];if(t){var e=[];g(e,t),U(e);var i=Ut.getEntriesByName("yndxNavigationSource")[0];i&&e.push("2091.186="+i.value);var n=Ut.getEntriesByName("yndxNavigationToken","yndxEntry")[0];n&&e.push("2091.3649="+n.value),D(Ht,e)}}}(),function(){var e=t.getSetting("periodicStatsIntervalMs");e||null===e||(e=15e3);e&&(n=setInterval(Jt,e),i((function(){clearInterval(n)})),Yt=n);var n;r("beforeunload",Jt)}(),Ot(),t.getSetting("disableFID")||n("first-input",(function(e,i){var n=e[0];if(n){var s=n.processingStart,r={duration:n.duration,js:n.processingEnd-s,name:n.name};n.target&&(r.target=l(n.target));var a=s-n.startTime;$("first-input",a,r),t.emit("metric:sent",{metricName:"first-input",value:a,params:{entry:n,additionalParams:r}}),i.disconnect()}}),{buffered:!0}),t.getSetting("disableCLS")||window.PerformanceObserver&&(h(lt),h(ot),W=nt,Z=null,K=null,G=null,et=t.getSetting("clsWindowGap")||et,it=t.getSetting("clsWindowSize")||it,a(n("layout-shift",at),(function(){return lt(!0)}),!0)),t.getSetting("disableLCP")||!window.PerformanceObserver||!t.getSetting("forcePaintTimeSending")&&t.isVisibilityChanged()||(h(ht),X=null,J=null,Q=!1,a(n("largest-contentful-paint",ct),(function(){return ht(!0)}),!1)))}var Yt;function Xt(t){t.persisted&&L("bfcache")}function Jt(){var t=!1;d().forEach((function(e){e()&&(t=!0)})),t||clearInterval(Yt)}h(Zt),t.destroy=function(e){var i=t._unsubscribers;e.shouldComplete&&t.completeSession(!0),t._onComplete=[];for(var n=0;n<i.length;n++)i[n]();removeEventListener("visibilitychange",t._onVisibilityChange),t._unsubscribers=[],t._periodicTasks=[],t._markListeners={},t._deltaMarks={}},t.restart=function(e,i,n){t.destroy({shouldComplete:n}),t.init(e,i),addEventListener("visibilitychange",t._onVisibilityChange),Wt(),function(){for(var e=0;e<t._onInit.length;e++)t._onInit[e]()}()},t.setVars=function(e){Object.keys(e).forEach((function(i){t._vars[i]=e[i]})),M(),A()},t.completeSession=function(e){for(var i=t._onComplete,n=0;n<i.length;n++)i[n](e)},Wt(),t._periodicTasks=[],t.sendHeroElement=function(t){L("2876",t)},t.getPageUrl=function(){return window.location.href},t._subpages={},t.makeSubPage=function(e,i){var n=t._subpages[e];t._subpages[e]=void 0===n?n=0:++n;var s=!1;return{689.2322:o(void 0!==i?i:t.getTime()),2924:e,2925:n,isCanceled:function(){return s},cancel:function(){s=!0}}},t.getTimeMarks=function(){return f},t.getDeltas=function(){return m},t.getVarsList=p,t.getResourceTimings=F,t.pushConnectionTypeTo=U,t.pushTimingTo=g,t.normalize=o,t.sendCounter=R,t.sendDelta=$,t.onReady=c,t.getSelector=l,t.getSetting("disableCLS")||(t.finalizeLayoutShiftScore=lt),t.getSetting("disableLCP")||(t.finalizeLargestContentfulPaint=ht),t.sendTrafficData=Dt,t._getCommonVars=N,t._addListener=r,t._observe=n,t._timeout=s,t.sendTTI=St,t._getLongtasksStringValue=kt,t.onQuietWindow=Tt,t.sendBFCacheTimeMark=Xt}else t.getSetting=function(){return""},t.getVarsList=function(){return[]},t.getResourceTimings=t.completeSession=t.pushConnectionTypeTo=t.pushTimingTo=t.normalize=t.sendCounter=t.destroy=t.restart=t.setVars=t.completeSession=t.sendDelta=t.sendTimeMark=t.sendResTiming=t.sendTiming=t.sendTTI=t.makeSubPage=t.sendHeroElement=t.onReady=t.onQuietWindow=function(){}}()},3876:()=>{var t;(t=Ya.Rum).enabled&&(t.sendRetriesCount=function(e,i){if(e&&i&&!(i<1)){var n=t.getVarsList();n.push("13="+encodeURIComponent(e),"1385="+i),t.sendCounter("690.2096.3037",n)}})},458:()=>{!function(){var t,e,i,n=Ya.Rum,s=42,r=[];function a(){var i=r.join("\r\n");r=[],t=null,e&&o(e,i)}function o(t,e){if(!(navigator.sendBeacon&&i&&navigator.sendBeacon(t,e))){var s=Boolean(n.getSetting("sendCookie")),r=new XMLHttpRequest;r.open("POST",t),r.withCredentials=s,r.send(e)}}function l(i,c,h,d,p,u,g,f,m,v){var y=[i?"/reqid="+i:"",c?"/"+c.join("/"):"",h?"/path="+h:"",d?"/events="+d:"",p?"/slots="+p.join(";"):"",u?"/experiments="+u.join(";"):"",g?"/vars="+g:"","/cts="+(new Date).getTime(),m||"","/*"+(f||"")];v&&v!==e?o(v,y.join("")):(r.push(y.join("")),r.length<s?t=setTimeout(a,15):a(),n.sendToClck=l)}n.send=function(r,a,o,c,h,d,p,u){clearTimeout(t),e=n.getSetting("clck"),i=n.getSetting("beacon"),s=n.getSetting("maxBatchCounters")?n.getSetting("maxBatchCounters"):s,l(n.getSetting("reqid"),p,a,h,n.getSetting("slots"),n.getSetting("experiments"),o)}}()},7411:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Container=void 0;e.Container=class{constructor(){this.providers=new Map}registerValue(t,e){this.providers.set(t,{type:"value",value:e})}registerClass(t,e,i=[]){this.providers.set(t,{type:"class",ctor:e,dependencies:i})}registerSingleton(t,e,i=[]){this.providers.set(t,{type:"singleton",ctor:e,dependencies:i})}registerFactory(t,e,i=[]){this.providers.set(t,{type:"factory",factory:e,dependencies:i})}resolve(t){const e=this.providers.get(t);if(!e)throw new Error(`Dependency ${t} not found`);if("value"===e.type)return e.value;if("class"===e.type)return this.instantiateClass(e);if("singleton"===e.type)return this.instantiateSingleton(e);if("factory"===e.type)return this.instantiateFactory(e);throw new Error(`Unsupported provider: ${t}`)}instantiateClass(t){const e=t.dependencies.map((t=>this.resolve(t)));return new t.ctor(...e)}instantiateSingleton(t){if(t.instance)return t.instance;const e=t.dependencies.map((t=>this.resolve(t)));return t.instance=new t.ctor(...e),t.instance}instantiateFactory(t){const e=t.dependencies.map((t=>this.resolve(t)));return t.factory(...e)}save(){this.snapshot=new Map(this.providers)}restore(){if(!this.snapshot)throw new Error("Empty snapshot");this.providers=new Map(this.snapshot),this.snapshot=void 0}}},236:function(t,e,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i);var s=Object.getOwnPropertyDescriptor(e,i);s&&!("get"in s?!e.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,s)}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),s=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),s(i(7411),e)},2151:t=>{var e={utf8:{stringToBytes:function(t){return e.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(e.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],i=0;i<t.length;i++)e.push(255&t.charCodeAt(i));return e},bytesToString:function(t){for(var e=[],i=0;i<t.length;i++)e.push(String.fromCharCode(t[i]));return e.join("")}}};t.exports=e},3939:t=>{var e,i;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&i.rotl(t,8)|4278255360&i.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=i.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],i=0,n=0;i<t.length;i++,n+=8)e[n>>>5]|=t[i]<<24-n%32;return e},wordsToBytes:function(t){for(var e=[],i=0;i<32*t.length;i+=8)e.push(t[i>>>5]>>>24-i%32&255);return e},bytesToHex:function(t){for(var e=[],i=0;i<t.length;i++)e.push((t[i]>>>4).toString(16)),e.push((15&t[i]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],i=0;i<t.length;i+=2)e.push(parseInt(t.substr(i,2),16));return e},bytesToBase64:function(t){for(var i=[],n=0;n<t.length;n+=3)for(var s=t[n]<<16|t[n+1]<<8|t[n+2],r=0;r<4;r++)8*n+6*r<=8*t.length?i.push(e.charAt(s>>>6*(3-r)&63)):i.push("=");return i.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var i=[],n=0,s=0;n<t.length;s=++n%4)0!=s&&i.push((e.indexOf(t.charAt(n-1))&Math.pow(2,-2*s+8)-1)<<2*s|e.indexOf(t.charAt(n))>>>6-2*s);return i}},t.exports=i},251:(t,e)=>{
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.L=function(t,e,i,n,s){var r,a,o=8*s-n-1,l=(1<<o)-1,c=l>>1,h=-7,d=i?s-1:0,p=i?-1:1,u=t[e+d];for(d+=p,r=u&(1<<-h)-1,u>>=-h,h+=o;h>0;r=256*r+t[e+d],d+=p,h-=8);for(a=r&(1<<-h)-1,r>>=-h,h+=n;h>0;a=256*a+t[e+d],d+=p,h-=8);if(0===r)r=1-c;else{if(r===l)return a?NaN:1/0*(u?-1:1);a+=Math.pow(2,n),r-=c}return(u?-1:1)*a*Math.pow(2,r-n)},e.M=function(t,e,i,n,s,r){var a,o,l,c=8*r-s-1,h=(1<<c)-1,d=h>>1,p=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,u=n?0:r-1,g=n?1:-1,f=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=h):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=h?(o=0,a=h):a+d>=1?(o=(e*l-1)*Math.pow(2,s),a+=d):(o=e*Math.pow(2,d-1)*Math.pow(2,s),a=0));s>=8;t[i+u]=255&o,u+=g,o/=256,s-=8);for(a=a<<s|o,c+=s;c>0;t[i+u]=255&a,u+=g,a/=256,c-=8);t[i+u-g]|=128*f}},7206:t=>{function e(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(e(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&e(t.slice(0,0))}(t)||!!t._isBuffer)}},5580:(t,e,i)=>{var n=i(6110)(i(9325),"DataView");t.exports=n},1549:(t,e,i)=>{var n=i(2032),s=i(3862),r=i(6721),a=i(2749),o=i(5749);function l(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=s,l.prototype.get=r,l.prototype.has=a,l.prototype.set=o,t.exports=l},79:(t,e,i)=>{var n=i(3702),s=i(80),r=i(4739),a=i(8655),o=i(1175);function l(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=s,l.prototype.get=r,l.prototype.has=a,l.prototype.set=o,t.exports=l},8223:(t,e,i)=>{var n=i(6110)(i(9325),"Map");t.exports=n},3661:(t,e,i)=>{var n=i(3040),s=i(7670),r=i(289),a=i(4509),o=i(2949);function l(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=s,l.prototype.get=r,l.prototype.has=a,l.prototype.set=o,t.exports=l},2804:(t,e,i)=>{var n=i(6110)(i(9325),"Promise");t.exports=n},6545:(t,e,i)=>{var n=i(6110)(i(9325),"Set");t.exports=n},7217:(t,e,i)=>{var n=i(79),s=i(1420),r=i(938),a=i(3605),o=i(9817),l=i(945);function c(t){var e=this.__data__=new n(t);this.size=e.size}c.prototype.clear=s,c.prototype.delete=r,c.prototype.get=a,c.prototype.has=o,c.prototype.set=l,t.exports=c},1873:(t,e,i)=>{var n=i(9325).Symbol;t.exports=n},7828:(t,e,i)=>{var n=i(9325).Uint8Array;t.exports=n},8303:(t,e,i)=>{var n=i(6110)(i(9325),"WeakMap");t.exports=n},1033:t=>{t.exports=function(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}},3729:t=>{t.exports=function(t,e){for(var i=-1,n=null==t?0:t.length;++i<n&&!1!==e(t[i],i,t););return t}},9770:t=>{t.exports=function(t,e){for(var i=-1,n=null==t?0:t.length,s=0,r=[];++i<n;){var a=t[i];e(a,i,t)&&(r[s++]=a)}return r}},695:(t,e,i)=>{var n=i(8096),s=i(2428),r=i(6449),a=i(3656),o=i(361),l=i(7167),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var i=r(t),h=!i&&s(t),d=!i&&!h&&a(t),p=!i&&!h&&!d&&l(t),u=i||h||d||p,g=u?n(t.length,String):[],f=g.length;for(var m in t)!e&&!c.call(t,m)||u&&("length"==m||d&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||o(m,f))||g.push(m);return g}},4932:t=>{t.exports=function(t,e){for(var i=-1,n=null==t?0:t.length,s=Array(n);++i<n;)s[i]=e(t[i],i,t);return s}},4528:t=>{t.exports=function(t,e){for(var i=-1,n=e.length,s=t.length;++i<n;)t[s+i]=e[i];return t}},7805:(t,e,i)=>{var n=i(3360),s=i(5288);t.exports=function(t,e,i){(void 0!==i&&!s(t[e],i)||void 0===i&&!(e in t))&&n(t,e,i)}},6547:(t,e,i)=>{var n=i(3360),s=i(5288),r=Object.prototype.hasOwnProperty;t.exports=function(t,e,i){var a=t[e];r.call(t,e)&&s(a,i)&&(void 0!==i||e in t)||n(t,e,i)}},6025:(t,e,i)=>{var n=i(5288);t.exports=function(t,e){for(var i=t.length;i--;)if(n(t[i][0],e))return i;return-1}},4733:(t,e,i)=>{var n=i(1791),s=i(5950);t.exports=function(t,e){return t&&n(e,s(e),t)}},3838:(t,e,i)=>{var n=i(1791),s=i(7241);t.exports=function(t,e){return t&&n(e,s(e),t)}},3360:(t,e,i)=>{var n=i(3243);t.exports=function(t,e,i){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}},9999:(t,e,i)=>{var n=i(7217),s=i(3729),r=i(6547),a=i(4733),o=i(3838),l=i(3290),c=i(3007),h=i(2271),d=i(8948),p=i(2),u=i(3349),g=i(5861),f=i(6189),m=i(7199),v=i(5529),y=i(6449),x=i(3656),b=i(7730),w=i(3805),_=i(8440),C=i(5950),S=i(7241),T="[object Arguments]",k="[object Function]",E="[object Object]",P={};P[T]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object DataView]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Map]"]=P["[object Number]"]=P[E]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object Symbol]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Error]"]=P[k]=P["[object WeakMap]"]=!1,t.exports=function t(e,i,L,I,M,A){var O,R=1&i,D=2&i,j=4&i;if(L&&(O=M?L(e,I,M,A):L(e)),void 0!==O)return O;if(!w(e))return e;var $=y(e);if($){if(O=f(e),!R)return c(e,O)}else{var F=g(e),z=F==k||"[object GeneratorFunction]"==F;if(x(e))return l(e,R);if(F==E||F==T||z&&!M){if(O=D||z?{}:v(e),!R)return D?d(e,o(O,e)):h(e,a(O,e))}else{if(!P[F])return M?e:{};O=m(e,F,R)}}A||(A=new n);var B=A.get(e);if(B)return B;A.set(e,O),_(e)?e.forEach((function(n){O.add(t(n,i,L,n,e,A))})):b(e)&&e.forEach((function(n,s){O.set(s,t(n,i,L,s,e,A))}));var N=$?void 0:(j?D?u:p:D?S:C)(e);return s(N||e,(function(n,s){N&&(n=e[s=n]),r(O,s,t(n,i,L,s,e,A))})),O}},9344:(t,e,i)=>{var n=i(3805),s=Object.create,r=function(){function t(){}return function(e){if(!n(e))return{};if(s)return s(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}();t.exports=r},3120:(t,e,i)=>{var n=i(4528),s=i(5891);t.exports=function t(e,i,r,a,o){var l=-1,c=e.length;for(r||(r=s),o||(o=[]);++l<c;){var h=e[l];i>0&&r(h)?i>1?t(h,i-1,r,a,o):n(o,h):a||(o[o.length]=h)}return o}},6649:(t,e,i)=>{var n=i(3221)();t.exports=n},7422:(t,e,i)=>{var n=i(1769),s=i(7797);t.exports=function(t,e){for(var i=0,r=(e=n(e,t)).length;null!=t&&i<r;)t=t[s(e[i++])];return i&&i==r?t:void 0}},2199:(t,e,i)=>{var n=i(4528),s=i(6449);t.exports=function(t,e,i){var r=e(t);return s(t)?r:n(r,i(t))}},2552:(t,e,i)=>{var n=i(1873),s=i(659),r=i(9350),a=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?s(t):r(t)}},7534:(t,e,i)=>{var n=i(2552),s=i(346);t.exports=function(t){return s(t)&&"[object Arguments]"==n(t)}},9172:(t,e,i)=>{var n=i(5861),s=i(346);t.exports=function(t){return s(t)&&"[object Map]"==n(t)}},5083:(t,e,i)=>{var n=i(1882),s=i(7296),r=i(3805),a=i(7473),o=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,h=l.toString,d=c.hasOwnProperty,p=RegExp("^"+h.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!r(t)||s(t))&&(n(t)?p:o).test(a(t))}},6038:(t,e,i)=>{var n=i(5861),s=i(346);t.exports=function(t){return s(t)&&"[object Set]"==n(t)}},4901:(t,e,i)=>{var n=i(2552),s=i(294),r=i(346),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return r(t)&&s(t.length)&&!!a[n(t)]}},8984:(t,e,i)=>{var n=i(5527),s=i(3650),r=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return s(t);var e=[];for(var i in Object(t))r.call(t,i)&&"constructor"!=i&&e.push(i);return e}},2903:(t,e,i)=>{var n=i(3805),s=i(5527),r=i(181),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return r(t);var e=s(t),i=[];for(var o in t)("constructor"!=o||!e&&a.call(t,o))&&i.push(o);return i}},5250:(t,e,i)=>{var n=i(7217),s=i(7805),r=i(6649),a=i(2824),o=i(3805),l=i(7241),c=i(4974);t.exports=function t(e,i,h,d,p){e!==i&&r(i,(function(r,l){if(p||(p=new n),o(r))a(e,i,l,h,t,d,p);else{var u=d?d(c(e,l),r,l+"",e,i,p):void 0;void 0===u&&(u=r),s(e,l,u)}}),l)}},2824:(t,e,i)=>{var n=i(7805),s=i(3290),r=i(1961),a=i(3007),o=i(5529),l=i(2428),c=i(6449),h=i(3693),d=i(3656),p=i(1882),u=i(3805),g=i(1331),f=i(7167),m=i(4974),v=i(9884);t.exports=function(t,e,i,y,x,b,w){var _=m(t,i),C=m(e,i),S=w.get(C);if(S)n(t,i,S);else{var T=b?b(_,C,i+"",t,e,w):void 0,k=void 0===T;if(k){var E=c(C),P=!E&&d(C),L=!E&&!P&&f(C);T=C,E||P||L?c(_)?T=_:h(_)?T=a(_):P?(k=!1,T=s(C,!0)):L?(k=!1,T=r(C,!0)):T=[]:g(C)||l(C)?(T=_,l(_)?T=v(_):u(_)&&!p(_)||(T=o(C))):k=!1}k&&(w.set(C,T),x(T,C,y,b,w),w.delete(C)),n(t,i,T)}}},9302:(t,e,i)=>{var n=i(3488),s=i(6757),r=i(2865);t.exports=function(t,e){return r(s(t,e,n),t+"")}},9570:(t,e,i)=>{var n=i(7334),s=i(3243),r=i(3488),a=s?function(t,e){return s(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:r;t.exports=a},5160:t=>{t.exports=function(t,e,i){var n=-1,s=t.length;e<0&&(e=-e>s?0:s+e),(i=i>s?s:i)<0&&(i+=s),s=e>i?0:i-e>>>0,e>>>=0;for(var r=Array(s);++n<s;)r[n]=t[n+e];return r}},8096:t=>{t.exports=function(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}},7556:(t,e,i)=>{var n=i(1873),s=i(4932),r=i(6449),a=i(4394),o=n?n.prototype:void 0,l=o?o.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(r(e))return s(e,t)+"";if(a(e))return l?l.call(e):"";var i=e+"";return"0"==i&&1/e==-1/0?"-0":i}},7301:t=>{t.exports=function(t){return function(e){return t(e)}}},9931:(t,e,i)=>{var n=i(1769),s=i(8090),r=i(8969),a=i(7797);t.exports=function(t,e){return e=n(e,t),null==(t=r(t,e))||delete t[a(s(e))]}},1769:(t,e,i)=>{var n=i(6449),s=i(8586),r=i(1802),a=i(3222);t.exports=function(t,e){return n(t)?t:s(t,e)?[t]:r(a(t))}},9653:(t,e,i)=>{var n=i(7828);t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},3290:(t,e,i)=>{t=i.nmd(t);var n=i(9325),s=e&&!e.nodeType&&e,r=s&&t&&!t.nodeType&&t,a=r&&r.exports===s?n.Buffer:void 0,o=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var i=t.length,n=o?o(i):new t.constructor(i);return t.copy(n),n}},6169:(t,e,i)=>{var n=i(9653);t.exports=function(t,e){var i=e?n(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}},3201:t=>{var e=/\w*$/;t.exports=function(t){var i=new t.constructor(t.source,e.exec(t));return i.lastIndex=t.lastIndex,i}},3736:(t,e,i)=>{var n=i(1873),s=n?n.prototype:void 0,r=s?s.valueOf:void 0;t.exports=function(t){return r?Object(r.call(t)):{}}},1961:(t,e,i)=>{var n=i(9653);t.exports=function(t,e){var i=e?n(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}},3007:t=>{t.exports=function(t,e){var i=-1,n=t.length;for(e||(e=Array(n));++i<n;)e[i]=t[i];return e}},1791:(t,e,i)=>{var n=i(6547),s=i(3360);t.exports=function(t,e,i,r){var a=!i;i||(i={});for(var o=-1,l=e.length;++o<l;){var c=e[o],h=r?r(i[c],t[c],c,i,t):void 0;void 0===h&&(h=t[c]),a?s(i,c,h):n(i,c,h)}return i}},2271:(t,e,i)=>{var n=i(1791),s=i(4664);t.exports=function(t,e){return n(t,s(t),e)}},8948:(t,e,i)=>{var n=i(1791),s=i(6375);t.exports=function(t,e){return n(t,s(t),e)}},5481:(t,e,i)=>{var n=i(9325)["__core-js_shared__"];t.exports=n},999:(t,e,i)=>{var n=i(9302),s=i(6800);t.exports=function(t){return n((function(e,i){var n=-1,r=i.length,a=r>1?i[r-1]:void 0,o=r>2?i[2]:void 0;for(a=t.length>3&&"function"==typeof a?(r--,a):void 0,o&&s(i[0],i[1],o)&&(a=r<3?void 0:a,r=1),e=Object(e);++n<r;){var l=i[n];l&&t(e,l,n,a)}return e}))}},3221:t=>{t.exports=function(t){return function(e,i,n){for(var s=-1,r=Object(e),a=n(e),o=a.length;o--;){var l=a[t?o:++s];if(!1===i(r[l],l,r))break}return e}}},3138:(t,e,i)=>{var n=i(1331);t.exports=function(t){return n(t)?void 0:t}},3243:(t,e,i)=>{var n=i(6110),s=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=s},8816:(t,e,i)=>{var n=i(5970),s=i(6757),r=i(2865);t.exports=function(t){return r(s(t,void 0,n),t+"")}},4840:(t,e,i)=>{var n="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g;t.exports=n},2:(t,e,i)=>{var n=i(2199),s=i(4664),r=i(5950);t.exports=function(t){return n(t,r,s)}},3349:(t,e,i)=>{var n=i(2199),s=i(6375),r=i(7241);t.exports=function(t){return n(t,r,s)}},2651:(t,e,i)=>{var n=i(4218);t.exports=function(t,e){var i=t.__data__;return n(e)?i["string"==typeof e?"string":"hash"]:i.map}},6110:(t,e,i)=>{var n=i(5083),s=i(392);t.exports=function(t,e){var i=s(t,e);return n(i)?i:void 0}},8879:(t,e,i)=>{var n=i(4335)(Object.getPrototypeOf,Object);t.exports=n},659:(t,e,i)=>{var n=i(1873),s=Object.prototype,r=s.hasOwnProperty,a=s.toString,o=n?n.toStringTag:void 0;t.exports=function(t){var e=r.call(t,o),i=t[o];try{t[o]=void 0;var n=!0}catch(t){}var s=a.call(t);return n&&(e?t[o]=i:delete t[o]),s}},4664:(t,e,i)=>{var n=i(9770),s=i(3345),r=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,o=a?function(t){return null==t?[]:(t=Object(t),n(a(t),(function(e){return r.call(t,e)})))}:s;t.exports=o},6375:(t,e,i)=>{var n=i(4528),s=i(8879),r=i(4664),a=i(3345),o=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)n(e,r(t)),t=s(t);return e}:a;t.exports=o},5861:(t,e,i)=>{var n=i(5580),s=i(8223),r=i(2804),a=i(6545),o=i(8303),l=i(2552),c=i(7473),h="[object Map]",d="[object Promise]",p="[object Set]",u="[object WeakMap]",g="[object DataView]",f=c(n),m=c(s),v=c(r),y=c(a),x=c(o),b=l;(n&&b(new n(new ArrayBuffer(1)))!=g||s&&b(new s)!=h||r&&b(r.resolve())!=d||a&&b(new a)!=p||o&&b(new o)!=u)&&(b=function(t){var e=l(t),i="[object Object]"==e?t.constructor:void 0,n=i?c(i):"";if(n)switch(n){case f:return g;case m:return h;case v:return d;case y:return p;case x:return u}return e}),t.exports=b},392:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},2032:(t,e,i)=>{var n=i(1042);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},3862:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},6721:(t,e,i)=>{var n=i(1042),s=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var i=e[t];return"__lodash_hash_undefined__"===i?void 0:i}return s.call(e,t)?e[t]:void 0}},2749:(t,e,i)=>{var n=i(1042),s=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:s.call(e,t)}},5749:(t,e,i)=>{var n=i(1042);t.exports=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},6189:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t){var i=t.length,n=new t.constructor(i);return i&&"string"==typeof t[0]&&e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}},7199:(t,e,i)=>{var n=i(9653),s=i(6169),r=i(3201),a=i(3736),o=i(1961);t.exports=function(t,e,i){var l=t.constructor;switch(e){case"[object ArrayBuffer]":return n(t);case"[object Boolean]":case"[object Date]":return new l(+t);case"[object DataView]":return s(t,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return o(t,i);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(t);case"[object RegExp]":return r(t);case"[object Symbol]":return a(t)}}},5529:(t,e,i)=>{var n=i(9344),s=i(8879),r=i(5527);t.exports=function(t){return"function"!=typeof t.constructor||r(t)?{}:n(s(t))}},5891:(t,e,i)=>{var n=i(1873),s=i(2428),r=i(6449),a=n?n.isConcatSpreadable:void 0;t.exports=function(t){return r(t)||s(t)||!!(a&&t&&t[a])}},361:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,i){var n=typeof t;return!!(i=null==i?9007199254740991:i)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<i}},6800:(t,e,i)=>{var n=i(5288),s=i(4894),r=i(361),a=i(3805);t.exports=function(t,e,i){if(!a(i))return!1;var o=typeof e;return!!("number"==o?s(i)&&r(e,i.length):"string"==o&&e in i)&&n(i[e],t)}},8586:(t,e,i)=>{var n=i(6449),s=i(4394),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(n(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!s(t))||(a.test(t)||!r.test(t)||null!=e&&t in Object(e))}},4218:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},7296:(t,e,i)=>{var n,s=i(5481),r=(n=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!r&&r in t}},5527:t=>{var e=Object.prototype;t.exports=function(t){var i=t&&t.constructor;return t===("function"==typeof i&&i.prototype||e)}},3702:t=>{t.exports=function(){this.__data__=[],this.size=0}},80:(t,e,i)=>{var n=i(6025),s=Array.prototype.splice;t.exports=function(t){var e=this.__data__,i=n(e,t);return!(i<0)&&(i==e.length-1?e.pop():s.call(e,i,1),--this.size,!0)}},4739:(t,e,i)=>{var n=i(6025);t.exports=function(t){var e=this.__data__,i=n(e,t);return i<0?void 0:e[i][1]}},8655:(t,e,i)=>{var n=i(6025);t.exports=function(t){return n(this.__data__,t)>-1}},1175:(t,e,i)=>{var n=i(6025);t.exports=function(t,e){var i=this.__data__,s=n(i,t);return s<0?(++this.size,i.push([t,e])):i[s][1]=e,this}},3040:(t,e,i)=>{var n=i(1549),s=i(79),r=i(8223);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(r||s),string:new n}}},7670:(t,e,i)=>{var n=i(2651);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},289:(t,e,i)=>{var n=i(2651);t.exports=function(t){return n(this,t).get(t)}},4509:(t,e,i)=>{var n=i(2651);t.exports=function(t){return n(this,t).has(t)}},2949:(t,e,i)=>{var n=i(2651);t.exports=function(t,e){var i=n(this,t),s=i.size;return i.set(t,e),this.size+=i.size==s?0:1,this}},2224:(t,e,i)=>{var n=i(104);t.exports=function(t){var e=n(t,(function(t){return 500===i.size&&i.clear(),t})),i=e.cache;return e}},1042:(t,e,i)=>{var n=i(6110)(Object,"create");t.exports=n},3650:(t,e,i)=>{var n=i(4335)(Object.keys,Object);t.exports=n},181:t=>{t.exports=function(t){var e=[];if(null!=t)for(var i in Object(t))e.push(i);return e}},6009:(t,e,i)=>{t=i.nmd(t);var n=i(4840),s=e&&!e.nodeType&&e,r=s&&t&&!t.nodeType&&t,a=r&&r.exports===s&&n.process,o=function(){try{var t=r&&r.require&&r.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=o},9350:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},4335:t=>{t.exports=function(t,e){return function(i){return t(e(i))}}},6757:(t,e,i)=>{var n=i(1033),s=Math.max;t.exports=function(t,e,i){return e=s(void 0===e?t.length-1:e,0),function(){for(var r=arguments,a=-1,o=s(r.length-e,0),l=Array(o);++a<o;)l[a]=r[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=r[a];return c[e]=i(l),n(t,this,c)}}},8969:(t,e,i)=>{var n=i(7422),s=i(5160);t.exports=function(t,e){return e.length<2?t:n(t,s(e,0,-1))}},9325:(t,e,i)=>{var n=i(4840),s="object"==typeof self&&self&&self.Object===Object&&self,r=n||s||Function("return this")();t.exports=r},4974:t=>{t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},2865:(t,e,i)=>{var n=i(9570),s=i(1811)(n);t.exports=s},1811:t=>{var e=Date.now;t.exports=function(t){var i=0,n=0;return function(){var s=e(),r=16-(s-n);if(n=s,r>0){if(++i>=800)return arguments[0]}else i=0;return t.apply(void 0,arguments)}}},1420:(t,e,i)=>{var n=i(79);t.exports=function(){this.__data__=new n,this.size=0}},938:t=>{t.exports=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}},3605:t=>{t.exports=function(t){return this.__data__.get(t)}},9817:t=>{t.exports=function(t){return this.__data__.has(t)}},945:(t,e,i)=>{var n=i(79),s=i(8223),r=i(3661);t.exports=function(t,e){var i=this.__data__;if(i instanceof n){var a=i.__data__;if(!s||a.length<199)return a.push([t,e]),this.size=++i.size,this;i=this.__data__=new r(a)}return i.set(t,e),this.size=i.size,this}},1802:(t,e,i)=>{var n=i(2224),s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,a=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(s,(function(t,i,n,s){e.push(n?s.replace(r,"$1"):i||t)})),e}));t.exports=a},7797:(t,e,i)=>{var n=i(4394);t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},7473:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},7334:t=>{t.exports=function(t){return function(){return t}}},5288:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},5970:(t,e,i)=>{var n=i(3120);t.exports=function(t){return(null==t?0:t.length)?n(t,1):[]}},3488:t=>{t.exports=function(t){return t}},2428:(t,e,i)=>{var n=i(7534),s=i(346),r=Object.prototype,a=r.hasOwnProperty,o=r.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(t){return s(t)&&a.call(t,"callee")&&!o.call(t,"callee")};t.exports=l},6449:t=>{var e=Array.isArray;t.exports=e},4894:(t,e,i)=>{var n=i(1882),s=i(294);t.exports=function(t){return null!=t&&s(t.length)&&!n(t)}},3693:(t,e,i)=>{var n=i(4894),s=i(346);t.exports=function(t){return s(t)&&n(t)}},3656:(t,e,i)=>{t=i.nmd(t);var n=i(9325),s=i(9935),r=e&&!e.nodeType&&e,a=r&&t&&!t.nodeType&&t,o=a&&a.exports===r?n.Buffer:void 0,l=(o?o.isBuffer:void 0)||s;t.exports=l},1882:(t,e,i)=>{var n=i(2552),s=i(3805);t.exports=function(t){if(!s(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},294:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},7730:(t,e,i)=>{var n=i(9172),s=i(7301),r=i(6009),a=r&&r.isMap,o=a?s(a):n;t.exports=o},3805:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},346:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},1331:(t,e,i)=>{var n=i(2552),s=i(8879),r=i(346),a=Function.prototype,o=Object.prototype,l=a.toString,c=o.hasOwnProperty,h=l.call(Object);t.exports=function(t){if(!r(t)||"[object Object]"!=n(t))return!1;var e=s(t);if(null===e)return!0;var i=c.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&l.call(i)==h}},8440:(t,e,i)=>{var n=i(6038),s=i(7301),r=i(6009),a=r&&r.isSet,o=a?s(a):n;t.exports=o},4394:(t,e,i)=>{var n=i(2552),s=i(346);t.exports=function(t){return"symbol"==typeof t||s(t)&&"[object Symbol]"==n(t)}},7167:(t,e,i)=>{var n=i(4901),s=i(7301),r=i(6009),a=r&&r.isTypedArray,o=a?s(a):n;t.exports=o},5950:(t,e,i)=>{var n=i(695),s=i(8984),r=i(4894);t.exports=function(t){return r(t)?n(t):s(t)}},7241:(t,e,i)=>{var n=i(695),s=i(2903),r=i(4894);t.exports=function(t){return r(t)?n(t,!0):s(t)}},8090:t=>{t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},2543:function(t,e,i){var n;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */t=i.nmd(t),function(){var s,r="Expected a function",a="__lodash_hash_undefined__",o="__lodash_placeholder__",l=16,c=32,h=64,d=128,p=256,u=1/0,g=9007199254740991,f=NaN,m=4294967295,v=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",h],["rearg",p]],y="[object Arguments]",x="[object Array]",b="[object Boolean]",w="[object Date]",_="[object Error]",C="[object Function]",S="[object GeneratorFunction]",T="[object Map]",k="[object Number]",E="[object Object]",P="[object Promise]",L="[object RegExp]",I="[object Set]",M="[object String]",A="[object Symbol]",O="[object WeakMap]",R="[object ArrayBuffer]",D="[object DataView]",j="[object Float32Array]",$="[object Float64Array]",F="[object Int8Array]",z="[object Int16Array]",B="[object Int32Array]",N="[object Uint8Array]",V="[object Uint8ClampedArray]",H="[object Uint16Array]",U="[object Uint32Array]",q=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,Z=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,G=/[&<>"']/g,Y=RegExp(K.source),X=RegExp(G.source),J=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,it=/^\w*$/,nt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,st=/[\\^$.*+?()[\]{}|]/g,rt=RegExp(st.source),at=/^\s+/,ot=/\s/,lt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ct=/\{\n\/\* \[wrapped with (.+)\] \*/,ht=/,? & /,dt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,pt=/[()=,{}\[\]\/\s]/,ut=/\\(\\)?/g,gt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ft=/\w*$/,mt=/^[-+]0x[0-9a-f]+$/i,vt=/^0b[01]+$/i,yt=/^\[object .+?Constructor\]$/,xt=/^0o[0-7]+$/i,bt=/^(?:0|[1-9]\d*)$/,wt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_t=/($^)/,Ct=/['\n\r\u2028\u2029\\]/g,St="\\ud800-\\udfff",Tt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",kt="\\u2700-\\u27bf",Et="a-z\\xdf-\\xf6\\xf8-\\xff",Pt="A-Z\\xc0-\\xd6\\xd8-\\xde",Lt="\\ufe0e\\ufe0f",It="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Mt="[']",At="["+St+"]",Ot="["+It+"]",Rt="["+Tt+"]",Dt="\\d+",jt="["+kt+"]",$t="["+Et+"]",Ft="[^"+St+It+Dt+kt+Et+Pt+"]",zt="\\ud83c[\\udffb-\\udfff]",Bt="[^"+St+"]",Nt="(?:\\ud83c[\\udde6-\\uddff]){2}",Vt="[\\ud800-\\udbff][\\udc00-\\udfff]",Ht="["+Pt+"]",Ut="\\u200d",qt="(?:"+$t+"|"+Ft+")",Wt="(?:"+Ht+"|"+Ft+")",Zt="(?:['](?:d|ll|m|re|s|t|ve))?",Kt="(?:['](?:D|LL|M|RE|S|T|VE))?",Gt="(?:"+Rt+"|"+zt+")"+"?",Yt="["+Lt+"]?",Xt=Yt+Gt+("(?:"+Ut+"(?:"+[Bt,Nt,Vt].join("|")+")"+Yt+Gt+")*"),Jt="(?:"+[jt,Nt,Vt].join("|")+")"+Xt,Qt="(?:"+[Bt+Rt+"?",Rt,Nt,Vt,At].join("|")+")",te=RegExp(Mt,"g"),ee=RegExp(Rt,"g"),ie=RegExp(zt+"(?="+zt+")|"+Qt+Xt,"g"),ne=RegExp([Ht+"?"+$t+"+"+Zt+"(?="+[Ot,Ht,"$"].join("|")+")",Wt+"+"+Kt+"(?="+[Ot,Ht+qt,"$"].join("|")+")",Ht+"?"+qt+"+"+Zt,Ht+"+"+Kt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Dt,Jt].join("|"),"g"),se=RegExp("["+Ut+St+Tt+Lt+"]"),re=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ae=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],oe=-1,le={};le[j]=le[$]=le[F]=le[z]=le[B]=le[N]=le[V]=le[H]=le[U]=!0,le[y]=le[x]=le[R]=le[b]=le[D]=le[w]=le[_]=le[C]=le[T]=le[k]=le[E]=le[L]=le[I]=le[M]=le[O]=!1;var ce={};ce[y]=ce[x]=ce[R]=ce[D]=ce[b]=ce[w]=ce[j]=ce[$]=ce[F]=ce[z]=ce[B]=ce[T]=ce[k]=ce[E]=ce[L]=ce[I]=ce[M]=ce[A]=ce[N]=ce[V]=ce[H]=ce[U]=!0,ce[_]=ce[C]=ce[O]=!1;var he={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},de=parseFloat,pe=parseInt,ue="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,ge="object"==typeof self&&self&&self.Object===Object&&self,fe=ue||ge||Function("return this")(),me=e&&!e.nodeType&&e,ve=me&&t&&!t.nodeType&&t,ye=ve&&ve.exports===me,xe=ye&&ue.process,be=function(){try{var t=ve&&ve.require&&ve.require("util").types;return t||xe&&xe.binding&&xe.binding("util")}catch(t){}}(),we=be&&be.isArrayBuffer,_e=be&&be.isDate,Ce=be&&be.isMap,Se=be&&be.isRegExp,Te=be&&be.isSet,ke=be&&be.isTypedArray;function Ee(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function Pe(t,e,i,n){for(var s=-1,r=null==t?0:t.length;++s<r;){var a=t[s];e(n,a,i(a),t)}return n}function Le(t,e){for(var i=-1,n=null==t?0:t.length;++i<n&&!1!==e(t[i],i,t););return t}function Ie(t,e){for(var i=null==t?0:t.length;i--&&!1!==e(t[i],i,t););return t}function Me(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(!e(t[i],i,t))return!1;return!0}function Ae(t,e){for(var i=-1,n=null==t?0:t.length,s=0,r=[];++i<n;){var a=t[i];e(a,i,t)&&(r[s++]=a)}return r}function Oe(t,e){return!!(null==t?0:t.length)&&He(t,e,0)>-1}function Re(t,e,i){for(var n=-1,s=null==t?0:t.length;++n<s;)if(i(e,t[n]))return!0;return!1}function De(t,e){for(var i=-1,n=null==t?0:t.length,s=Array(n);++i<n;)s[i]=e(t[i],i,t);return s}function je(t,e){for(var i=-1,n=e.length,s=t.length;++i<n;)t[s+i]=e[i];return t}function $e(t,e,i,n){var s=-1,r=null==t?0:t.length;for(n&&r&&(i=t[++s]);++s<r;)i=e(i,t[s],s,t);return i}function Fe(t,e,i,n){var s=null==t?0:t.length;for(n&&s&&(i=t[--s]);s--;)i=e(i,t[s],s,t);return i}function ze(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(e(t[i],i,t))return!0;return!1}var Be=Ze("length");function Ne(t,e,i){var n;return i(t,(function(t,i,s){if(e(t,i,s))return n=i,!1})),n}function Ve(t,e,i,n){for(var s=t.length,r=i+(n?1:-1);n?r--:++r<s;)if(e(t[r],r,t))return r;return-1}function He(t,e,i){return e==e?function(t,e,i){var n=i-1,s=t.length;for(;++n<s;)if(t[n]===e)return n;return-1}(t,e,i):Ve(t,qe,i)}function Ue(t,e,i,n){for(var s=i-1,r=t.length;++s<r;)if(n(t[s],e))return s;return-1}function qe(t){return t!=t}function We(t,e){var i=null==t?0:t.length;return i?Ye(t,e)/i:f}function Ze(t){return function(e){return null==e?s:e[t]}}function Ke(t){return function(e){return null==t?s:t[e]}}function Ge(t,e,i,n,s){return s(t,(function(t,s,r){i=n?(n=!1,t):e(i,t,s,r)})),i}function Ye(t,e){for(var i,n=-1,r=t.length;++n<r;){var a=e(t[n]);a!==s&&(i=i===s?a:i+a)}return i}function Xe(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}function Je(t){return t?t.slice(0,fi(t)+1).replace(at,""):t}function Qe(t){return function(e){return t(e)}}function ti(t,e){return De(e,(function(e){return t[e]}))}function ei(t,e){return t.has(e)}function ii(t,e){for(var i=-1,n=t.length;++i<n&&He(e,t[i],0)>-1;);return i}function ni(t,e){for(var i=t.length;i--&&He(e,t[i],0)>-1;);return i}var si=Ke({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),ri=Ke({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ai(t){return"\\"+he[t]}function oi(t){return se.test(t)}function li(t){var e=-1,i=Array(t.size);return t.forEach((function(t,n){i[++e]=[n,t]})),i}function ci(t,e){return function(i){return t(e(i))}}function hi(t,e){for(var i=-1,n=t.length,s=0,r=[];++i<n;){var a=t[i];a!==e&&a!==o||(t[i]=o,r[s++]=i)}return r}function di(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=t})),i}function pi(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=[t,t]})),i}function ui(t){return oi(t)?function(t){var e=ie.lastIndex=0;for(;ie.test(t);)++e;return e}(t):Be(t)}function gi(t){return oi(t)?function(t){return t.match(ie)||[]}(t):function(t){return t.split("")}(t)}function fi(t){for(var e=t.length;e--&&ot.test(t.charAt(e)););return e}var mi=Ke({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var vi=function t(e){var i,n=(e=null==e?fe:vi.defaults(fe.Object(),e,vi.pick(fe,ae))).Array,ot=e.Date,St=e.Error,Tt=e.Function,kt=e.Math,Et=e.Object,Pt=e.RegExp,Lt=e.String,It=e.TypeError,Mt=n.prototype,At=Tt.prototype,Ot=Et.prototype,Rt=e["__core-js_shared__"],Dt=At.toString,jt=Ot.hasOwnProperty,$t=0,Ft=(i=/[^.]+$/.exec(Rt&&Rt.keys&&Rt.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",zt=Ot.toString,Bt=Dt.call(Et),Nt=fe._,Vt=Pt("^"+Dt.call(jt).replace(st,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ht=ye?e.Buffer:s,Ut=e.Symbol,qt=e.Uint8Array,Wt=Ht?Ht.allocUnsafe:s,Zt=ci(Et.getPrototypeOf,Et),Kt=Et.create,Gt=Ot.propertyIsEnumerable,Yt=Mt.splice,Xt=Ut?Ut.isConcatSpreadable:s,Jt=Ut?Ut.iterator:s,Qt=Ut?Ut.toStringTag:s,ie=function(){try{var t=pr(Et,"defineProperty");return t({},"",{}),t}catch(t){}}(),se=e.clearTimeout!==fe.clearTimeout&&e.clearTimeout,he=ot&&ot.now!==fe.Date.now&&ot.now,ue=e.setTimeout!==fe.setTimeout&&e.setTimeout,ge=kt.ceil,me=kt.floor,ve=Et.getOwnPropertySymbols,xe=Ht?Ht.isBuffer:s,be=e.isFinite,Be=Mt.join,Ke=ci(Et.keys,Et),yi=kt.max,xi=kt.min,bi=ot.now,wi=e.parseInt,_i=kt.random,Ci=Mt.reverse,Si=pr(e,"DataView"),Ti=pr(e,"Map"),ki=pr(e,"Promise"),Ei=pr(e,"Set"),Pi=pr(e,"WeakMap"),Li=pr(Et,"create"),Ii=Pi&&new Pi,Mi={},Ai=Fr(Si),Oi=Fr(Ti),Ri=Fr(ki),Di=Fr(Ei),ji=Fr(Pi),$i=Ut?Ut.prototype:s,Fi=$i?$i.valueOf:s,zi=$i?$i.toString:s;function Bi(t){if(eo(t)&&!Ua(t)&&!(t instanceof Ui)){if(t instanceof Hi)return t;if(jt.call(t,"__wrapped__"))return zr(t)}return new Hi(t)}var Ni=function(){function t(){}return function(e){if(!to(e))return{};if(Kt)return Kt(e);t.prototype=e;var i=new t;return t.prototype=s,i}}();function Vi(){}function Hi(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=s}function Ui(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function qi(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function Wi(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function Zi(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function Ki(t){var e=-1,i=null==t?0:t.length;for(this.__data__=new Zi;++e<i;)this.add(t[e])}function Gi(t){var e=this.__data__=new Wi(t);this.size=e.size}function Yi(t,e){var i=Ua(t),n=!i&&Ha(t),s=!i&&!n&&Ka(t),r=!i&&!n&&!s&&co(t),a=i||n||s||r,o=a?Xe(t.length,Lt):[],l=o.length;for(var c in t)!e&&!jt.call(t,c)||a&&("length"==c||s&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||xr(c,l))||o.push(c);return o}function Xi(t){var e=t.length;return e?t[Gn(0,e-1)]:s}function Ji(t,e){return Dr(Is(t),ln(e,0,t.length))}function Qi(t){return Dr(Is(t))}function tn(t,e,i){(i!==s&&!Ba(t[e],i)||i===s&&!(e in t))&&an(t,e,i)}function en(t,e,i){var n=t[e];jt.call(t,e)&&Ba(n,i)&&(i!==s||e in t)||an(t,e,i)}function nn(t,e){for(var i=t.length;i--;)if(Ba(t[i][0],e))return i;return-1}function sn(t,e,i,n){return un(t,(function(t,s,r){e(n,t,i(t),r)})),n}function rn(t,e){return t&&Ms(e,Ao(e),t)}function an(t,e,i){"__proto__"==e&&ie?ie(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function on(t,e){for(var i=-1,r=e.length,a=n(r),o=null==t;++i<r;)a[i]=o?s:Eo(t,e[i]);return a}function ln(t,e,i){return t==t&&(i!==s&&(t=t<=i?t:i),e!==s&&(t=t>=e?t:e)),t}function cn(t,e,i,n,r,a){var o,l=1&e,c=2&e,h=4&e;if(i&&(o=r?i(t,n,r,a):i(t)),o!==s)return o;if(!to(t))return t;var d=Ua(t);if(d){if(o=function(t){var e=t.length,i=new t.constructor(e);e&&"string"==typeof t[0]&&jt.call(t,"index")&&(i.index=t.index,i.input=t.input);return i}(t),!l)return Is(t,o)}else{var p=fr(t),u=p==C||p==S;if(Ka(t))return Ss(t,l);if(p==E||p==y||u&&!r){if(o=c||u?{}:vr(t),!l)return c?function(t,e){return Ms(t,gr(t),e)}(t,function(t,e){return t&&Ms(e,Oo(e),t)}(o,t)):function(t,e){return Ms(t,ur(t),e)}(t,rn(o,t))}else{if(!ce[p])return r?t:{};o=function(t,e,i){var n=t.constructor;switch(e){case R:return Ts(t);case b:case w:return new n(+t);case D:return function(t,e){var i=e?Ts(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}(t,i);case j:case $:case F:case z:case B:case N:case V:case H:case U:return ks(t,i);case T:return new n;case k:case M:return new n(t);case L:return function(t){var e=new t.constructor(t.source,ft.exec(t));return e.lastIndex=t.lastIndex,e}(t);case I:return new n;case A:return s=t,Fi?Et(Fi.call(s)):{}}var s}(t,p,l)}}a||(a=new Gi);var g=a.get(t);if(g)return g;a.set(t,o),ao(t)?t.forEach((function(n){o.add(cn(n,e,i,n,t,a))})):io(t)&&t.forEach((function(n,s){o.set(s,cn(n,e,i,s,t,a))}));var f=d?s:(h?c?rr:sr:c?Oo:Ao)(t);return Le(f||t,(function(n,s){f&&(n=t[s=n]),en(o,s,cn(n,e,i,s,t,a))})),o}function hn(t,e,i){var n=i.length;if(null==t)return!n;for(t=Et(t);n--;){var r=i[n],a=e[r],o=t[r];if(o===s&&!(r in t)||!a(o))return!1}return!0}function dn(t,e,i){if("function"!=typeof t)throw new It(r);return Mr((function(){t.apply(s,i)}),e)}function pn(t,e,i,n){var s=-1,r=Oe,a=!0,o=t.length,l=[],c=e.length;if(!o)return l;i&&(e=De(e,Qe(i))),n?(r=Re,a=!1):e.length>=200&&(r=ei,a=!1,e=new Ki(e));t:for(;++s<o;){var h=t[s],d=null==i?h:i(h);if(h=n||0!==h?h:0,a&&d==d){for(var p=c;p--;)if(e[p]===d)continue t;l.push(h)}else r(e,d,n)||l.push(h)}return l}Bi.templateSettings={escape:J,evaluate:Q,interpolate:tt,variable:"",imports:{_:Bi}},Bi.prototype=Vi.prototype,Bi.prototype.constructor=Bi,Hi.prototype=Ni(Vi.prototype),Hi.prototype.constructor=Hi,Ui.prototype=Ni(Vi.prototype),Ui.prototype.constructor=Ui,qi.prototype.clear=function(){this.__data__=Li?Li(null):{},this.size=0},qi.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},qi.prototype.get=function(t){var e=this.__data__;if(Li){var i=e[t];return i===a?s:i}return jt.call(e,t)?e[t]:s},qi.prototype.has=function(t){var e=this.__data__;return Li?e[t]!==s:jt.call(e,t)},qi.prototype.set=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=Li&&e===s?a:e,this},Wi.prototype.clear=function(){this.__data__=[],this.size=0},Wi.prototype.delete=function(t){var e=this.__data__,i=nn(e,t);return!(i<0)&&(i==e.length-1?e.pop():Yt.call(e,i,1),--this.size,!0)},Wi.prototype.get=function(t){var e=this.__data__,i=nn(e,t);return i<0?s:e[i][1]},Wi.prototype.has=function(t){return nn(this.__data__,t)>-1},Wi.prototype.set=function(t,e){var i=this.__data__,n=nn(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this},Zi.prototype.clear=function(){this.size=0,this.__data__={hash:new qi,map:new(Ti||Wi),string:new qi}},Zi.prototype.delete=function(t){var e=hr(this,t).delete(t);return this.size-=e?1:0,e},Zi.prototype.get=function(t){return hr(this,t).get(t)},Zi.prototype.has=function(t){return hr(this,t).has(t)},Zi.prototype.set=function(t,e){var i=hr(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this},Ki.prototype.add=Ki.prototype.push=function(t){return this.__data__.set(t,a),this},Ki.prototype.has=function(t){return this.__data__.has(t)},Gi.prototype.clear=function(){this.__data__=new Wi,this.size=0},Gi.prototype.delete=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i},Gi.prototype.get=function(t){return this.__data__.get(t)},Gi.prototype.has=function(t){return this.__data__.has(t)},Gi.prototype.set=function(t,e){var i=this.__data__;if(i instanceof Wi){var n=i.__data__;if(!Ti||n.length<199)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new Zi(n)}return i.set(t,e),this.size=i.size,this};var un=Rs(wn),gn=Rs(_n,!0);function fn(t,e){var i=!0;return un(t,(function(t,n,s){return i=!!e(t,n,s)})),i}function mn(t,e,i){for(var n=-1,r=t.length;++n<r;){var a=t[n],o=e(a);if(null!=o&&(l===s?o==o&&!lo(o):i(o,l)))var l=o,c=a}return c}function vn(t,e){var i=[];return un(t,(function(t,n,s){e(t,n,s)&&i.push(t)})),i}function yn(t,e,i,n,s){var r=-1,a=t.length;for(i||(i=yr),s||(s=[]);++r<a;){var o=t[r];e>0&&i(o)?e>1?yn(o,e-1,i,n,s):je(s,o):n||(s[s.length]=o)}return s}var xn=Ds(),bn=Ds(!0);function wn(t,e){return t&&xn(t,e,Ao)}function _n(t,e){return t&&bn(t,e,Ao)}function Cn(t,e){return Ae(e,(function(e){return Xa(t[e])}))}function Sn(t,e){for(var i=0,n=(e=bs(e,t)).length;null!=t&&i<n;)t=t[$r(e[i++])];return i&&i==n?t:s}function Tn(t,e,i){var n=e(t);return Ua(t)?n:je(n,i(t))}function kn(t){return null==t?t===s?"[object Undefined]":"[object Null]":Qt&&Qt in Et(t)?function(t){var e=jt.call(t,Qt),i=t[Qt];try{t[Qt]=s;var n=!0}catch(t){}var r=zt.call(t);n&&(e?t[Qt]=i:delete t[Qt]);return r}(t):function(t){return zt.call(t)}(t)}function En(t,e){return t>e}function Pn(t,e){return null!=t&&jt.call(t,e)}function Ln(t,e){return null!=t&&e in Et(t)}function In(t,e,i){for(var r=i?Re:Oe,a=t[0].length,o=t.length,l=o,c=n(o),h=1/0,d=[];l--;){var p=t[l];l&&e&&(p=De(p,Qe(e))),h=xi(p.length,h),c[l]=!i&&(e||a>=120&&p.length>=120)?new Ki(l&&p):s}p=t[0];var u=-1,g=c[0];t:for(;++u<a&&d.length<h;){var f=p[u],m=e?e(f):f;if(f=i||0!==f?f:0,!(g?ei(g,m):r(d,m,i))){for(l=o;--l;){var v=c[l];if(!(v?ei(v,m):r(t[l],m,i)))continue t}g&&g.push(m),d.push(f)}}return d}function Mn(t,e,i){var n=null==(t=Pr(t,e=bs(e,t)))?t:t[$r(Yr(e))];return null==n?s:Ee(n,t,i)}function An(t){return eo(t)&&kn(t)==y}function On(t,e,i,n,r){return t===e||(null==t||null==e||!eo(t)&&!eo(e)?t!=t&&e!=e:function(t,e,i,n,r,a){var o=Ua(t),l=Ua(e),c=o?x:fr(t),h=l?x:fr(e),d=(c=c==y?E:c)==E,p=(h=h==y?E:h)==E,u=c==h;if(u&&Ka(t)){if(!Ka(e))return!1;o=!0,d=!1}if(u&&!d)return a||(a=new Gi),o||co(t)?ir(t,e,i,n,r,a):function(t,e,i,n,s,r,a){switch(i){case D:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case R:return!(t.byteLength!=e.byteLength||!r(new qt(t),new qt(e)));case b:case w:case k:return Ba(+t,+e);case _:return t.name==e.name&&t.message==e.message;case L:case M:return t==e+"";case T:var o=li;case I:var l=1&n;if(o||(o=di),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;n|=2,a.set(t,e);var h=ir(o(t),o(e),n,s,r,a);return a.delete(t),h;case A:if(Fi)return Fi.call(t)==Fi.call(e)}return!1}(t,e,c,i,n,r,a);if(!(1&i)){var g=d&&jt.call(t,"__wrapped__"),f=p&&jt.call(e,"__wrapped__");if(g||f){var m=g?t.value():t,v=f?e.value():e;return a||(a=new Gi),r(m,v,i,n,a)}}if(!u)return!1;return a||(a=new Gi),function(t,e,i,n,r,a){var o=1&i,l=sr(t),c=l.length,h=sr(e),d=h.length;if(c!=d&&!o)return!1;var p=c;for(;p--;){var u=l[p];if(!(o?u in e:jt.call(e,u)))return!1}var g=a.get(t),f=a.get(e);if(g&&f)return g==e&&f==t;var m=!0;a.set(t,e),a.set(e,t);var v=o;for(;++p<c;){var y=t[u=l[p]],x=e[u];if(n)var b=o?n(x,y,u,e,t,a):n(y,x,u,t,e,a);if(!(b===s?y===x||r(y,x,i,n,a):b)){m=!1;break}v||(v="constructor"==u)}if(m&&!v){var w=t.constructor,_=e.constructor;w==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(m=!1)}return a.delete(t),a.delete(e),m}(t,e,i,n,r,a)}(t,e,i,n,On,r))}function Rn(t,e,i,n){var r=i.length,a=r,o=!n;if(null==t)return!a;for(t=Et(t);r--;){var l=i[r];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++r<a;){var c=(l=i[r])[0],h=t[c],d=l[1];if(o&&l[2]){if(h===s&&!(c in t))return!1}else{var p=new Gi;if(n)var u=n(h,d,c,t,e,p);if(!(u===s?On(d,h,3,n,p):u))return!1}}return!0}function Dn(t){return!(!to(t)||(e=t,Ft&&Ft in e))&&(Xa(t)?Vt:yt).test(Fr(t));var e}function jn(t){return"function"==typeof t?t:null==t?sl:"object"==typeof t?Ua(t)?Vn(t[0],t[1]):Nn(t):ul(t)}function $n(t){if(!Sr(t))return Ke(t);var e=[];for(var i in Et(t))jt.call(t,i)&&"constructor"!=i&&e.push(i);return e}function Fn(t){if(!to(t))return function(t){var e=[];if(null!=t)for(var i in Et(t))e.push(i);return e}(t);var e=Sr(t),i=[];for(var n in t)("constructor"!=n||!e&&jt.call(t,n))&&i.push(n);return i}function zn(t,e){return t<e}function Bn(t,e){var i=-1,s=Wa(t)?n(t.length):[];return un(t,(function(t,n,r){s[++i]=e(t,n,r)})),s}function Nn(t){var e=dr(t);return 1==e.length&&e[0][2]?kr(e[0][0],e[0][1]):function(i){return i===t||Rn(i,t,e)}}function Vn(t,e){return wr(t)&&Tr(e)?kr($r(t),e):function(i){var n=Eo(i,t);return n===s&&n===e?Po(i,t):On(e,n,3)}}function Hn(t,e,i,n,r){t!==e&&xn(e,(function(a,o){if(r||(r=new Gi),to(a))!function(t,e,i,n,r,a,o){var l=Lr(t,i),c=Lr(e,i),h=o.get(c);if(h)return void tn(t,i,h);var d=a?a(l,c,i+"",t,e,o):s,p=d===s;if(p){var u=Ua(c),g=!u&&Ka(c),f=!u&&!g&&co(c);d=c,u||g||f?Ua(l)?d=l:Za(l)?d=Is(l):g?(p=!1,d=Ss(c,!0)):f?(p=!1,d=ks(c,!0)):d=[]:so(c)||Ha(c)?(d=l,Ha(l)?d=yo(l):to(l)&&!Xa(l)||(d=vr(c))):p=!1}p&&(o.set(c,d),r(d,c,n,a,o),o.delete(c));tn(t,i,d)}(t,e,o,i,Hn,n,r);else{var l=n?n(Lr(t,o),a,o+"",t,e,r):s;l===s&&(l=a),tn(t,o,l)}}),Oo)}function Un(t,e){var i=t.length;if(i)return xr(e+=e<0?i:0,i)?t[e]:s}function qn(t,e,i){e=e.length?De(e,(function(t){return Ua(t)?function(e){return Sn(e,1===t.length?t[0]:t)}:t})):[sl];var n=-1;e=De(e,Qe(cr()));var s=Bn(t,(function(t,i,s){var r=De(e,(function(e){return e(t)}));return{criteria:r,index:++n,value:t}}));return function(t,e){var i=t.length;for(t.sort(e);i--;)t[i]=t[i].value;return t}(s,(function(t,e){return function(t,e,i){var n=-1,s=t.criteria,r=e.criteria,a=s.length,o=i.length;for(;++n<a;){var l=Es(s[n],r[n]);if(l)return n>=o?l:l*("desc"==i[n]?-1:1)}return t.index-e.index}(t,e,i)}))}function Wn(t,e,i){for(var n=-1,s=e.length,r={};++n<s;){var a=e[n],o=Sn(t,a);i(o,a)&&ts(r,bs(a,t),o)}return r}function Zn(t,e,i,n){var s=n?Ue:He,r=-1,a=e.length,o=t;for(t===e&&(e=Is(e)),i&&(o=De(t,Qe(i)));++r<a;)for(var l=0,c=e[r],h=i?i(c):c;(l=s(o,h,l,n))>-1;)o!==t&&Yt.call(o,l,1),Yt.call(t,l,1);return t}function Kn(t,e){for(var i=t?e.length:0,n=i-1;i--;){var s=e[i];if(i==n||s!==r){var r=s;xr(s)?Yt.call(t,s,1):ps(t,s)}}return t}function Gn(t,e){return t+me(_i()*(e-t+1))}function Yn(t,e){var i="";if(!t||e<1||e>g)return i;do{e%2&&(i+=t),(e=me(e/2))&&(t+=t)}while(e);return i}function Xn(t,e){return Ar(Er(t,e,sl),t+"")}function Jn(t){return Xi(No(t))}function Qn(t,e){var i=No(t);return Dr(i,ln(e,0,i.length))}function ts(t,e,i,n){if(!to(t))return t;for(var r=-1,a=(e=bs(e,t)).length,o=a-1,l=t;null!=l&&++r<a;){var c=$r(e[r]),h=i;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(r!=o){var d=l[c];(h=n?n(d,c,l):s)===s&&(h=to(d)?d:xr(e[r+1])?[]:{})}en(l,c,h),l=l[c]}return t}var es=Ii?function(t,e){return Ii.set(t,e),t}:sl,is=ie?function(t,e){return ie(t,"toString",{configurable:!0,enumerable:!1,value:el(e),writable:!0})}:sl;function ns(t){return Dr(No(t))}function ss(t,e,i){var s=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(i=i>r?r:i)<0&&(i+=r),r=e>i?0:i-e>>>0,e>>>=0;for(var a=n(r);++s<r;)a[s]=t[s+e];return a}function rs(t,e){var i;return un(t,(function(t,n,s){return!(i=e(t,n,s))})),!!i}function as(t,e,i){var n=0,s=null==t?n:t.length;if("number"==typeof e&&e==e&&s<=2147483647){for(;n<s;){var r=n+s>>>1,a=t[r];null!==a&&!lo(a)&&(i?a<=e:a<e)?n=r+1:s=r}return s}return os(t,e,sl,i)}function os(t,e,i,n){var r=0,a=null==t?0:t.length;if(0===a)return 0;for(var o=(e=i(e))!=e,l=null===e,c=lo(e),h=e===s;r<a;){var d=me((r+a)/2),p=i(t[d]),u=p!==s,g=null===p,f=p==p,m=lo(p);if(o)var v=n||f;else v=h?f&&(n||u):l?f&&u&&(n||!g):c?f&&u&&!g&&(n||!m):!g&&!m&&(n?p<=e:p<e);v?r=d+1:a=d}return xi(a,4294967294)}function ls(t,e){for(var i=-1,n=t.length,s=0,r=[];++i<n;){var a=t[i],o=e?e(a):a;if(!i||!Ba(o,l)){var l=o;r[s++]=0===a?0:a}}return r}function cs(t){return"number"==typeof t?t:lo(t)?f:+t}function hs(t){if("string"==typeof t)return t;if(Ua(t))return De(t,hs)+"";if(lo(t))return zi?zi.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ds(t,e,i){var n=-1,s=Oe,r=t.length,a=!0,o=[],l=o;if(i)a=!1,s=Re;else if(r>=200){var c=e?null:Ys(t);if(c)return di(c);a=!1,s=ei,l=new Ki}else l=e?[]:o;t:for(;++n<r;){var h=t[n],d=e?e(h):h;if(h=i||0!==h?h:0,a&&d==d){for(var p=l.length;p--;)if(l[p]===d)continue t;e&&l.push(d),o.push(h)}else s(l,d,i)||(l!==o&&l.push(d),o.push(h))}return o}function ps(t,e){return null==(t=Pr(t,e=bs(e,t)))||delete t[$r(Yr(e))]}function us(t,e,i,n){return ts(t,e,i(Sn(t,e)),n)}function gs(t,e,i,n){for(var s=t.length,r=n?s:-1;(n?r--:++r<s)&&e(t[r],r,t););return i?ss(t,n?0:r,n?r+1:s):ss(t,n?r+1:0,n?s:r)}function fs(t,e){var i=t;return i instanceof Ui&&(i=i.value()),$e(e,(function(t,e){return e.func.apply(e.thisArg,je([t],e.args))}),i)}function ms(t,e,i){var s=t.length;if(s<2)return s?ds(t[0]):[];for(var r=-1,a=n(s);++r<s;)for(var o=t[r],l=-1;++l<s;)l!=r&&(a[r]=pn(a[r]||o,t[l],e,i));return ds(yn(a,1),e,i)}function vs(t,e,i){for(var n=-1,r=t.length,a=e.length,o={};++n<r;){var l=n<a?e[n]:s;i(o,t[n],l)}return o}function ys(t){return Za(t)?t:[]}function xs(t){return"function"==typeof t?t:sl}function bs(t,e){return Ua(t)?t:wr(t,e)?[t]:jr(xo(t))}var ws=Xn;function _s(t,e,i){var n=t.length;return i=i===s?n:i,!e&&i>=n?t:ss(t,e,i)}var Cs=se||function(t){return fe.clearTimeout(t)};function Ss(t,e){if(e)return t.slice();var i=t.length,n=Wt?Wt(i):new t.constructor(i);return t.copy(n),n}function Ts(t){var e=new t.constructor(t.byteLength);return new qt(e).set(new qt(t)),e}function ks(t,e){var i=e?Ts(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function Es(t,e){if(t!==e){var i=t!==s,n=null===t,r=t==t,a=lo(t),o=e!==s,l=null===e,c=e==e,h=lo(e);if(!l&&!h&&!a&&t>e||a&&o&&c&&!l&&!h||n&&o&&c||!i&&c||!r)return 1;if(!n&&!a&&!h&&t<e||h&&i&&r&&!n&&!a||l&&i&&r||!o&&r||!c)return-1}return 0}function Ps(t,e,i,s){for(var r=-1,a=t.length,o=i.length,l=-1,c=e.length,h=yi(a-o,0),d=n(c+h),p=!s;++l<c;)d[l]=e[l];for(;++r<o;)(p||r<a)&&(d[i[r]]=t[r]);for(;h--;)d[l++]=t[r++];return d}function Ls(t,e,i,s){for(var r=-1,a=t.length,o=-1,l=i.length,c=-1,h=e.length,d=yi(a-l,0),p=n(d+h),u=!s;++r<d;)p[r]=t[r];for(var g=r;++c<h;)p[g+c]=e[c];for(;++o<l;)(u||r<a)&&(p[g+i[o]]=t[r++]);return p}function Is(t,e){var i=-1,s=t.length;for(e||(e=n(s));++i<s;)e[i]=t[i];return e}function Ms(t,e,i,n){var r=!i;i||(i={});for(var a=-1,o=e.length;++a<o;){var l=e[a],c=n?n(i[l],t[l],l,i,t):s;c===s&&(c=t[l]),r?an(i,l,c):en(i,l,c)}return i}function As(t,e){return function(i,n){var s=Ua(i)?Pe:sn,r=e?e():{};return s(i,t,cr(n,2),r)}}function Os(t){return Xn((function(e,i){var n=-1,r=i.length,a=r>1?i[r-1]:s,o=r>2?i[2]:s;for(a=t.length>3&&"function"==typeof a?(r--,a):s,o&&br(i[0],i[1],o)&&(a=r<3?s:a,r=1),e=Et(e);++n<r;){var l=i[n];l&&t(e,l,n,a)}return e}))}function Rs(t,e){return function(i,n){if(null==i)return i;if(!Wa(i))return t(i,n);for(var s=i.length,r=e?s:-1,a=Et(i);(e?r--:++r<s)&&!1!==n(a[r],r,a););return i}}function Ds(t){return function(e,i,n){for(var s=-1,r=Et(e),a=n(e),o=a.length;o--;){var l=a[t?o:++s];if(!1===i(r[l],l,r))break}return e}}function js(t){return function(e){var i=oi(e=xo(e))?gi(e):s,n=i?i[0]:e.charAt(0),r=i?_s(i,1).join(""):e.slice(1);return n[t]()+r}}function $s(t){return function(e){return $e(Jo(Uo(e).replace(te,"")),t,"")}}function Fs(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var i=Ni(t.prototype),n=t.apply(i,e);return to(n)?n:i}}function zs(t){return function(e,i,n){var r=Et(e);if(!Wa(e)){var a=cr(i,3);e=Ao(e),i=function(t){return a(r[t],t,r)}}var o=t(e,i,n);return o>-1?r[a?e[o]:o]:s}}function Bs(t){return nr((function(e){var i=e.length,n=i,a=Hi.prototype.thru;for(t&&e.reverse();n--;){var o=e[n];if("function"!=typeof o)throw new It(r);if(a&&!l&&"wrapper"==or(o))var l=new Hi([],!0)}for(n=l?n:i;++n<i;){var c=or(o=e[n]),h="wrapper"==c?ar(o):s;l=h&&_r(h[0])&&424==h[1]&&!h[4].length&&1==h[9]?l[or(h[0])].apply(l,h[3]):1==o.length&&_r(o)?l[c]():l.thru(o)}return function(){var t=arguments,n=t[0];if(l&&1==t.length&&Ua(n))return l.plant(n).value();for(var s=0,r=i?e[s].apply(this,t):n;++s<i;)r=e[s].call(this,r);return r}}))}function Ns(t,e,i,r,a,o,l,c,h,p){var u=e&d,g=1&e,f=2&e,m=24&e,v=512&e,y=f?s:Fs(t);return function d(){for(var x=arguments.length,b=n(x),w=x;w--;)b[w]=arguments[w];if(m)var _=lr(d),C=function(t,e){for(var i=t.length,n=0;i--;)t[i]===e&&++n;return n}(b,_);if(r&&(b=Ps(b,r,a,m)),o&&(b=Ls(b,o,l,m)),x-=C,m&&x<p){var S=hi(b,_);return Ks(t,e,Ns,d.placeholder,i,b,S,c,h,p-x)}var T=g?i:this,k=f?T[t]:t;return x=b.length,c?b=function(t,e){var i=t.length,n=xi(e.length,i),r=Is(t);for(;n--;){var a=e[n];t[n]=xr(a,i)?r[a]:s}return t}(b,c):v&&x>1&&b.reverse(),u&&h<x&&(b.length=h),this&&this!==fe&&this instanceof d&&(k=y||Fs(k)),k.apply(T,b)}}function Vs(t,e){return function(i,n){return function(t,e,i,n){return wn(t,(function(t,s,r){e(n,i(t),s,r)})),n}(i,t,e(n),{})}}function Hs(t,e){return function(i,n){var r;if(i===s&&n===s)return e;if(i!==s&&(r=i),n!==s){if(r===s)return n;"string"==typeof i||"string"==typeof n?(i=hs(i),n=hs(n)):(i=cs(i),n=cs(n)),r=t(i,n)}return r}}function Us(t){return nr((function(e){return e=De(e,Qe(cr())),Xn((function(i){var n=this;return t(e,(function(t){return Ee(t,n,i)}))}))}))}function qs(t,e){var i=(e=e===s?" ":hs(e)).length;if(i<2)return i?Yn(e,t):e;var n=Yn(e,ge(t/ui(e)));return oi(e)?_s(gi(n),0,t).join(""):n.slice(0,t)}function Ws(t){return function(e,i,r){return r&&"number"!=typeof r&&br(e,i,r)&&(i=r=s),e=go(e),i===s?(i=e,e=0):i=go(i),function(t,e,i,s){for(var r=-1,a=yi(ge((e-t)/(i||1)),0),o=n(a);a--;)o[s?a:++r]=t,t+=i;return o}(e,i,r=r===s?e<i?1:-1:go(r),t)}}function Zs(t){return function(e,i){return"string"==typeof e&&"string"==typeof i||(e=vo(e),i=vo(i)),t(e,i)}}function Ks(t,e,i,n,r,a,o,l,d,p){var u=8&e;e|=u?c:h,4&(e&=~(u?h:c))||(e&=-4);var g=[t,e,r,u?a:s,u?o:s,u?s:a,u?s:o,l,d,p],f=i.apply(s,g);return _r(t)&&Ir(f,g),f.placeholder=n,Or(f,t,e)}function Gs(t){var e=kt[t];return function(t,i){if(t=vo(t),(i=null==i?0:xi(fo(i),292))&&be(t)){var n=(xo(t)+"e").split("e");return+((n=(xo(e(n[0]+"e"+(+n[1]+i)))+"e").split("e"))[0]+"e"+(+n[1]-i))}return e(t)}}var Ys=Ei&&1/di(new Ei([,-0]))[1]==u?function(t){return new Ei(t)}:cl;function Xs(t){return function(e){var i=fr(e);return i==T?li(e):i==I?pi(e):function(t,e){return De(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Js(t,e,i,a,u,g,f,m){var v=2&e;if(!v&&"function"!=typeof t)throw new It(r);var y=a?a.length:0;if(y||(e&=-97,a=u=s),f=f===s?f:yi(fo(f),0),m=m===s?m:fo(m),y-=u?u.length:0,e&h){var x=a,b=u;a=u=s}var w=v?s:ar(t),_=[t,e,i,a,u,x,b,g,f,m];if(w&&function(t,e){var i=t[1],n=e[1],s=i|n,r=s<131,a=n==d&&8==i||n==d&&i==p&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==i;if(!r&&!a)return t;1&n&&(t[2]=e[2],s|=1&i?0:4);var l=e[3];if(l){var c=t[3];t[3]=c?Ps(c,l,e[4]):l,t[4]=c?hi(t[3],o):e[4]}(l=e[5])&&(c=t[5],t[5]=c?Ls(c,l,e[6]):l,t[6]=c?hi(t[5],o):e[6]);(l=e[7])&&(t[7]=l);n&d&&(t[8]=null==t[8]?e[8]:xi(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=s}(_,w),t=_[0],e=_[1],i=_[2],a=_[3],u=_[4],!(m=_[9]=_[9]===s?v?0:t.length:yi(_[9]-y,0))&&24&e&&(e&=-25),e&&1!=e)C=8==e||e==l?function(t,e,i){var r=Fs(t);return function a(){for(var o=arguments.length,l=n(o),c=o,h=lr(a);c--;)l[c]=arguments[c];var d=o<3&&l[0]!==h&&l[o-1]!==h?[]:hi(l,h);return(o-=d.length)<i?Ks(t,e,Ns,a.placeholder,s,l,d,s,s,i-o):Ee(this&&this!==fe&&this instanceof a?r:t,this,l)}}(t,e,m):e!=c&&33!=e||u.length?Ns.apply(s,_):function(t,e,i,s){var r=1&e,a=Fs(t);return function e(){for(var o=-1,l=arguments.length,c=-1,h=s.length,d=n(h+l),p=this&&this!==fe&&this instanceof e?a:t;++c<h;)d[c]=s[c];for(;l--;)d[c++]=arguments[++o];return Ee(p,r?i:this,d)}}(t,e,i,a);else var C=function(t,e,i){var n=1&e,s=Fs(t);return function e(){return(this&&this!==fe&&this instanceof e?s:t).apply(n?i:this,arguments)}}(t,e,i);return Or((w?es:Ir)(C,_),t,e)}function Qs(t,e,i,n){return t===s||Ba(t,Ot[i])&&!jt.call(n,i)?e:t}function tr(t,e,i,n,r,a){return to(t)&&to(e)&&(a.set(e,t),Hn(t,e,s,tr,a),a.delete(e)),t}function er(t){return so(t)?s:t}function ir(t,e,i,n,r,a){var o=1&i,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var h=a.get(t),d=a.get(e);if(h&&d)return h==e&&d==t;var p=-1,u=!0,g=2&i?new Ki:s;for(a.set(t,e),a.set(e,t);++p<l;){var f=t[p],m=e[p];if(n)var v=o?n(m,f,p,e,t,a):n(f,m,p,t,e,a);if(v!==s){if(v)continue;u=!1;break}if(g){if(!ze(e,(function(t,e){if(!ei(g,e)&&(f===t||r(f,t,i,n,a)))return g.push(e)}))){u=!1;break}}else if(f!==m&&!r(f,m,i,n,a)){u=!1;break}}return a.delete(t),a.delete(e),u}function nr(t){return Ar(Er(t,s,qr),t+"")}function sr(t){return Tn(t,Ao,ur)}function rr(t){return Tn(t,Oo,gr)}var ar=Ii?function(t){return Ii.get(t)}:cl;function or(t){for(var e=t.name+"",i=Mi[e],n=jt.call(Mi,e)?i.length:0;n--;){var s=i[n],r=s.func;if(null==r||r==t)return s.name}return e}function lr(t){return(jt.call(Bi,"placeholder")?Bi:t).placeholder}function cr(){var t=Bi.iteratee||rl;return t=t===rl?jn:t,arguments.length?t(arguments[0],arguments[1]):t}function hr(t,e){var i,n,s=t.__data__;return("string"==(n=typeof(i=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?s["string"==typeof e?"string":"hash"]:s.map}function dr(t){for(var e=Ao(t),i=e.length;i--;){var n=e[i],s=t[n];e[i]=[n,s,Tr(s)]}return e}function pr(t,e){var i=function(t,e){return null==t?s:t[e]}(t,e);return Dn(i)?i:s}var ur=ve?function(t){return null==t?[]:(t=Et(t),Ae(ve(t),(function(e){return Gt.call(t,e)})))}:ml,gr=ve?function(t){for(var e=[];t;)je(e,ur(t)),t=Zt(t);return e}:ml,fr=kn;function mr(t,e,i){for(var n=-1,s=(e=bs(e,t)).length,r=!1;++n<s;){var a=$r(e[n]);if(!(r=null!=t&&i(t,a)))break;t=t[a]}return r||++n!=s?r:!!(s=null==t?0:t.length)&&Qa(s)&&xr(a,s)&&(Ua(t)||Ha(t))}function vr(t){return"function"!=typeof t.constructor||Sr(t)?{}:Ni(Zt(t))}function yr(t){return Ua(t)||Ha(t)||!!(Xt&&t&&t[Xt])}function xr(t,e){var i=typeof t;return!!(e=null==e?g:e)&&("number"==i||"symbol"!=i&&bt.test(t))&&t>-1&&t%1==0&&t<e}function br(t,e,i){if(!to(i))return!1;var n=typeof e;return!!("number"==n?Wa(i)&&xr(e,i.length):"string"==n&&e in i)&&Ba(i[e],t)}function wr(t,e){if(Ua(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!lo(t))||(it.test(t)||!et.test(t)||null!=e&&t in Et(e))}function _r(t){var e=or(t),i=Bi[e];if("function"!=typeof i||!(e in Ui.prototype))return!1;if(t===i)return!0;var n=ar(i);return!!n&&t===n[0]}(Si&&fr(new Si(new ArrayBuffer(1)))!=D||Ti&&fr(new Ti)!=T||ki&&fr(ki.resolve())!=P||Ei&&fr(new Ei)!=I||Pi&&fr(new Pi)!=O)&&(fr=function(t){var e=kn(t),i=e==E?t.constructor:s,n=i?Fr(i):"";if(n)switch(n){case Ai:return D;case Oi:return T;case Ri:return P;case Di:return I;case ji:return O}return e});var Cr=Rt?Xa:vl;function Sr(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Ot)}function Tr(t){return t==t&&!to(t)}function kr(t,e){return function(i){return null!=i&&(i[t]===e&&(e!==s||t in Et(i)))}}function Er(t,e,i){return e=yi(e===s?t.length-1:e,0),function(){for(var s=arguments,r=-1,a=yi(s.length-e,0),o=n(a);++r<a;)o[r]=s[e+r];r=-1;for(var l=n(e+1);++r<e;)l[r]=s[r];return l[e]=i(o),Ee(t,this,l)}}function Pr(t,e){return e.length<2?t:Sn(t,ss(e,0,-1))}function Lr(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Ir=Rr(es),Mr=ue||function(t,e){return fe.setTimeout(t,e)},Ar=Rr(is);function Or(t,e,i){var n=e+"";return Ar(t,function(t,e){var i=e.length;if(!i)return t;var n=i-1;return e[n]=(i>1?"& ":"")+e[n],e=e.join(i>2?", ":" "),t.replace(lt,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return Le(v,(function(i){var n="_."+i[0];e&i[1]&&!Oe(t,n)&&t.push(n)})),t.sort()}(function(t){var e=t.match(ct);return e?e[1].split(ht):[]}(n),i)))}function Rr(t){var e=0,i=0;return function(){var n=bi(),r=16-(n-i);if(i=n,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(s,arguments)}}function Dr(t,e){var i=-1,n=t.length,r=n-1;for(e=e===s?n:e;++i<e;){var a=Gn(i,r),o=t[a];t[a]=t[i],t[i]=o}return t.length=e,t}var jr=function(t){var e=Ra(t,(function(t){return 500===i.size&&i.clear(),t})),i=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(nt,(function(t,i,n,s){e.push(n?s.replace(ut,"$1"):i||t)})),e}));function $r(t){if("string"==typeof t||lo(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Fr(t){if(null!=t){try{return Dt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function zr(t){if(t instanceof Ui)return t.clone();var e=new Hi(t.__wrapped__,t.__chain__);return e.__actions__=Is(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Br=Xn((function(t,e){return Za(t)?pn(t,yn(e,1,Za,!0)):[]})),Nr=Xn((function(t,e){var i=Yr(e);return Za(i)&&(i=s),Za(t)?pn(t,yn(e,1,Za,!0),cr(i,2)):[]})),Vr=Xn((function(t,e){var i=Yr(e);return Za(i)&&(i=s),Za(t)?pn(t,yn(e,1,Za,!0),s,i):[]}));function Hr(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var s=null==i?0:fo(i);return s<0&&(s=yi(n+s,0)),Ve(t,cr(e,3),s)}function Ur(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var r=n-1;return i!==s&&(r=fo(i),r=i<0?yi(n+r,0):xi(r,n-1)),Ve(t,cr(e,3),r,!0)}function qr(t){return(null==t?0:t.length)?yn(t,1):[]}function Wr(t){return t&&t.length?t[0]:s}var Zr=Xn((function(t){var e=De(t,ys);return e.length&&e[0]===t[0]?In(e):[]})),Kr=Xn((function(t){var e=Yr(t),i=De(t,ys);return e===Yr(i)?e=s:i.pop(),i.length&&i[0]===t[0]?In(i,cr(e,2)):[]})),Gr=Xn((function(t){var e=Yr(t),i=De(t,ys);return(e="function"==typeof e?e:s)&&i.pop(),i.length&&i[0]===t[0]?In(i,s,e):[]}));function Yr(t){var e=null==t?0:t.length;return e?t[e-1]:s}var Xr=Xn(Jr);function Jr(t,e){return t&&t.length&&e&&e.length?Zn(t,e):t}var Qr=nr((function(t,e){var i=null==t?0:t.length,n=on(t,e);return Kn(t,De(e,(function(t){return xr(t,i)?+t:t})).sort(Es)),n}));function ta(t){return null==t?t:Ci.call(t)}var ea=Xn((function(t){return ds(yn(t,1,Za,!0))})),ia=Xn((function(t){var e=Yr(t);return Za(e)&&(e=s),ds(yn(t,1,Za,!0),cr(e,2))})),na=Xn((function(t){var e=Yr(t);return e="function"==typeof e?e:s,ds(yn(t,1,Za,!0),s,e)}));function sa(t){if(!t||!t.length)return[];var e=0;return t=Ae(t,(function(t){if(Za(t))return e=yi(t.length,e),!0})),Xe(e,(function(e){return De(t,Ze(e))}))}function ra(t,e){if(!t||!t.length)return[];var i=sa(t);return null==e?i:De(i,(function(t){return Ee(e,s,t)}))}var aa=Xn((function(t,e){return Za(t)?pn(t,e):[]})),oa=Xn((function(t){return ms(Ae(t,Za))})),la=Xn((function(t){var e=Yr(t);return Za(e)&&(e=s),ms(Ae(t,Za),cr(e,2))})),ca=Xn((function(t){var e=Yr(t);return e="function"==typeof e?e:s,ms(Ae(t,Za),s,e)})),ha=Xn(sa);var da=Xn((function(t){var e=t.length,i=e>1?t[e-1]:s;return i="function"==typeof i?(t.pop(),i):s,ra(t,i)}));function pa(t){var e=Bi(t);return e.__chain__=!0,e}function ua(t,e){return e(t)}var ga=nr((function(t){var e=t.length,i=e?t[0]:0,n=this.__wrapped__,r=function(e){return on(e,t)};return!(e>1||this.__actions__.length)&&n instanceof Ui&&xr(i)?((n=n.slice(i,+i+(e?1:0))).__actions__.push({func:ua,args:[r],thisArg:s}),new Hi(n,this.__chain__).thru((function(t){return e&&!t.length&&t.push(s),t}))):this.thru(r)}));var fa=As((function(t,e,i){jt.call(t,i)?++t[i]:an(t,i,1)}));var ma=zs(Hr),va=zs(Ur);function ya(t,e){return(Ua(t)?Le:un)(t,cr(e,3))}function xa(t,e){return(Ua(t)?Ie:gn)(t,cr(e,3))}var ba=As((function(t,e,i){jt.call(t,i)?t[i].push(e):an(t,i,[e])}));var wa=Xn((function(t,e,i){var s=-1,r="function"==typeof e,a=Wa(t)?n(t.length):[];return un(t,(function(t){a[++s]=r?Ee(e,t,i):Mn(t,e,i)})),a})),_a=As((function(t,e,i){an(t,i,e)}));function Ca(t,e){return(Ua(t)?De:Bn)(t,cr(e,3))}var Sa=As((function(t,e,i){t[i?0:1].push(e)}),(function(){return[[],[]]}));var Ta=Xn((function(t,e){if(null==t)return[];var i=e.length;return i>1&&br(t,e[0],e[1])?e=[]:i>2&&br(e[0],e[1],e[2])&&(e=[e[0]]),qn(t,yn(e,1),[])})),ka=he||function(){return fe.Date.now()};function Ea(t,e,i){return e=i?s:e,e=t&&null==e?t.length:e,Js(t,d,s,s,s,s,e)}function Pa(t,e){var i;if("function"!=typeof e)throw new It(r);return t=fo(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=s),i}}var La=Xn((function(t,e,i){var n=1;if(i.length){var s=hi(i,lr(La));n|=c}return Js(t,n,e,i,s)})),Ia=Xn((function(t,e,i){var n=3;if(i.length){var s=hi(i,lr(Ia));n|=c}return Js(e,n,t,i,s)}));function Ma(t,e,i){var n,a,o,l,c,h,d=0,p=!1,u=!1,g=!0;if("function"!=typeof t)throw new It(r);function f(e){var i=n,r=a;return n=a=s,d=e,l=t.apply(r,i)}function m(t){var i=t-h;return h===s||i>=e||i<0||u&&t-d>=o}function v(){var t=ka();if(m(t))return y(t);c=Mr(v,function(t){var i=e-(t-h);return u?xi(i,o-(t-d)):i}(t))}function y(t){return c=s,g&&n?f(t):(n=a=s,l)}function x(){var t=ka(),i=m(t);if(n=arguments,a=this,h=t,i){if(c===s)return function(t){return d=t,c=Mr(v,e),p?f(t):l}(h);if(u)return Cs(c),c=Mr(v,e),f(h)}return c===s&&(c=Mr(v,e)),l}return e=vo(e)||0,to(i)&&(p=!!i.leading,o=(u="maxWait"in i)?yi(vo(i.maxWait)||0,e):o,g="trailing"in i?!!i.trailing:g),x.cancel=function(){c!==s&&Cs(c),d=0,n=h=a=c=s},x.flush=function(){return c===s?l:y(ka())},x}var Aa=Xn((function(t,e){return dn(t,1,e)})),Oa=Xn((function(t,e,i){return dn(t,vo(e)||0,i)}));function Ra(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new It(r);var i=function(){var n=arguments,s=e?e.apply(this,n):n[0],r=i.cache;if(r.has(s))return r.get(s);var a=t.apply(this,n);return i.cache=r.set(s,a)||r,a};return i.cache=new(Ra.Cache||Zi),i}function Da(t){if("function"!=typeof t)throw new It(r);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ra.Cache=Zi;var ja=ws((function(t,e){var i=(e=1==e.length&&Ua(e[0])?De(e[0],Qe(cr())):De(yn(e,1),Qe(cr()))).length;return Xn((function(n){for(var s=-1,r=xi(n.length,i);++s<r;)n[s]=e[s].call(this,n[s]);return Ee(t,this,n)}))})),$a=Xn((function(t,e){var i=hi(e,lr($a));return Js(t,c,s,e,i)})),Fa=Xn((function(t,e){var i=hi(e,lr(Fa));return Js(t,h,s,e,i)})),za=nr((function(t,e){return Js(t,p,s,s,s,e)}));function Ba(t,e){return t===e||t!=t&&e!=e}var Na=Zs(En),Va=Zs((function(t,e){return t>=e})),Ha=An(function(){return arguments}())?An:function(t){return eo(t)&&jt.call(t,"callee")&&!Gt.call(t,"callee")},Ua=n.isArray,qa=we?Qe(we):function(t){return eo(t)&&kn(t)==R};function Wa(t){return null!=t&&Qa(t.length)&&!Xa(t)}function Za(t){return eo(t)&&Wa(t)}var Ka=xe||vl,Ga=_e?Qe(_e):function(t){return eo(t)&&kn(t)==w};function Ya(t){if(!eo(t))return!1;var e=kn(t);return e==_||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!so(t)}function Xa(t){if(!to(t))return!1;var e=kn(t);return e==C||e==S||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ja(t){return"number"==typeof t&&t==fo(t)}function Qa(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=g}function to(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function eo(t){return null!=t&&"object"==typeof t}var io=Ce?Qe(Ce):function(t){return eo(t)&&fr(t)==T};function no(t){return"number"==typeof t||eo(t)&&kn(t)==k}function so(t){if(!eo(t)||kn(t)!=E)return!1;var e=Zt(t);if(null===e)return!0;var i=jt.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&Dt.call(i)==Bt}var ro=Se?Qe(Se):function(t){return eo(t)&&kn(t)==L};var ao=Te?Qe(Te):function(t){return eo(t)&&fr(t)==I};function oo(t){return"string"==typeof t||!Ua(t)&&eo(t)&&kn(t)==M}function lo(t){return"symbol"==typeof t||eo(t)&&kn(t)==A}var co=ke?Qe(ke):function(t){return eo(t)&&Qa(t.length)&&!!le[kn(t)]};var ho=Zs(zn),po=Zs((function(t,e){return t<=e}));function uo(t){if(!t)return[];if(Wa(t))return oo(t)?gi(t):Is(t);if(Jt&&t[Jt])return function(t){for(var e,i=[];!(e=t.next()).done;)i.push(e.value);return i}(t[Jt]());var e=fr(t);return(e==T?li:e==I?di:No)(t)}function go(t){return t?(t=vo(t))===u||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function fo(t){var e=go(t),i=e%1;return e==e?i?e-i:e:0}function mo(t){return t?ln(fo(t),0,m):0}function vo(t){if("number"==typeof t)return t;if(lo(t))return f;if(to(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=to(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Je(t);var i=vt.test(t);return i||xt.test(t)?pe(t.slice(2),i?2:8):mt.test(t)?f:+t}function yo(t){return Ms(t,Oo(t))}function xo(t){return null==t?"":hs(t)}var bo=Os((function(t,e){if(Sr(e)||Wa(e))Ms(e,Ao(e),t);else for(var i in e)jt.call(e,i)&&en(t,i,e[i])})),wo=Os((function(t,e){Ms(e,Oo(e),t)})),_o=Os((function(t,e,i,n){Ms(e,Oo(e),t,n)})),Co=Os((function(t,e,i,n){Ms(e,Ao(e),t,n)})),So=nr(on);var To=Xn((function(t,e){t=Et(t);var i=-1,n=e.length,r=n>2?e[2]:s;for(r&&br(e[0],e[1],r)&&(n=1);++i<n;)for(var a=e[i],o=Oo(a),l=-1,c=o.length;++l<c;){var h=o[l],d=t[h];(d===s||Ba(d,Ot[h])&&!jt.call(t,h))&&(t[h]=a[h])}return t})),ko=Xn((function(t){return t.push(s,tr),Ee(Do,s,t)}));function Eo(t,e,i){var n=null==t?s:Sn(t,e);return n===s?i:n}function Po(t,e){return null!=t&&mr(t,e,Ln)}var Lo=Vs((function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=zt.call(e)),t[e]=i}),el(sl)),Io=Vs((function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=zt.call(e)),jt.call(t,e)?t[e].push(i):t[e]=[i]}),cr),Mo=Xn(Mn);function Ao(t){return Wa(t)?Yi(t):$n(t)}function Oo(t){return Wa(t)?Yi(t,!0):Fn(t)}var Ro=Os((function(t,e,i){Hn(t,e,i)})),Do=Os((function(t,e,i,n){Hn(t,e,i,n)})),jo=nr((function(t,e){var i={};if(null==t)return i;var n=!1;e=De(e,(function(e){return e=bs(e,t),n||(n=e.length>1),e})),Ms(t,rr(t),i),n&&(i=cn(i,7,er));for(var s=e.length;s--;)ps(i,e[s]);return i}));var $o=nr((function(t,e){return null==t?{}:function(t,e){return Wn(t,e,(function(e,i){return Po(t,i)}))}(t,e)}));function Fo(t,e){if(null==t)return{};var i=De(rr(t),(function(t){return[t]}));return e=cr(e),Wn(t,i,(function(t,i){return e(t,i[0])}))}var zo=Xs(Ao),Bo=Xs(Oo);function No(t){return null==t?[]:ti(t,Ao(t))}var Vo=$s((function(t,e,i){return e=e.toLowerCase(),t+(i?Ho(e):e)}));function Ho(t){return Xo(xo(t).toLowerCase())}function Uo(t){return(t=xo(t))&&t.replace(wt,si).replace(ee,"")}var qo=$s((function(t,e,i){return t+(i?"-":"")+e.toLowerCase()})),Wo=$s((function(t,e,i){return t+(i?" ":"")+e.toLowerCase()})),Zo=js("toLowerCase");var Ko=$s((function(t,e,i){return t+(i?"_":"")+e.toLowerCase()}));var Go=$s((function(t,e,i){return t+(i?" ":"")+Xo(e)}));var Yo=$s((function(t,e,i){return t+(i?" ":"")+e.toUpperCase()})),Xo=js("toUpperCase");function Jo(t,e,i){return t=xo(t),(e=i?s:e)===s?function(t){return re.test(t)}(t)?function(t){return t.match(ne)||[]}(t):function(t){return t.match(dt)||[]}(t):t.match(e)||[]}var Qo=Xn((function(t,e){try{return Ee(t,s,e)}catch(t){return Ya(t)?t:new St(t)}})),tl=nr((function(t,e){return Le(e,(function(e){e=$r(e),an(t,e,La(t[e],t))})),t}));function el(t){return function(){return t}}var il=Bs(),nl=Bs(!0);function sl(t){return t}function rl(t){return jn("function"==typeof t?t:cn(t,1))}var al=Xn((function(t,e){return function(i){return Mn(i,t,e)}})),ol=Xn((function(t,e){return function(i){return Mn(t,i,e)}}));function ll(t,e,i){var n=Ao(e),s=Cn(e,n);null!=i||to(e)&&(s.length||!n.length)||(i=e,e=t,t=this,s=Cn(e,Ao(e)));var r=!(to(i)&&"chain"in i&&!i.chain),a=Xa(t);return Le(s,(function(i){var n=e[i];t[i]=n,a&&(t.prototype[i]=function(){var e=this.__chain__;if(r||e){var i=t(this.__wrapped__);return(i.__actions__=Is(this.__actions__)).push({func:n,args:arguments,thisArg:t}),i.__chain__=e,i}return n.apply(t,je([this.value()],arguments))})})),t}function cl(){}var hl=Us(De),dl=Us(Me),pl=Us(ze);function ul(t){return wr(t)?Ze($r(t)):function(t){return function(e){return Sn(e,t)}}(t)}var gl=Ws(),fl=Ws(!0);function ml(){return[]}function vl(){return!1}var yl=Hs((function(t,e){return t+e}),0),xl=Gs("ceil"),bl=Hs((function(t,e){return t/e}),1),wl=Gs("floor");var _l,Cl=Hs((function(t,e){return t*e}),1),Sl=Gs("round"),Tl=Hs((function(t,e){return t-e}),0);return Bi.after=function(t,e){if("function"!=typeof e)throw new It(r);return t=fo(t),function(){if(--t<1)return e.apply(this,arguments)}},Bi.ary=Ea,Bi.assign=bo,Bi.assignIn=wo,Bi.assignInWith=_o,Bi.assignWith=Co,Bi.at=So,Bi.before=Pa,Bi.bind=La,Bi.bindAll=tl,Bi.bindKey=Ia,Bi.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ua(t)?t:[t]},Bi.chain=pa,Bi.chunk=function(t,e,i){e=(i?br(t,e,i):e===s)?1:yi(fo(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var a=0,o=0,l=n(ge(r/e));a<r;)l[o++]=ss(t,a,a+=e);return l},Bi.compact=function(t){for(var e=-1,i=null==t?0:t.length,n=0,s=[];++e<i;){var r=t[e];r&&(s[n++]=r)}return s},Bi.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),i=arguments[0],s=t;s--;)e[s-1]=arguments[s];return je(Ua(i)?Is(i):[i],yn(e,1))},Bi.cond=function(t){var e=null==t?0:t.length,i=cr();return t=e?De(t,(function(t){if("function"!=typeof t[1])throw new It(r);return[i(t[0]),t[1]]})):[],Xn((function(i){for(var n=-1;++n<e;){var s=t[n];if(Ee(s[0],this,i))return Ee(s[1],this,i)}}))},Bi.conforms=function(t){return function(t){var e=Ao(t);return function(i){return hn(i,t,e)}}(cn(t,1))},Bi.constant=el,Bi.countBy=fa,Bi.create=function(t,e){var i=Ni(t);return null==e?i:rn(i,e)},Bi.curry=function t(e,i,n){var r=Js(e,8,s,s,s,s,s,i=n?s:i);return r.placeholder=t.placeholder,r},Bi.curryRight=function t(e,i,n){var r=Js(e,l,s,s,s,s,s,i=n?s:i);return r.placeholder=t.placeholder,r},Bi.debounce=Ma,Bi.defaults=To,Bi.defaultsDeep=ko,Bi.defer=Aa,Bi.delay=Oa,Bi.difference=Br,Bi.differenceBy=Nr,Bi.differenceWith=Vr,Bi.drop=function(t,e,i){var n=null==t?0:t.length;return n?ss(t,(e=i||e===s?1:fo(e))<0?0:e,n):[]},Bi.dropRight=function(t,e,i){var n=null==t?0:t.length;return n?ss(t,0,(e=n-(e=i||e===s?1:fo(e)))<0?0:e):[]},Bi.dropRightWhile=function(t,e){return t&&t.length?gs(t,cr(e,3),!0,!0):[]},Bi.dropWhile=function(t,e){return t&&t.length?gs(t,cr(e,3),!0):[]},Bi.fill=function(t,e,i,n){var r=null==t?0:t.length;return r?(i&&"number"!=typeof i&&br(t,e,i)&&(i=0,n=r),function(t,e,i,n){var r=t.length;for((i=fo(i))<0&&(i=-i>r?0:r+i),(n=n===s||n>r?r:fo(n))<0&&(n+=r),n=i>n?0:mo(n);i<n;)t[i++]=e;return t}(t,e,i,n)):[]},Bi.filter=function(t,e){return(Ua(t)?Ae:vn)(t,cr(e,3))},Bi.flatMap=function(t,e){return yn(Ca(t,e),1)},Bi.flatMapDeep=function(t,e){return yn(Ca(t,e),u)},Bi.flatMapDepth=function(t,e,i){return i=i===s?1:fo(i),yn(Ca(t,e),i)},Bi.flatten=qr,Bi.flattenDeep=function(t){return(null==t?0:t.length)?yn(t,u):[]},Bi.flattenDepth=function(t,e){return(null==t?0:t.length)?yn(t,e=e===s?1:fo(e)):[]},Bi.flip=function(t){return Js(t,512)},Bi.flow=il,Bi.flowRight=nl,Bi.fromPairs=function(t){for(var e=-1,i=null==t?0:t.length,n={};++e<i;){var s=t[e];n[s[0]]=s[1]}return n},Bi.functions=function(t){return null==t?[]:Cn(t,Ao(t))},Bi.functionsIn=function(t){return null==t?[]:Cn(t,Oo(t))},Bi.groupBy=ba,Bi.initial=function(t){return(null==t?0:t.length)?ss(t,0,-1):[]},Bi.intersection=Zr,Bi.intersectionBy=Kr,Bi.intersectionWith=Gr,Bi.invert=Lo,Bi.invertBy=Io,Bi.invokeMap=wa,Bi.iteratee=rl,Bi.keyBy=_a,Bi.keys=Ao,Bi.keysIn=Oo,Bi.map=Ca,Bi.mapKeys=function(t,e){var i={};return e=cr(e,3),wn(t,(function(t,n,s){an(i,e(t,n,s),t)})),i},Bi.mapValues=function(t,e){var i={};return e=cr(e,3),wn(t,(function(t,n,s){an(i,n,e(t,n,s))})),i},Bi.matches=function(t){return Nn(cn(t,1))},Bi.matchesProperty=function(t,e){return Vn(t,cn(e,1))},Bi.memoize=Ra,Bi.merge=Ro,Bi.mergeWith=Do,Bi.method=al,Bi.methodOf=ol,Bi.mixin=ll,Bi.negate=Da,Bi.nthArg=function(t){return t=fo(t),Xn((function(e){return Un(e,t)}))},Bi.omit=jo,Bi.omitBy=function(t,e){return Fo(t,Da(cr(e)))},Bi.once=function(t){return Pa(2,t)},Bi.orderBy=function(t,e,i,n){return null==t?[]:(Ua(e)||(e=null==e?[]:[e]),Ua(i=n?s:i)||(i=null==i?[]:[i]),qn(t,e,i))},Bi.over=hl,Bi.overArgs=ja,Bi.overEvery=dl,Bi.overSome=pl,Bi.partial=$a,Bi.partialRight=Fa,Bi.partition=Sa,Bi.pick=$o,Bi.pickBy=Fo,Bi.property=ul,Bi.propertyOf=function(t){return function(e){return null==t?s:Sn(t,e)}},Bi.pull=Xr,Bi.pullAll=Jr,Bi.pullAllBy=function(t,e,i){return t&&t.length&&e&&e.length?Zn(t,e,cr(i,2)):t},Bi.pullAllWith=function(t,e,i){return t&&t.length&&e&&e.length?Zn(t,e,s,i):t},Bi.pullAt=Qr,Bi.range=gl,Bi.rangeRight=fl,Bi.rearg=za,Bi.reject=function(t,e){return(Ua(t)?Ae:vn)(t,Da(cr(e,3)))},Bi.remove=function(t,e){var i=[];if(!t||!t.length)return i;var n=-1,s=[],r=t.length;for(e=cr(e,3);++n<r;){var a=t[n];e(a,n,t)&&(i.push(a),s.push(n))}return Kn(t,s),i},Bi.rest=function(t,e){if("function"!=typeof t)throw new It(r);return Xn(t,e=e===s?e:fo(e))},Bi.reverse=ta,Bi.sampleSize=function(t,e,i){return e=(i?br(t,e,i):e===s)?1:fo(e),(Ua(t)?Ji:Qn)(t,e)},Bi.set=function(t,e,i){return null==t?t:ts(t,e,i)},Bi.setWith=function(t,e,i,n){return n="function"==typeof n?n:s,null==t?t:ts(t,e,i,n)},Bi.shuffle=function(t){return(Ua(t)?Qi:ns)(t)},Bi.slice=function(t,e,i){var n=null==t?0:t.length;return n?(i&&"number"!=typeof i&&br(t,e,i)?(e=0,i=n):(e=null==e?0:fo(e),i=i===s?n:fo(i)),ss(t,e,i)):[]},Bi.sortBy=Ta,Bi.sortedUniq=function(t){return t&&t.length?ls(t):[]},Bi.sortedUniqBy=function(t,e){return t&&t.length?ls(t,cr(e,2)):[]},Bi.split=function(t,e,i){return i&&"number"!=typeof i&&br(t,e,i)&&(e=i=s),(i=i===s?m:i>>>0)?(t=xo(t))&&("string"==typeof e||null!=e&&!ro(e))&&!(e=hs(e))&&oi(t)?_s(gi(t),0,i):t.split(e,i):[]},Bi.spread=function(t,e){if("function"!=typeof t)throw new It(r);return e=null==e?0:yi(fo(e),0),Xn((function(i){var n=i[e],s=_s(i,0,e);return n&&je(s,n),Ee(t,this,s)}))},Bi.tail=function(t){var e=null==t?0:t.length;return e?ss(t,1,e):[]},Bi.take=function(t,e,i){return t&&t.length?ss(t,0,(e=i||e===s?1:fo(e))<0?0:e):[]},Bi.takeRight=function(t,e,i){var n=null==t?0:t.length;return n?ss(t,(e=n-(e=i||e===s?1:fo(e)))<0?0:e,n):[]},Bi.takeRightWhile=function(t,e){return t&&t.length?gs(t,cr(e,3),!1,!0):[]},Bi.takeWhile=function(t,e){return t&&t.length?gs(t,cr(e,3)):[]},Bi.tap=function(t,e){return e(t),t},Bi.throttle=function(t,e,i){var n=!0,s=!0;if("function"!=typeof t)throw new It(r);return to(i)&&(n="leading"in i?!!i.leading:n,s="trailing"in i?!!i.trailing:s),Ma(t,e,{leading:n,maxWait:e,trailing:s})},Bi.thru=ua,Bi.toArray=uo,Bi.toPairs=zo,Bi.toPairsIn=Bo,Bi.toPath=function(t){return Ua(t)?De(t,$r):lo(t)?[t]:Is(jr(xo(t)))},Bi.toPlainObject=yo,Bi.transform=function(t,e,i){var n=Ua(t),s=n||Ka(t)||co(t);if(e=cr(e,4),null==i){var r=t&&t.constructor;i=s?n?new r:[]:to(t)&&Xa(r)?Ni(Zt(t)):{}}return(s?Le:wn)(t,(function(t,n,s){return e(i,t,n,s)})),i},Bi.unary=function(t){return Ea(t,1)},Bi.union=ea,Bi.unionBy=ia,Bi.unionWith=na,Bi.uniq=function(t){return t&&t.length?ds(t):[]},Bi.uniqBy=function(t,e){return t&&t.length?ds(t,cr(e,2)):[]},Bi.uniqWith=function(t,e){return e="function"==typeof e?e:s,t&&t.length?ds(t,s,e):[]},Bi.unset=function(t,e){return null==t||ps(t,e)},Bi.unzip=sa,Bi.unzipWith=ra,Bi.update=function(t,e,i){return null==t?t:us(t,e,xs(i))},Bi.updateWith=function(t,e,i,n){return n="function"==typeof n?n:s,null==t?t:us(t,e,xs(i),n)},Bi.values=No,Bi.valuesIn=function(t){return null==t?[]:ti(t,Oo(t))},Bi.without=aa,Bi.words=Jo,Bi.wrap=function(t,e){return $a(xs(e),t)},Bi.xor=oa,Bi.xorBy=la,Bi.xorWith=ca,Bi.zip=ha,Bi.zipObject=function(t,e){return vs(t||[],e||[],en)},Bi.zipObjectDeep=function(t,e){return vs(t||[],e||[],ts)},Bi.zipWith=da,Bi.entries=zo,Bi.entriesIn=Bo,Bi.extend=wo,Bi.extendWith=_o,ll(Bi,Bi),Bi.add=yl,Bi.attempt=Qo,Bi.camelCase=Vo,Bi.capitalize=Ho,Bi.ceil=xl,Bi.clamp=function(t,e,i){return i===s&&(i=e,e=s),i!==s&&(i=(i=vo(i))==i?i:0),e!==s&&(e=(e=vo(e))==e?e:0),ln(vo(t),e,i)},Bi.clone=function(t){return cn(t,4)},Bi.cloneDeep=function(t){return cn(t,5)},Bi.cloneDeepWith=function(t,e){return cn(t,5,e="function"==typeof e?e:s)},Bi.cloneWith=function(t,e){return cn(t,4,e="function"==typeof e?e:s)},Bi.conformsTo=function(t,e){return null==e||hn(t,e,Ao(e))},Bi.deburr=Uo,Bi.defaultTo=function(t,e){return null==t||t!=t?e:t},Bi.divide=bl,Bi.endsWith=function(t,e,i){t=xo(t),e=hs(e);var n=t.length,r=i=i===s?n:ln(fo(i),0,n);return(i-=e.length)>=0&&t.slice(i,r)==e},Bi.eq=Ba,Bi.escape=function(t){return(t=xo(t))&&X.test(t)?t.replace(G,ri):t},Bi.escapeRegExp=function(t){return(t=xo(t))&&rt.test(t)?t.replace(st,"\\$&"):t},Bi.every=function(t,e,i){var n=Ua(t)?Me:fn;return i&&br(t,e,i)&&(e=s),n(t,cr(e,3))},Bi.find=ma,Bi.findIndex=Hr,Bi.findKey=function(t,e){return Ne(t,cr(e,3),wn)},Bi.findLast=va,Bi.findLastIndex=Ur,Bi.findLastKey=function(t,e){return Ne(t,cr(e,3),_n)},Bi.floor=wl,Bi.forEach=ya,Bi.forEachRight=xa,Bi.forIn=function(t,e){return null==t?t:xn(t,cr(e,3),Oo)},Bi.forInRight=function(t,e){return null==t?t:bn(t,cr(e,3),Oo)},Bi.forOwn=function(t,e){return t&&wn(t,cr(e,3))},Bi.forOwnRight=function(t,e){return t&&_n(t,cr(e,3))},Bi.get=Eo,Bi.gt=Na,Bi.gte=Va,Bi.has=function(t,e){return null!=t&&mr(t,e,Pn)},Bi.hasIn=Po,Bi.head=Wr,Bi.identity=sl,Bi.includes=function(t,e,i,n){t=Wa(t)?t:No(t),i=i&&!n?fo(i):0;var s=t.length;return i<0&&(i=yi(s+i,0)),oo(t)?i<=s&&t.indexOf(e,i)>-1:!!s&&He(t,e,i)>-1},Bi.indexOf=function(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var s=null==i?0:fo(i);return s<0&&(s=yi(n+s,0)),He(t,e,s)},Bi.inRange=function(t,e,i){return e=go(e),i===s?(i=e,e=0):i=go(i),function(t,e,i){return t>=xi(e,i)&&t<yi(e,i)}(t=vo(t),e,i)},Bi.invoke=Mo,Bi.isArguments=Ha,Bi.isArray=Ua,Bi.isArrayBuffer=qa,Bi.isArrayLike=Wa,Bi.isArrayLikeObject=Za,Bi.isBoolean=function(t){return!0===t||!1===t||eo(t)&&kn(t)==b},Bi.isBuffer=Ka,Bi.isDate=Ga,Bi.isElement=function(t){return eo(t)&&1===t.nodeType&&!so(t)},Bi.isEmpty=function(t){if(null==t)return!0;if(Wa(t)&&(Ua(t)||"string"==typeof t||"function"==typeof t.splice||Ka(t)||co(t)||Ha(t)))return!t.length;var e=fr(t);if(e==T||e==I)return!t.size;if(Sr(t))return!$n(t).length;for(var i in t)if(jt.call(t,i))return!1;return!0},Bi.isEqual=function(t,e){return On(t,e)},Bi.isEqualWith=function(t,e,i){var n=(i="function"==typeof i?i:s)?i(t,e):s;return n===s?On(t,e,s,i):!!n},Bi.isError=Ya,Bi.isFinite=function(t){return"number"==typeof t&&be(t)},Bi.isFunction=Xa,Bi.isInteger=Ja,Bi.isLength=Qa,Bi.isMap=io,Bi.isMatch=function(t,e){return t===e||Rn(t,e,dr(e))},Bi.isMatchWith=function(t,e,i){return i="function"==typeof i?i:s,Rn(t,e,dr(e),i)},Bi.isNaN=function(t){return no(t)&&t!=+t},Bi.isNative=function(t){if(Cr(t))throw new St("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Dn(t)},Bi.isNil=function(t){return null==t},Bi.isNull=function(t){return null===t},Bi.isNumber=no,Bi.isObject=to,Bi.isObjectLike=eo,Bi.isPlainObject=so,Bi.isRegExp=ro,Bi.isSafeInteger=function(t){return Ja(t)&&t>=-9007199254740991&&t<=g},Bi.isSet=ao,Bi.isString=oo,Bi.isSymbol=lo,Bi.isTypedArray=co,Bi.isUndefined=function(t){return t===s},Bi.isWeakMap=function(t){return eo(t)&&fr(t)==O},Bi.isWeakSet=function(t){return eo(t)&&"[object WeakSet]"==kn(t)},Bi.join=function(t,e){return null==t?"":Be.call(t,e)},Bi.kebabCase=qo,Bi.last=Yr,Bi.lastIndexOf=function(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var r=n;return i!==s&&(r=(r=fo(i))<0?yi(n+r,0):xi(r,n-1)),e==e?function(t,e,i){for(var n=i+1;n--;)if(t[n]===e)return n;return n}(t,e,r):Ve(t,qe,r,!0)},Bi.lowerCase=Wo,Bi.lowerFirst=Zo,Bi.lt=ho,Bi.lte=po,Bi.max=function(t){return t&&t.length?mn(t,sl,En):s},Bi.maxBy=function(t,e){return t&&t.length?mn(t,cr(e,2),En):s},Bi.mean=function(t){return We(t,sl)},Bi.meanBy=function(t,e){return We(t,cr(e,2))},Bi.min=function(t){return t&&t.length?mn(t,sl,zn):s},Bi.minBy=function(t,e){return t&&t.length?mn(t,cr(e,2),zn):s},Bi.stubArray=ml,Bi.stubFalse=vl,Bi.stubObject=function(){return{}},Bi.stubString=function(){return""},Bi.stubTrue=function(){return!0},Bi.multiply=Cl,Bi.nth=function(t,e){return t&&t.length?Un(t,fo(e)):s},Bi.noConflict=function(){return fe._===this&&(fe._=Nt),this},Bi.noop=cl,Bi.now=ka,Bi.pad=function(t,e,i){t=xo(t);var n=(e=fo(e))?ui(t):0;if(!e||n>=e)return t;var s=(e-n)/2;return qs(me(s),i)+t+qs(ge(s),i)},Bi.padEnd=function(t,e,i){t=xo(t);var n=(e=fo(e))?ui(t):0;return e&&n<e?t+qs(e-n,i):t},Bi.padStart=function(t,e,i){t=xo(t);var n=(e=fo(e))?ui(t):0;return e&&n<e?qs(e-n,i)+t:t},Bi.parseInt=function(t,e,i){return i||null==e?e=0:e&&(e=+e),wi(xo(t).replace(at,""),e||0)},Bi.random=function(t,e,i){if(i&&"boolean"!=typeof i&&br(t,e,i)&&(e=i=s),i===s&&("boolean"==typeof e?(i=e,e=s):"boolean"==typeof t&&(i=t,t=s)),t===s&&e===s?(t=0,e=1):(t=go(t),e===s?(e=t,t=0):e=go(e)),t>e){var n=t;t=e,e=n}if(i||t%1||e%1){var r=_i();return xi(t+r*(e-t+de("1e-"+((r+"").length-1))),e)}return Gn(t,e)},Bi.reduce=function(t,e,i){var n=Ua(t)?$e:Ge,s=arguments.length<3;return n(t,cr(e,4),i,s,un)},Bi.reduceRight=function(t,e,i){var n=Ua(t)?Fe:Ge,s=arguments.length<3;return n(t,cr(e,4),i,s,gn)},Bi.repeat=function(t,e,i){return e=(i?br(t,e,i):e===s)?1:fo(e),Yn(xo(t),e)},Bi.replace=function(){var t=arguments,e=xo(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Bi.result=function(t,e,i){var n=-1,r=(e=bs(e,t)).length;for(r||(r=1,t=s);++n<r;){var a=null==t?s:t[$r(e[n])];a===s&&(n=r,a=i),t=Xa(a)?a.call(t):a}return t},Bi.round=Sl,Bi.runInContext=t,Bi.sample=function(t){return(Ua(t)?Xi:Jn)(t)},Bi.size=function(t){if(null==t)return 0;if(Wa(t))return oo(t)?ui(t):t.length;var e=fr(t);return e==T||e==I?t.size:$n(t).length},Bi.snakeCase=Ko,Bi.some=function(t,e,i){var n=Ua(t)?ze:rs;return i&&br(t,e,i)&&(e=s),n(t,cr(e,3))},Bi.sortedIndex=function(t,e){return as(t,e)},Bi.sortedIndexBy=function(t,e,i){return os(t,e,cr(i,2))},Bi.sortedIndexOf=function(t,e){var i=null==t?0:t.length;if(i){var n=as(t,e);if(n<i&&Ba(t[n],e))return n}return-1},Bi.sortedLastIndex=function(t,e){return as(t,e,!0)},Bi.sortedLastIndexBy=function(t,e,i){return os(t,e,cr(i,2),!0)},Bi.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var i=as(t,e,!0)-1;if(Ba(t[i],e))return i}return-1},Bi.startCase=Go,Bi.startsWith=function(t,e,i){return t=xo(t),i=null==i?0:ln(fo(i),0,t.length),e=hs(e),t.slice(i,i+e.length)==e},Bi.subtract=Tl,Bi.sum=function(t){return t&&t.length?Ye(t,sl):0},Bi.sumBy=function(t,e){return t&&t.length?Ye(t,cr(e,2)):0},Bi.template=function(t,e,i){var n=Bi.templateSettings;i&&br(t,e,i)&&(e=s),t=xo(t),e=_o({},e,n,Qs);var r,a,o=_o({},e.imports,n.imports,Qs),l=Ao(o),c=ti(o,l),h=0,d=e.interpolate||_t,p="__p += '",u=Pt((e.escape||_t).source+"|"+d.source+"|"+(d===tt?gt:_t).source+"|"+(e.evaluate||_t).source+"|$","g"),g="//# sourceURL="+(jt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++oe+"]")+"\n";t.replace(u,(function(e,i,n,s,o,l){return n||(n=s),p+=t.slice(h,l).replace(Ct,ai),i&&(r=!0,p+="' +\n__e("+i+") +\n'"),o&&(a=!0,p+="';\n"+o+";\n__p += '"),n&&(p+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),h=l+e.length,e})),p+="';\n";var f=jt.call(e,"variable")&&e.variable;if(f){if(pt.test(f))throw new St("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(a?p.replace(q,""):p).replace(W,"$1").replace(Z,"$1;"),p="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=Qo((function(){return Tt(l,g+"return "+p).apply(s,c)}));if(m.source=p,Ya(m))throw m;return m},Bi.times=function(t,e){if((t=fo(t))<1||t>g)return[];var i=m,n=xi(t,m);e=cr(e),t-=m;for(var s=Xe(n,e);++i<t;)e(i);return s},Bi.toFinite=go,Bi.toInteger=fo,Bi.toLength=mo,Bi.toLower=function(t){return xo(t).toLowerCase()},Bi.toNumber=vo,Bi.toSafeInteger=function(t){return t?ln(fo(t),-9007199254740991,g):0===t?t:0},Bi.toString=xo,Bi.toUpper=function(t){return xo(t).toUpperCase()},Bi.trim=function(t,e,i){if((t=xo(t))&&(i||e===s))return Je(t);if(!t||!(e=hs(e)))return t;var n=gi(t),r=gi(e);return _s(n,ii(n,r),ni(n,r)+1).join("")},Bi.trimEnd=function(t,e,i){if((t=xo(t))&&(i||e===s))return t.slice(0,fi(t)+1);if(!t||!(e=hs(e)))return t;var n=gi(t);return _s(n,0,ni(n,gi(e))+1).join("")},Bi.trimStart=function(t,e,i){if((t=xo(t))&&(i||e===s))return t.replace(at,"");if(!t||!(e=hs(e)))return t;var n=gi(t);return _s(n,ii(n,gi(e))).join("")},Bi.truncate=function(t,e){var i=30,n="...";if(to(e)){var r="separator"in e?e.separator:r;i="length"in e?fo(e.length):i,n="omission"in e?hs(e.omission):n}var a=(t=xo(t)).length;if(oi(t)){var o=gi(t);a=o.length}if(i>=a)return t;var l=i-ui(n);if(l<1)return n;var c=o?_s(o,0,l).join(""):t.slice(0,l);if(r===s)return c+n;if(o&&(l+=c.length-l),ro(r)){if(t.slice(l).search(r)){var h,d=c;for(r.global||(r=Pt(r.source,xo(ft.exec(r))+"g")),r.lastIndex=0;h=r.exec(d);)var p=h.index;c=c.slice(0,p===s?l:p)}}else if(t.indexOf(hs(r),l)!=l){var u=c.lastIndexOf(r);u>-1&&(c=c.slice(0,u))}return c+n},Bi.unescape=function(t){return(t=xo(t))&&Y.test(t)?t.replace(K,mi):t},Bi.uniqueId=function(t){var e=++$t;return xo(t)+e},Bi.upperCase=Yo,Bi.upperFirst=Xo,Bi.each=ya,Bi.eachRight=xa,Bi.first=Wr,ll(Bi,(_l={},wn(Bi,(function(t,e){jt.call(Bi.prototype,e)||(_l[e]=t)})),_l),{chain:!1}),Bi.VERSION="4.17.21",Le(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Bi[t].placeholder=Bi})),Le(["drop","take"],(function(t,e){Ui.prototype[t]=function(i){i=i===s?1:yi(fo(i),0);var n=this.__filtered__&&!e?new Ui(this):this.clone();return n.__filtered__?n.__takeCount__=xi(i,n.__takeCount__):n.__views__.push({size:xi(i,m),type:t+(n.__dir__<0?"Right":"")}),n},Ui.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Le(["filter","map","takeWhile"],(function(t,e){var i=e+1,n=1==i||3==i;Ui.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:cr(t,3),type:i}),e.__filtered__=e.__filtered__||n,e}})),Le(["head","last"],(function(t,e){var i="take"+(e?"Right":"");Ui.prototype[t]=function(){return this[i](1).value()[0]}})),Le(["initial","tail"],(function(t,e){var i="drop"+(e?"":"Right");Ui.prototype[t]=function(){return this.__filtered__?new Ui(this):this[i](1)}})),Ui.prototype.compact=function(){return this.filter(sl)},Ui.prototype.find=function(t){return this.filter(t).head()},Ui.prototype.findLast=function(t){return this.reverse().find(t)},Ui.prototype.invokeMap=Xn((function(t,e){return"function"==typeof t?new Ui(this):this.map((function(i){return Mn(i,t,e)}))})),Ui.prototype.reject=function(t){return this.filter(Da(cr(t)))},Ui.prototype.slice=function(t,e){t=fo(t);var i=this;return i.__filtered__&&(t>0||e<0)?new Ui(i):(t<0?i=i.takeRight(-t):t&&(i=i.drop(t)),e!==s&&(i=(e=fo(e))<0?i.dropRight(-e):i.take(e-t)),i)},Ui.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Ui.prototype.toArray=function(){return this.take(m)},wn(Ui.prototype,(function(t,e){var i=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),r=Bi[n?"take"+("last"==e?"Right":""):e],a=n||/^find/.test(e);r&&(Bi.prototype[e]=function(){var e=this.__wrapped__,o=n?[1]:arguments,l=e instanceof Ui,c=o[0],h=l||Ua(e),d=function(t){var e=r.apply(Bi,je([t],o));return n&&p?e[0]:e};h&&i&&"function"==typeof c&&1!=c.length&&(l=h=!1);var p=this.__chain__,u=!!this.__actions__.length,g=a&&!p,f=l&&!u;if(!a&&h){e=f?e:new Ui(this);var m=t.apply(e,o);return m.__actions__.push({func:ua,args:[d],thisArg:s}),new Hi(m,p)}return g&&f?t.apply(this,o):(m=this.thru(d),g?n?m.value()[0]:m.value():m)})})),Le(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Mt[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);Bi.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var s=this.value();return e.apply(Ua(s)?s:[],t)}return this[i]((function(i){return e.apply(Ua(i)?i:[],t)}))}})),wn(Ui.prototype,(function(t,e){var i=Bi[e];if(i){var n=i.name+"";jt.call(Mi,n)||(Mi[n]=[]),Mi[n].push({name:e,func:i})}})),Mi[Ns(s,2).name]=[{name:"wrapper",func:s}],Ui.prototype.clone=function(){var t=new Ui(this.__wrapped__);return t.__actions__=Is(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Is(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Is(this.__views__),t},Ui.prototype.reverse=function(){if(this.__filtered__){var t=new Ui(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Ui.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,i=Ua(t),n=e<0,s=i?t.length:0,r=function(t,e,i){var n=-1,s=i.length;for(;++n<s;){var r=i[n],a=r.size;switch(r.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=xi(e,t+a);break;case"takeRight":t=yi(t,e-a)}}return{start:t,end:e}}(0,s,this.__views__),a=r.start,o=r.end,l=o-a,c=n?o:a-1,h=this.__iteratees__,d=h.length,p=0,u=xi(l,this.__takeCount__);if(!i||!n&&s==l&&u==l)return fs(t,this.__actions__);var g=[];t:for(;l--&&p<u;){for(var f=-1,m=t[c+=e];++f<d;){var v=h[f],y=v.iteratee,x=v.type,b=y(m);if(2==x)m=b;else if(!b){if(1==x)continue t;break t}}g[p++]=m}return g},Bi.prototype.at=ga,Bi.prototype.chain=function(){return pa(this)},Bi.prototype.commit=function(){return new Hi(this.value(),this.__chain__)},Bi.prototype.next=function(){this.__values__===s&&(this.__values__=uo(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?s:this.__values__[this.__index__++]}},Bi.prototype.plant=function(t){for(var e,i=this;i instanceof Vi;){var n=zr(i);n.__index__=0,n.__values__=s,e?r.__wrapped__=n:e=n;var r=n;i=i.__wrapped__}return r.__wrapped__=t,e},Bi.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Ui){var e=t;return this.__actions__.length&&(e=new Ui(this)),(e=e.reverse()).__actions__.push({func:ua,args:[ta],thisArg:s}),new Hi(e,this.__chain__)}return this.thru(ta)},Bi.prototype.toJSON=Bi.prototype.valueOf=Bi.prototype.value=function(){return fs(this.__wrapped__,this.__actions__)},Bi.prototype.first=Bi.prototype.head,Jt&&(Bi.prototype[Jt]=function(){return this}),Bi}();fe._=vi,(n=function(){return vi}.call(e,i,e,t))===s||(t.exports=n)}.call(this)},104:(t,e,i)=>{var n=i(3661);function s(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var i=function(){var n=arguments,s=e?e.apply(this,n):n[0],r=i.cache;if(r.has(s))return r.get(s);var a=t.apply(this,n);return i.cache=r.set(s,a)||r,a};return i.cache=new(s.Cache||n),i}s.Cache=n,t.exports=s},5364:(t,e,i)=>{var n=i(5250),s=i(999)((function(t,e,i){n(t,e,i)}));t.exports=s},179:(t,e,i)=>{var n=i(4932),s=i(9999),r=i(9931),a=i(1769),o=i(1791),l=i(3138),c=i(8816),h=i(3349),d=c((function(t,e){var i={};if(null==t)return i;var c=!1;e=n(e,(function(e){return e=a(e,t),c||(c=e.length>1),e})),o(t,h(t),i),c&&(i=s(i,7,l));for(var d=e.length;d--;)r(i,e[d]);return i}));t.exports=d},3345:t=>{t.exports=function(){return[]}},9935:t=>{t.exports=function(){return!1}},9884:(t,e,i)=>{var n=i(1791),s=i(7241);t.exports=function(t){return n(t,s(t))}},3222:(t,e,i)=>{var n=i(7556);t.exports=function(t){return null==t?"":n(t)}},5816:function(t,e,i){"undefined"!=typeof navigator&&(t.exports=function(){"use strict";var t="http://www.w3.org/2000/svg",n="",s=!1,r=-999999,a=function(t){s=!!t},o=function(){return s},l=function(t){n=t},c=function(){return n};function h(t){return document.createElement(t)}function d(t,e){var i,n,s=t.length;for(i=0;i<s;i+=1)for(var r in n=t[i].prototype)Object.prototype.hasOwnProperty.call(n,r)&&(e.prototype[r]=n[r])}function p(t){function e(){}return e.prototype=t,e}var u=function(){function t(t){this.audios=[],this.audioFactory=t,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(t){this.audios.push(t)},pause:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].pause()},resume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].resume()},setRate:function(t){var e,i=this.audios.length;for(e=0;e<i;e+=1)this.audios[e].setRate(t)},createAudio:function(t){return this.audioFactory?this.audioFactory(t):window.Howl?new window.Howl({src:[t]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(t){this.audioFactory=t},setVolume:function(t){this._volume=t,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].volume(this._volume*(this._isMuted?0:1))}},function(){return new t}}(),g=function(){function t(t,e){var i,n=0,s=[];switch(t){case"int16":case"uint8c":i=1;break;default:i=1.1}for(n=0;n<e;n+=1)s.push(i);return s}function e(e,i){return"float32"===e?new Float32Array(i):"int16"===e?new Int16Array(i):"uint8c"===e?new Uint8ClampedArray(i):t(e,i)}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?e:t}();function f(t){return Array.apply(null,{length:t})}function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}var v=!0,y=null,x=null,b="",w=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_=Math.pow,C=Math.sqrt,S=Math.floor,T=(Math.max,Math.min),k={};(function(){var t,e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],i=e.length;for(t=0;t<i;t+=1)k[e[t]]=Math[e[t]]})(),k.random=Math.random,k.abs=function(t){if("object"===m(t)&&t.length){var e,i=f(t.length),n=t.length;for(e=0;e<n;e+=1)i[e]=Math.abs(t[e]);return i}return Math.abs(t)};var E=150,P=Math.PI/180,L=.5519;function I(t){}function M(t,e,i,n){this.type=t,this.currentTime=e,this.totalTime=i,this.direction=n<0?-1:1}function A(t,e){this.type=t,this.direction=e<0?-1:1}function O(t,e,i,n){this.type=t,this.currentLoop=i,this.totalLoops=e,this.direction=n<0?-1:1}function R(t,e,i){this.type=t,this.firstFrame=e,this.totalFrames=i}function D(t,e){this.type=t,this.target=e}function j(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function $(t){this.type="configError",this.nativeError=t}var F,z=(F=0,function(){return b+"__lottie_element_"+(F+=1)});function B(t,e,i){var n,s,r,a,o,l,c,h;switch(l=i*(1-e),c=i*(1-(o=6*t-(a=Math.floor(6*t)))*e),h=i*(1-(1-o)*e),a%6){case 0:n=i,s=h,r=l;break;case 1:n=c,s=i,r=l;break;case 2:n=l,s=i,r=h;break;case 3:n=l,s=c,r=i;break;case 4:n=h,s=l,r=i;break;case 5:n=i,s=l,r=c}return[n,s,r]}function N(t,e,i){var n,s=Math.max(t,e,i),r=Math.min(t,e,i),a=s-r,o=0===s?0:a/s,l=s/255;switch(s){case r:n=0;break;case t:n=e-i+a*(e<i?6:0),n/=6*a;break;case e:n=i-t+2*a,n/=6*a;break;case i:n=t-e+4*a,n/=6*a}return[n,o,l]}function V(t,e){var i=N(255*t[0],255*t[1],255*t[2]);return i[1]+=e,i[1]>1?i[1]=1:i[1]<=0&&(i[1]=0),B(i[0],i[1],i[2])}function H(t,e){var i=N(255*t[0],255*t[1],255*t[2]);return i[2]+=e,i[2]>1?i[2]=1:i[2]<0&&(i[2]=0),B(i[0],i[1],i[2])}function U(t,e){var i=N(255*t[0],255*t[1],255*t[2]);return i[0]+=e/360,i[0]>1?i[0]-=1:i[0]<0&&(i[0]+=1),B(i[0],i[1],i[2])}!function(){var t,e,i=[];for(t=0;t<256;t+=1)e=t.toString(16),i[t]=1===e.length?"0"+e:e}();var q=function(t){v=!!t},W=function(){return v},Z=function(t){y=t},K=function(){return y},G=function(){return x},Y=function(t){E=t},X=function(){return E},J=function(t){b=t};function Q(e){return document.createElementNS(t,e)}function tt(t){return tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tt(t)}var et=function(){var t,e,i=1,n=[],s={onmessage:function(){},postMessage:function(e){t({data:e})}},r={postMessage:function(t){s.onmessage({data:t})}};function a(e){if(window.Worker&&window.Blob&&o()){var i=new Blob(["var _workerSelf = self; self.onmessage = ",e.toString()],{type:"text/javascript"}),n=URL.createObjectURL(i);return new Worker(n)}return t=e,s}function l(){e||(e=a((function(t){function e(){function t(e,i){var a,o,l,c,h,d,p=e.length;for(o=0;o<p;o+=1)if("ks"in(a=e[o])&&!a.completed){if(a.completed=!0,a.hasMask){var u=a.masksProperties;for(c=u.length,l=0;l<c;l+=1)if(u[l].pt.k.i)r(u[l].pt.k);else for(d=u[l].pt.k.length,h=0;h<d;h+=1)u[l].pt.k[h].s&&r(u[l].pt.k[h].s[0]),u[l].pt.k[h].e&&r(u[l].pt.k[h].e[0])}0===a.ty?(a.layers=n(a.refId,i),t(a.layers,i)):4===a.ty?s(a.shapes):5===a.ty&&g(a)}}function e(e,i){if(e){var s=0,r=e.length;for(s=0;s<r;s+=1)1===e[s].t&&(e[s].data.layers=n(e[s].data.refId,i),t(e[s].data.layers,i))}}function i(t,e){for(var i=0,n=e.length;i<n;){if(e[i].id===t)return e[i];i+=1}return null}function n(t,e){var n=i(t,e);return n?n.layers.__used?JSON.parse(JSON.stringify(n.layers)):(n.layers.__used=!0,n.layers):null}function s(t){var e,i,n;for(e=t.length-1;e>=0;e-=1)if("sh"===t[e].ty)if(t[e].ks.k.i)r(t[e].ks.k);else for(n=t[e].ks.k.length,i=0;i<n;i+=1)t[e].ks.k[i].s&&r(t[e].ks.k[i].s[0]),t[e].ks.k[i].e&&r(t[e].ks.k[i].e[0]);else"gr"===t[e].ty&&s(t[e].it)}function r(t){var e,i=t.i.length;for(e=0;e<i;e+=1)t.i[e][0]+=t.v[e][0],t.i[e][1]+=t.v[e][1],t.o[e][0]+=t.v[e][0],t.o[e][1]+=t.v[e][1]}function a(t,e){var i=e?e.split("."):[100,100,100];return t[0]>i[0]||!(i[0]>t[0])&&(t[1]>i[1]||!(i[1]>t[1])&&(t[2]>i[2]||!(i[2]>t[2])&&null))}var o,l=function(){var t=[4,4,14];function e(t){var e=t.t.d;t.t.d={k:[{s:e,t:0}]}}function i(t){var i,n=t.length;for(i=0;i<n;i+=1)5===t[i].ty&&e(t[i])}return function(e){if(a(t,e.v)&&(i(e.layers),e.assets)){var n,s=e.assets.length;for(n=0;n<s;n+=1)e.assets[n].layers&&i(e.assets[n].layers)}}}(),c=(o=[4,7,99],function(t){if(t.chars&&!a(o,t.v)){var e,i=t.chars.length;for(e=0;e<i;e+=1){var n=t.chars[e];n.data&&n.data.shapes&&(s(n.data.shapes),n.data.ip=0,n.data.op=99999,n.data.st=0,n.data.sr=1,n.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},t.chars[e].t||(n.data.shapes.push({ty:"no"}),n.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),h=function(){var t=[5,7,15];function e(t){var e=t.t.p;"number"==typeof e.a&&(e.a={a:0,k:e.a}),"number"==typeof e.p&&(e.p={a:0,k:e.p}),"number"==typeof e.r&&(e.r={a:0,k:e.r})}function i(t){var i,n=t.length;for(i=0;i<n;i+=1)5===t[i].ty&&e(t[i])}return function(e){if(a(t,e.v)&&(i(e.layers),e.assets)){var n,s=e.assets.length;for(n=0;n<s;n+=1)e.assets[n].layers&&i(e.assets[n].layers)}}}(),d=function(){var t=[4,1,9];function e(t){var i,n,s,r=t.length;for(i=0;i<r;i+=1)if("gr"===t[i].ty)e(t[i].it);else if("fl"===t[i].ty||"st"===t[i].ty)if(t[i].c.k&&t[i].c.k[0].i)for(s=t[i].c.k.length,n=0;n<s;n+=1)t[i].c.k[n].s&&(t[i].c.k[n].s[0]/=255,t[i].c.k[n].s[1]/=255,t[i].c.k[n].s[2]/=255,t[i].c.k[n].s[3]/=255),t[i].c.k[n].e&&(t[i].c.k[n].e[0]/=255,t[i].c.k[n].e[1]/=255,t[i].c.k[n].e[2]/=255,t[i].c.k[n].e[3]/=255);else t[i].c.k[0]/=255,t[i].c.k[1]/=255,t[i].c.k[2]/=255,t[i].c.k[3]/=255}function i(t){var i,n=t.length;for(i=0;i<n;i+=1)4===t[i].ty&&e(t[i].shapes)}return function(e){if(a(t,e.v)&&(i(e.layers),e.assets)){var n,s=e.assets.length;for(n=0;n<s;n+=1)e.assets[n].layers&&i(e.assets[n].layers)}}}(),p=function(){var t=[4,4,18];function e(t){var i,n,s;for(i=t.length-1;i>=0;i-=1)if("sh"===t[i].ty)if(t[i].ks.k.i)t[i].ks.k.c=t[i].closed;else for(s=t[i].ks.k.length,n=0;n<s;n+=1)t[i].ks.k[n].s&&(t[i].ks.k[n].s[0].c=t[i].closed),t[i].ks.k[n].e&&(t[i].ks.k[n].e[0].c=t[i].closed);else"gr"===t[i].ty&&e(t[i].it)}function i(t){var i,n,s,r,a,o,l=t.length;for(n=0;n<l;n+=1){if((i=t[n]).hasMask){var c=i.masksProperties;for(r=c.length,s=0;s<r;s+=1)if(c[s].pt.k.i)c[s].pt.k.c=c[s].cl;else for(o=c[s].pt.k.length,a=0;a<o;a+=1)c[s].pt.k[a].s&&(c[s].pt.k[a].s[0].c=c[s].cl),c[s].pt.k[a].e&&(c[s].pt.k[a].e[0].c=c[s].cl)}4===i.ty&&e(i.shapes)}}return function(e){if(a(t,e.v)&&(i(e.layers),e.assets)){var n,s=e.assets.length;for(n=0;n<s;n+=1)e.assets[n].layers&&i(e.assets[n].layers)}}}();function u(i){i.__complete||(d(i),l(i),c(i),h(i),p(i),t(i.layers,i.assets),e(i.chars,i.assets),i.__complete=!0)}function g(t){0===t.t.a.length&&t.t.p}var f={};return f.completeData=u,f.checkColors=d,f.checkChars=c,f.checkPathProperties=h,f.checkShapes=p,f.completeLayers=t,f}if(r.dataManager||(r.dataManager=e()),r.assetLoader||(r.assetLoader=function(){function t(t){var e=t.getResponseHeader("content-type");return e&&"json"===t.responseType&&-1!==e.indexOf("json")||t.response&&"object"===tt(t.response)?t.response:t.response&&"string"==typeof t.response?JSON.parse(t.response):t.responseText?JSON.parse(t.responseText):null}function e(e,i,n,s){var r,a=new XMLHttpRequest;try{a.responseType="json"}catch(t){}a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status)r=t(a),n(r);else try{r=t(a),n(r)}catch(t){s&&s(t)}};try{a.open(["G","E","T"].join(""),e,!0)}catch(t){a.open(["G","E","T"].join(""),i+"/"+e,!0)}a.send()}return{load:e}}()),"loadAnimation"===t.data.type)r.assetLoader.load(t.data.path,t.data.fullPath,(function(e){r.dataManager.completeData(e),r.postMessage({id:t.data.id,payload:e,status:"success"})}),(function(){r.postMessage({id:t.data.id,status:"error"})}));else if("complete"===t.data.type){var i=t.data.animation;r.dataManager.completeData(i),r.postMessage({id:t.data.id,payload:i,status:"success"})}else"loadData"===t.data.type&&r.assetLoader.load(t.data.path,t.data.fullPath,(function(e){r.postMessage({id:t.data.id,payload:e,status:"success"})}),(function(){r.postMessage({id:t.data.id,status:"error"})}))})),e.onmessage=function(t){var e=t.data,i=e.id,s=n[i];n[i]=null,"success"===e.status?s.onComplete(e.payload):s.onError&&s.onError()})}function c(t,e){var s="processId_"+(i+=1);return n[s]={onComplete:t,onError:e},s}function h(t,i,n){l();var s=c(i,n);e.postMessage({type:"loadAnimation",path:t,fullPath:window.location.origin+window.location.pathname,id:s})}function d(t,i,n){l();var s=c(i,n);e.postMessage({type:"loadData",path:t,fullPath:window.location.origin+window.location.pathname,id:s})}function p(t,i,n){l();var s=c(i,n);e.postMessage({type:"complete",animation:t,id:s})}return{loadAnimation:h,loadData:d,completeAnimation:p}}(),it=function(){var t=function(){var t=h("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),t}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function i(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(t,e,i){var n="";if(t.e)n=t.p;else if(e){var s=t.p;-1!==s.indexOf("images/")&&(s=s.split("/")[1]),n=e+s}else n=i,n+=t.u?t.u:"",n+=t.p;return n}function s(t){var e=0,i=setInterval(function(){(t.getBBox().width||e>500)&&(this._imageLoaded(),clearInterval(i)),e+=1}.bind(this),50)}function r(e){var i=n(e,this.assetsPath,this.path),s=Q("image");w?this.testImageLoaded(s):s.addEventListener("load",this._imageLoaded,!1),s.addEventListener("error",function(){r.img=t,this._imageLoaded()}.bind(this),!1),s.setAttributeNS("http://www.w3.org/1999/xlink","href",i),this._elementHelper.append?this._elementHelper.append(s):this._elementHelper.appendChild(s);var r={img:s,assetData:e};return r}function a(e){var i=n(e,this.assetsPath,this.path),s=h("img");s.crossOrigin="anonymous",s.addEventListener("load",this._imageLoaded,!1),s.addEventListener("error",function(){r.img=t,this._imageLoaded()}.bind(this),!1),s.src=i;var r={img:s,assetData:e};return r}function o(t){var e={assetData:t},i=n(t,this.assetsPath,this.path);return et.loadData(i,function(t){e.img=t,this._footageLoaded()}.bind(this),function(){e.img={},this._footageLoaded()}.bind(this)),e}function l(t,e){var i;this.imagesLoadedCb=e;var n=t.length;for(i=0;i<n;i+=1)t[i].layers||(t[i].t&&"seq"!==t[i].t?3===t[i].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(t[i]))):(this.totalImages+=1,this.images.push(this._createImageData(t[i]))))}function c(t){this.path=t||""}function d(t){this.assetsPath=t||""}function p(t){for(var e=0,i=this.images.length;e<i;){if(this.images[e].assetData===t)return this.images[e].img;e+=1}return null}function u(){this.imagesLoadedCb=null,this.images.length=0}function g(){return this.totalImages===this.loadedAssets}function f(){return this.totalFootages===this.loadedFootagesCount}function m(t,e){"svg"===t?(this._elementHelper=e,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function v(){this._imageLoaded=e.bind(this),this._footageLoaded=i.bind(this),this.testImageLoaded=s.bind(this),this.createFootageData=o.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return v.prototype={loadAssets:l,setAssetsPath:d,setPath:c,loadedImages:g,loadedFootages:f,destroy:u,getAsset:p,createImgData:a,createImageData:r,imageLoaded:e,footageLoaded:i,setCacheType:m},v}();function nt(){}nt.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var i=this._cbs[t],n=0;n<i.length;n+=1)i[n](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),function(){this.removeEventListener(t,e)}.bind(this)},removeEventListener:function(t,e){if(e){if(this._cbs[t]){for(var i=0,n=this._cbs[t].length;i<n;)this._cbs[t][i]===e&&(this._cbs[t].splice(i,1),i-=1,n-=1),i+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var st=function(){function t(t){for(var e,i=t.split("\r\n"),n={},s=0,r=0;r<i.length;r+=1)2===(e=i[r].split(":")).length&&(n[e[0]]=e[1].trim(),s+=1);if(0===s)throw new Error;return n}return function(e){for(var i=[],n=0;n<e.length;n+=1){var s=e[n],r={time:s.tm,duration:s.dr};try{r.payload=JSON.parse(e[n].cm)}catch(i){try{r.payload=t(e[n].cm)}catch(t){r.payload={name:e[n].cm}}}i.push(r)}return i}}(),rt=function(){function t(t){this.compositions.push(t)}return function(){function e(t){for(var e=0,i=this.compositions.length;e<i;){if(this.compositions[e].data&&this.compositions[e].data.nm===t)return this.compositions[e].prepareFrame&&this.compositions[e].data.xt&&this.compositions[e].prepareFrame(this.currentFrame),this.compositions[e].compInterface;e+=1}return null}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),at={},ot=function(t,e){at[t]=e};function lt(t){return at[t]}function ct(){if(at.canvas)return"canvas";for(var t in at)if(at[t])return t;return""}function ht(t){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ht(t)}var dt=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=z(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=W(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=rt(),this.imagePreloader=new it,this.audioController=u(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new M("drawnFrame",0,0,0),this.expressionsPlugin=K()};d([nt],dt),dt.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e="svg";t.animType?e=t.animType:t.renderer&&(e=t.renderer);var i=lt(e);this.renderer=new i(this,t.rendererSettings),this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,""===t.loop||null===t.loop||void 0===t.loop||!0===t.loop?this.loop=!0:!1===t.loop?this.loop=!1:this.loop=parseInt(t.loop,10),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name?t.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(t,"autoloadSegments")||t.autoloadSegments,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.setupAnimation(t.animationData):t.path&&(-1!==t.path.lastIndexOf("\\")?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),et.loadAnimation(t.path,this.configAnimation,this.onSetupError))},dt.prototype.onSetupError=function(){this.trigger("data_failed")},dt.prototype.setupAnimation=function(t){et.completeAnimation(t,this.configAnimation)},dt.prototype.setData=function(t,e){e&&"object"!==ht(e)&&(e=JSON.parse(e));var i={wrapper:t,animationData:e},n=t.attributes;i.path=n.getNamedItem("data-animation-path")?n.getNamedItem("data-animation-path").value:n.getNamedItem("data-bm-path")?n.getNamedItem("data-bm-path").value:n.getNamedItem("bm-path")?n.getNamedItem("bm-path").value:"",i.animType=n.getNamedItem("data-anim-type")?n.getNamedItem("data-anim-type").value:n.getNamedItem("data-bm-type")?n.getNamedItem("data-bm-type").value:n.getNamedItem("bm-type")?n.getNamedItem("bm-type").value:n.getNamedItem("data-bm-renderer")?n.getNamedItem("data-bm-renderer").value:n.getNamedItem("bm-renderer")?n.getNamedItem("bm-renderer").value:ct()||"canvas";var s=n.getNamedItem("data-anim-loop")?n.getNamedItem("data-anim-loop").value:n.getNamedItem("data-bm-loop")?n.getNamedItem("data-bm-loop").value:n.getNamedItem("bm-loop")?n.getNamedItem("bm-loop").value:"";"false"===s?i.loop=!1:"true"===s?i.loop=!0:""!==s&&(i.loop=parseInt(s,10));var r=n.getNamedItem("data-anim-autoplay")?n.getNamedItem("data-anim-autoplay").value:n.getNamedItem("data-bm-autoplay")?n.getNamedItem("data-bm-autoplay").value:!n.getNamedItem("bm-autoplay")||n.getNamedItem("bm-autoplay").value;i.autoplay="false"!==r,i.name=n.getNamedItem("data-name")?n.getNamedItem("data-name").value:n.getNamedItem("data-bm-name")?n.getNamedItem("data-bm-name").value:n.getNamedItem("bm-name")?n.getNamedItem("bm-name").value:"","false"===(n.getNamedItem("data-anim-prerender")?n.getNamedItem("data-anim-prerender").value:n.getNamedItem("data-bm-prerender")?n.getNamedItem("data-bm-prerender").value:n.getNamedItem("bm-prerender")?n.getNamedItem("bm-prerender").value:"")&&(i.prerender=!1),i.path?this.setParams(i):this.trigger("destroy")},dt.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e,i,n=this.animationData.layers,s=n.length,r=t.layers,a=r.length;for(i=0;i<a;i+=1)for(e=0;e<s;){if(n[e].id===r[i].id){n[e]=r[i];break}e+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(s=t.assets.length,e=0;e<s;e+=1)this.animationData.assets.push(t.assets[e]);this.animationData.__complete=!1,et.completeAnimation(this.animationData,this.onSegmentComplete)},dt.prototype.onSegmentComplete=function(t){this.animationData=t;var e=K();e&&e.initExpressions(this),this.loadNextSegment()},dt.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var e=t.shift();this.timeCompleted=e.time*this.frameRate;var i=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,et.loadData(i,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},dt.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},dt.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},dt.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},dt.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.markers=st(t.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(t){this.triggerConfigError(t)}},dt.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},dt.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var t=K();t&&t.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},dt.prototype.resize=function(t,e){var i="number"==typeof t?t:void 0,n="number"==typeof e?e:void 0;this.renderer.updateContainerSize(i,n)},dt.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},dt.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},dt.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},dt.prototype.play=function(t){t&&this.name!==t||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},dt.prototype.pause=function(t){t&&this.name!==t||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},dt.prototype.togglePause=function(t){t&&this.name!==t||(!0===this.isPaused?this.play():this.pause())},dt.prototype.stop=function(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},dt.prototype.getMarkerData=function(t){for(var e,i=0;i<this.markers.length;i+=1)if((e=this.markers[i]).payload&&e.payload.name===t)return e;return null},dt.prototype.goToAndStop=function(t,e,i){if(!i||this.name===i){var n=Number(t);if(isNaN(n)){var s=this.getMarkerData(t);s&&this.goToAndStop(s.time,!0)}else e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier);this.pause()}},dt.prototype.goToAndPlay=function(t,e,i){if(!i||this.name===i){var n=Number(t);if(isNaN(n)){var s=this.getMarkerData(t);s&&(s.duration?this.playSegments([s.time,s.time+s.duration],!0):this.goToAndStop(s.time,!0))}else this.goToAndStop(n,e,i);this.play()}},dt.prototype.advanceTime=function(t){if(!0!==this.isPaused&&!1!==this.isLoaded){var e=this.currentRawFrame+t*this.frameModifier,i=!1;e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(i=!0,e=this.totalFrames-1):e<0?this.checkSegments(e%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(i=!0,e=0):(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(e),i&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},dt.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},dt.prototype.setSegment=function(t,e){var i=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?i=t:this.currentRawFrame+this.firstFrame>e&&(i=e-t)),this.firstFrame=t,this.totalFrames=e-t,this.timeCompleted=this.totalFrames,-1!==i&&this.goToAndStop(i,!0)},dt.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),"object"===ht(t[0])){var i,n=t.length;for(i=0;i<n;i+=1)this.segments.push(t[i])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},dt.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},dt.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},dt.prototype.destroy=function(t){t&&this.name!==t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},dt.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},dt.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},dt.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},dt.prototype.setLoop=function(t){this.loop=t},dt.prototype.setVolume=function(t,e){e&&this.name!==e||this.audioController.setVolume(t)},dt.prototype.getVolume=function(){return this.audioController.getVolume()},dt.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},dt.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},dt.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},dt.prototype.getPath=function(){return this.path},dt.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var i=t.p;-1!==i.indexOf("images/")&&(i=i.split("/")[1]),e=this.assetsPath+i}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},dt.prototype.getAssetData=function(t){for(var e=0,i=this.assets.length;e<i;){if(t===this.assets[e].id)return this.assets[e];e+=1}return null},dt.prototype.hide=function(){this.renderer.hide()},dt.prototype.show=function(){this.renderer.show()},dt.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},dt.prototype.updateDocumentData=function(t,e,i){try{this.renderer.getElementByPath(t).updateDocumentData(e,i)}catch(t){}},dt.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new M(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(t,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(t,new O(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new A(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new R(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new D(t,this));break;default:this.triggerEvent(t)}"enterFrame"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new M(t,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new O(t,this.loop,this.playCount,this.frameMult)),"complete"===t&&this.onComplete&&this.onComplete.call(this,new A(t,this.frameMult)),"segmentStart"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new R(t,this.firstFrame,this.totalFrames)),"destroy"===t&&this.onDestroy&&this.onDestroy.call(this,new D(t,this))},dt.prototype.triggerRenderFrameError=function(t){var e=new j(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},dt.prototype.triggerConfigError=function(t){var e=new $(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var pt=function(){var t={},e=[],i=0,n=0,s=0,r=!0,a=!1;function o(t){for(var i=0,s=t.target;i<n;)e[i].animation===s&&(e.splice(i,1),i-=1,n-=1,s.isPaused||p()),i+=1}function l(t,i){if(!t)return null;for(var s=0;s<n;){if(e[s].elem===t&&null!==e[s].elem)return e[s].animation;s+=1}var r=new dt;return u(r,t),r.setData(t,i),r}function c(){var t,i=e.length,n=[];for(t=0;t<i;t+=1)n.push(e[t].animation);return n}function d(){s+=1,E()}function p(){s-=1}function u(t,i){t.addEventListener("destroy",o),t.addEventListener("_active",d),t.addEventListener("_idle",p),e.push({elem:i,animation:t}),n+=1}function g(t){var e=new dt;return u(e,null),e.setParams(t),e}function f(t,i){var s;for(s=0;s<n;s+=1)e[s].animation.setSpeed(t,i)}function m(t,i){var s;for(s=0;s<n;s+=1)e[s].animation.setDirection(t,i)}function v(t){var i;for(i=0;i<n;i+=1)e[i].animation.play(t)}function y(t){var o,l=t-i;for(o=0;o<n;o+=1)e[o].animation.advanceTime(l);i=t,s&&!a?window.requestAnimationFrame(y):r=!0}function x(t){i=t,window.requestAnimationFrame(y)}function b(t){var i;for(i=0;i<n;i+=1)e[i].animation.pause(t)}function w(t,i,s){var r;for(r=0;r<n;r+=1)e[r].animation.goToAndStop(t,i,s)}function _(t){var i;for(i=0;i<n;i+=1)e[i].animation.stop(t)}function C(t){var i;for(i=0;i<n;i+=1)e[i].animation.togglePause(t)}function S(t){var i;for(i=n-1;i>=0;i-=1)e[i].animation.destroy(t)}function T(t,e,i){var n,s=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),r=s.length;for(n=0;n<r;n+=1)i&&s[n].setAttribute("data-bm-type",i),l(s[n],t);if(e&&0===r){i||(i="svg");var a=document.getElementsByTagName("body")[0];a.innerText="";var o=h("div");o.style.width="100%",o.style.height="100%",o.setAttribute("data-bm-type",i),a.appendChild(o),l(o,t)}}function k(){var t;for(t=0;t<n;t+=1)e[t].animation.resize()}function E(){!a&&s&&r&&(window.requestAnimationFrame(x),r=!1)}function P(){a=!0}function L(){a=!1,E()}function I(t,i){var s;for(s=0;s<n;s+=1)e[s].animation.setVolume(t,i)}function M(t){var i;for(i=0;i<n;i+=1)e[i].animation.mute(t)}function A(t){var i;for(i=0;i<n;i+=1)e[i].animation.unmute(t)}return t.registerAnimation=l,t.loadAnimation=g,t.setSpeed=f,t.setDirection=m,t.play=v,t.pause=b,t.stop=_,t.togglePause=C,t.searchAnimations=T,t.resize=k,t.goToAndStop=w,t.destroy=S,t.freeze=P,t.unfreeze=L,t.setVolume=I,t.mute=M,t.unmute=A,t.getRegisteredAnimations=c,t}(),ut=function(){var t={};t.getBezierEasing=i;var e={};function i(t,i,n,s,r){var a=r||("bez_"+t+"_"+i+"_"+n+"_"+s).replace(/\./g,"p");if(e[a])return e[a];var o=new v([t,i,n,s]);return e[a]=o,o}var n=4,s=.001,r=1e-7,a=10,o=11,l=1/(o-1),c="function"==typeof Float32Array;function h(t,e){return 1-3*e+3*t}function d(t,e){return 3*e-6*t}function p(t){return 3*t}function u(t,e,i){return((h(e,i)*t+d(e,i))*t+p(e))*t}function g(t,e,i){return 3*h(e,i)*t*t+2*d(e,i)*t+p(e)}function f(t,e,i,n,s){var o,l,c=0;do{(o=u(l=e+(i-e)/2,n,s)-t)>0?i=l:e=l}while(Math.abs(o)>r&&++c<a);return l}function m(t,e,i,s){for(var r=0;r<n;++r){var a=g(e,i,s);if(0===a)return e;e-=(u(e,i,s)-t)/a}return e}function v(t){this._p=t,this._mSampleValues=c?new Float32Array(o):new Array(o),this._precomputed=!1,this.get=this.get.bind(this)}return v.prototype={get:function(t){var e=this._p[0],i=this._p[1],n=this._p[2],s=this._p[3];return this._precomputed||this._precompute(),e===i&&n===s?t:0===t?0:1===t?1:u(this._getTForX(t),i,s)},_precompute:function(){var t=this._p[0],e=this._p[1],i=this._p[2],n=this._p[3];this._precomputed=!0,t===e&&i===n||this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],i=0;i<o;++i)this._mSampleValues[i]=u(i*l,t,e)},_getTForX:function(t){for(var e=this._p[0],i=this._p[2],n=this._mSampleValues,r=0,a=1,c=o-1;a!==c&&n[a]<=t;++a)r+=l;var h=r+(t-n[--a])/(n[a+1]-n[a])*l,d=g(h,e,i);return d>=s?m(t,h,e,i):0===d?h:f(t,r,r+l,e,i)}},t}(),gt=function(){function t(t){return t.concat(f(t.length))}return{double:t}}(),ft=function(t,e,i){var n=0,s=t,r=f(s);function a(){return n?r[n-=1]:e()}function o(t){n===s&&(r=gt.double(r),s*=2),i&&i(t),r[n]=t,n+=1}return{newElement:a,release:o}},mt=function(){function t(){return{addedLength:0,percents:g("float32",X()),lengths:g("float32",X())}}return ft(8,t)}(),vt=function(){function t(){return{lengths:[],totalLength:0}}function e(t){var e,i=t.lengths.length;for(e=0;e<i;e+=1)mt.release(t.lengths[e]);t.lengths.length=0}return ft(8,t,e)}();function yt(){var t=Math;function e(t,e,i,n,s,r){var a=t*n+e*s+i*r-s*n-r*t-i*e;return a>-.001&&a<.001}function i(i,n,s,r,a,o,l,c,h){if(0===s&&0===o&&0===h)return e(i,n,r,a,l,c);var d,p=t.sqrt(t.pow(r-i,2)+t.pow(a-n,2)+t.pow(o-s,2)),u=t.sqrt(t.pow(l-i,2)+t.pow(c-n,2)+t.pow(h-s,2)),g=t.sqrt(t.pow(l-r,2)+t.pow(c-a,2)+t.pow(h-o,2));return(d=p>u?p>g?p-u-g:g-u-p:g>u?g-u-p:u-p-g)>-1e-4&&d<1e-4}var n=function(t,e,i,n){var s,r,a,o,l,c,h=X(),d=0,p=[],u=[],g=mt.newElement();for(a=i.length,s=0;s<h;s+=1){for(l=s/(h-1),c=0,r=0;r<a;r+=1)o=_(1-l,3)*t[r]+3*_(1-l,2)*l*i[r]+3*(1-l)*_(l,2)*n[r]+_(l,3)*e[r],p[r]=o,null!==u[r]&&(c+=_(p[r]-u[r],2)),u[r]=p[r];c&&(d+=c=C(c)),g.percents[s]=l,g.lengths[s]=d}return g.addedLength=d,g};function s(t){var e,i=vt.newElement(),s=t.c,r=t.v,a=t.o,o=t.i,l=t._length,c=i.lengths,h=0;for(e=0;e<l-1;e+=1)c[e]=n(r[e],r[e+1],a[e],o[e+1]),h+=c[e].addedLength;return s&&l&&(c[e]=n(r[e],r[0],a[e],o[0]),h+=c[e].addedLength),i.totalLength=h,i}function r(t){this.segmentLength=0,this.points=new Array(t)}function a(t,e){this.partialLength=t,this.point=e}var o,l=(o={},function(t,i,n,s){var l=(t[0]+"_"+t[1]+"_"+i[0]+"_"+i[1]+"_"+n[0]+"_"+n[1]+"_"+s[0]+"_"+s[1]).replace(/\./g,"p");if(!o[l]){var c,h,d,p,u,g,m,v=X(),y=0,x=null;2===t.length&&(t[0]!==i[0]||t[1]!==i[1])&&e(t[0],t[1],i[0],i[1],t[0]+n[0],t[1]+n[1])&&e(t[0],t[1],i[0],i[1],i[0]+s[0],i[1]+s[1])&&(v=2);var b=new r(v);for(d=n.length,c=0;c<v;c+=1){for(m=f(d),u=c/(v-1),g=0,h=0;h<d;h+=1)p=_(1-u,3)*t[h]+3*_(1-u,2)*u*(t[h]+n[h])+3*(1-u)*_(u,2)*(i[h]+s[h])+_(u,3)*i[h],m[h]=p,null!==x&&(g+=_(m[h]-x[h],2));y+=g=C(g),b.points[c]=new a(g,m),x=m}b.segmentLength=y,o[l]=b}return o[l]});function c(t,e){var i=e.percents,n=e.lengths,s=i.length,r=S((s-1)*t),a=t*e.addedLength,o=0;if(r===s-1||0===r||a===n[r])return i[r];for(var l=n[r]>a?-1:1,c=!0;c;)if(n[r]<=a&&n[r+1]>a?(o=(a-n[r])/(n[r+1]-n[r]),c=!1):r+=l,r<0||r>=s-1){if(r===s-1)return i[r];c=!1}return i[r]+(i[r+1]-i[r])*o}function h(e,i,n,s,r,a){var o=c(r,a),l=1-o;return[t.round(1e3*(l*l*l*e[0]+(o*l*l+l*o*l+l*l*o)*n[0]+(o*o*l+l*o*o+o*l*o)*s[0]+o*o*o*i[0]))/1e3,t.round(1e3*(l*l*l*e[1]+(o*l*l+l*o*l+l*l*o)*n[1]+(o*o*l+l*o*o+o*l*o)*s[1]+o*o*o*i[1]))/1e3]}var d=g("float32",8);function p(e,i,n,s,r,a,o){r<0?r=0:r>1&&(r=1);var l,h=c(r,o),p=c(a=a>1?1:a,o),u=e.length,g=1-h,f=1-p,m=g*g*g,v=h*g*g*3,y=h*h*g*3,x=h*h*h,b=g*g*f,w=h*g*f+g*h*f+g*g*p,_=h*h*f+g*h*p+h*g*p,C=h*h*p,S=g*f*f,T=h*f*f+g*p*f+g*f*p,k=h*p*f+g*p*p+h*f*p,E=h*p*p,P=f*f*f,L=p*f*f+f*p*f+f*f*p,I=p*p*f+f*p*p+p*f*p,M=p*p*p;for(l=0;l<u;l+=1)d[4*l]=t.round(1e3*(m*e[l]+v*n[l]+y*s[l]+x*i[l]))/1e3,d[4*l+1]=t.round(1e3*(b*e[l]+w*n[l]+_*s[l]+C*i[l]))/1e3,d[4*l+2]=t.round(1e3*(S*e[l]+T*n[l]+k*s[l]+E*i[l]))/1e3,d[4*l+3]=t.round(1e3*(P*e[l]+L*n[l]+I*s[l]+M*i[l]))/1e3;return d}return{getSegmentsLength:s,getNewSegment:p,getPointInSegment:h,buildBezierData:l,pointOnLine2D:e,pointOnLine3D:i}}var xt=yt(),bt=r,wt=Math.abs;function _t(t,e){var i,n=this.offsetTime;"multidimensional"===this.propType&&(i=g("float32",this.pv.length));for(var s,r,a,o,l,c,h,d,p,u=e.lastIndex,f=u,m=this.keyframes.length-1,v=!0;v;){if(s=this.keyframes[f],r=this.keyframes[f+1],f===m-1&&t>=r.t-n){s.h&&(s=r),u=0;break}if(r.t-n>t){u=f;break}f<m-1?f+=1:(u=0,v=!1)}a=this.keyframesMetadata[f]||{};var y,x=r.t-n,b=s.t-n;if(s.to){a.bezierData||(a.bezierData=xt.buildBezierData(s.s,r.s||s.e,s.to,s.ti));var w=a.bezierData;if(t>=x||t<b){var _=t>=x?w.points.length-1:0;for(l=w.points[_].point.length,o=0;o<l;o+=1)i[o]=w.points[_].point[o]}else{a.__fnct?p=a.__fnct:(p=ut.getBezierEasing(s.o.x,s.o.y,s.i.x,s.i.y,s.n).get,a.__fnct=p),c=p((t-b)/(x-b));var C,S=w.segmentLength*c,T=e.lastFrame<t&&e._lastKeyframeIndex===f?e._lastAddedLength:0;for(d=e.lastFrame<t&&e._lastKeyframeIndex===f?e._lastPoint:0,v=!0,h=w.points.length;v;){if(T+=w.points[d].partialLength,0===S||0===c||d===w.points.length-1){for(l=w.points[d].point.length,o=0;o<l;o+=1)i[o]=w.points[d].point[o];break}if(S>=T&&S<T+w.points[d+1].partialLength){for(C=(S-T)/w.points[d+1].partialLength,l=w.points[d].point.length,o=0;o<l;o+=1)i[o]=w.points[d].point[o]+(w.points[d+1].point[o]-w.points[d].point[o])*C;break}d<h-1?d+=1:v=!1}e._lastPoint=d,e._lastAddedLength=T-w.points[d].partialLength,e._lastKeyframeIndex=f}}else{var k,E,P,L,I;if(m=s.s.length,y=r.s||s.e,this.sh&&1!==s.h)t>=x?(i[0]=y[0],i[1]=y[1],i[2]=y[2]):t<=b?(i[0]=s.s[0],i[1]=s.s[1],i[2]=s.s[2]):St(i,Ct(Tt(s.s),Tt(y),(t-b)/(x-b)));else for(f=0;f<m;f+=1)1!==s.h&&(t>=x?c=1:t<b?c=0:(s.o.x.constructor===Array?(a.__fnct||(a.__fnct=[]),a.__fnct[f]?p=a.__fnct[f]:(k=void 0===s.o.x[f]?s.o.x[0]:s.o.x[f],E=void 0===s.o.y[f]?s.o.y[0]:s.o.y[f],P=void 0===s.i.x[f]?s.i.x[0]:s.i.x[f],L=void 0===s.i.y[f]?s.i.y[0]:s.i.y[f],p=ut.getBezierEasing(k,E,P,L).get,a.__fnct[f]=p)):a.__fnct?p=a.__fnct:(k=s.o.x,E=s.o.y,P=s.i.x,L=s.i.y,p=ut.getBezierEasing(k,E,P,L).get,s.keyframeMetadata=p),c=p((t-b)/(x-b)))),y=r.s||s.e,I=1===s.h?s.s[f]:s.s[f]+(y[f]-s.s[f])*c,"multidimensional"===this.propType?i[f]=I:i=I}return e.lastIndex=u,i}function Ct(t,e,i){var n,s,r,a,o,l=[],c=t[0],h=t[1],d=t[2],p=t[3],u=e[0],g=e[1],f=e[2],m=e[3];return(s=c*u+h*g+d*f+p*m)<0&&(s=-s,u=-u,g=-g,f=-f,m=-m),1-s>1e-6?(n=Math.acos(s),r=Math.sin(n),a=Math.sin((1-i)*n)/r,o=Math.sin(i*n)/r):(a=1-i,o=i),l[0]=a*c+o*u,l[1]=a*h+o*g,l[2]=a*d+o*f,l[3]=a*p+o*m,l}function St(t,e){var i=e[0],n=e[1],s=e[2],r=e[3],a=Math.atan2(2*n*r-2*i*s,1-2*n*n-2*s*s),o=Math.asin(2*i*n+2*s*r),l=Math.atan2(2*i*r-2*n*s,1-2*i*i-2*s*s);t[0]=a/P,t[1]=o/P,t[2]=l/P}function Tt(t){var e=t[0]*P,i=t[1]*P,n=t[2]*P,s=Math.cos(e/2),r=Math.cos(i/2),a=Math.cos(n/2),o=Math.sin(e/2),l=Math.sin(i/2),c=Math.sin(n/2);return[o*l*a+s*r*c,o*r*a+s*l*c,s*l*a-o*r*c,s*r*a-o*l*c]}function kt(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==bt&&(this._caching.lastFrame>=i&&t>=i||this._caching.lastFrame<e&&t<e))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var n=this.interpolateValue(t,this._caching);this.pv=n}return this._caching.lastFrame=t,this.pv}function Et(t){var e;if("unidimensional"===this.propType)e=t*this.mult,wt(this.v-e)>1e-5&&(this.v=e,this._mdf=!0);else for(var i=0,n=this.v.length;i<n;)e=t[i]*this.mult,wt(this.v[i]-e)>1e-5&&(this.v[i]=e,this._mdf=!0),i+=1}function Pt(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var t;this.lock=!0,this._mdf=this._isFirstFrame;var e=this.effectsSequence.length,i=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)i=this.effectsSequence[t](i);this.setVValue(i),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function Lt(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function It(t,e,i,n){this.propType="unidimensional",this.mult=i||1,this.data=e,this.v=i?e.k*i:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=n,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=Pt,this.setVValue=Et,this.addEffect=Lt}function Mt(t,e,i,n){var s;this.propType="multidimensional",this.mult=i||1,this.data=e,this._mdf=!1,this.elem=t,this.container=n,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var r=e.k.length;for(this.v=g("float32",r),this.pv=g("float32",r),this.vel=g("float32",r),s=0;s<r;s+=1)this.v[s]=e.k[s]*this.mult,this.pv[s]=e.k[s];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=Pt,this.setVValue=Et,this.addEffect=Lt}function At(t,e,i,n){this.propType="unidimensional",this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:bt,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=e,this.mult=i||1,this.elem=t,this.container=n,this.comp=t.comp,this.v=bt,this.pv=bt,this._isFirstFrame=!0,this.getValue=Pt,this.setVValue=Et,this.interpolateValue=_t,this.effectsSequence=[kt.bind(this)],this.addEffect=Lt}function Ot(t,e,i,n){var s;this.propType="multidimensional";var r,a,o,l,c=e.k.length;for(s=0;s<c-1;s+=1)e.k[s].to&&e.k[s].s&&e.k[s+1]&&e.k[s+1].s&&(r=e.k[s].s,a=e.k[s+1].s,o=e.k[s].to,l=e.k[s].ti,(2===r.length&&(r[0]!==a[0]||r[1]!==a[1])&&xt.pointOnLine2D(r[0],r[1],a[0],a[1],r[0]+o[0],r[1]+o[1])&&xt.pointOnLine2D(r[0],r[1],a[0],a[1],a[0]+l[0],a[1]+l[1])||3===r.length&&(r[0]!==a[0]||r[1]!==a[1]||r[2]!==a[2])&&xt.pointOnLine3D(r[0],r[1],r[2],a[0],a[1],a[2],r[0]+o[0],r[1]+o[1],r[2]+o[2])&&xt.pointOnLine3D(r[0],r[1],r[2],a[0],a[1],a[2],a[0]+l[0],a[1]+l[1],a[2]+l[2]))&&(e.k[s].to=null,e.k[s].ti=null),r[0]===a[0]&&r[1]===a[1]&&0===o[0]&&0===o[1]&&0===l[0]&&0===l[1]&&(2===r.length||r[2]===a[2]&&0===o[2]&&0===l[2])&&(e.k[s].to=null,e.k[s].ti=null));this.effectsSequence=[kt.bind(this)],this.data=e,this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=i||1,this.elem=t,this.container=n,this.comp=t.comp,this.getValue=Pt,this.setVValue=Et,this.interpolateValue=_t,this.frameId=-1;var h=e.k[0].s.length;for(this.v=g("float32",h),this.pv=g("float32",h),s=0;s<h;s+=1)this.v[s]=bt,this.pv[s]=bt;this._caching={lastFrame:bt,lastIndex:0,value:g("float32",h)},this.addEffect=Lt}var Rt=function(){function t(t,e,i,n,s){var r;if(e.sid&&(e=t.globalData.slotManager.getProp(e)),e.k.length)if("number"==typeof e.k[0])r=new Mt(t,e,n,s);else switch(i){case 0:r=new At(t,e,n,s);break;case 1:r=new Ot(t,e,n,s)}else r=new It(t,e,n,s);return r.effectsSequence.length&&s.addDynamicProperty(r),r}return{getProp:t}}();function Dt(){}Dt.prototype={addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var t;this._mdf=!1;var e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var jt=function(){function t(){return g("float32",2)}return ft(8,t)}();function $t(){this.c=!1,this._length=0,this._maxLength=8,this.v=f(this._maxLength),this.o=f(this._maxLength),this.i=f(this._maxLength)}$t.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var i=0;i<e;)this.v[i]=jt.newElement(),this.o[i]=jt.newElement(),this.i[i]=jt.newElement(),i+=1},$t.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},$t.prototype.doubleArrayLength=function(){this.v=this.v.concat(f(this._maxLength)),this.i=this.i.concat(f(this._maxLength)),this.o=this.o.concat(f(this._maxLength)),this._maxLength*=2},$t.prototype.setXYAt=function(t,e,i,n,s){var r;switch(this._length=Math.max(this._length,n+1),this._length>=this._maxLength&&this.doubleArrayLength(),i){case"v":r=this.v;break;case"i":r=this.i;break;case"o":r=this.o;break;default:r=[]}(!r[n]||r[n]&&!s)&&(r[n]=jt.newElement()),r[n][0]=t,r[n][1]=e},$t.prototype.setTripleAt=function(t,e,i,n,s,r,a,o){this.setXYAt(t,e,"v",a,o),this.setXYAt(i,n,"o",a,o),this.setXYAt(s,r,"i",a,o)},$t.prototype.reverse=function(){var t=new $t;t.setPathData(this.c,this._length);var e=this.v,i=this.o,n=this.i,s=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],n[0][0],n[0][1],i[0][0],i[0][1],0,!1),s=1);var r,a=this._length-1,o=this._length;for(r=s;r<o;r+=1)t.setTripleAt(e[a][0],e[a][1],n[a][0],n[a][1],i[a][0],i[a][1],r,!1),a-=1;return t},$t.prototype.length=function(){return this._length};var Ft=function(){function t(){return new $t}function e(t){var e,i=t._length;for(e=0;e<i;e+=1)jt.release(t.v[e]),jt.release(t.i[e]),jt.release(t.o[e]),t.v[e]=null,t.i[e]=null,t.o[e]=null;t._length=0,t.c=!1}function i(t){var e,i=n.newElement(),s=void 0===t._length?t.v.length:t._length;for(i.setLength(s),i.c=t.c,e=0;e<s;e+=1)i.setTripleAt(t.v[e][0],t.v[e][1],t.o[e][0],t.o[e][1],t.i[e][0],t.i[e][1],e);return i}var n=ft(4,t,e);return n.clone=i,n}();function zt(){this._length=0,this._maxLength=4,this.shapes=f(this._maxLength)}zt.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(f(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},zt.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)Ft.release(this.shapes[t]);this._length=0};var Bt=function(){var t={newShapeCollection:s,release:r},e=0,i=4,n=f(i);function s(){return e?n[e-=1]:new zt}function r(t){var s,r=t._length;for(s=0;s<r;s+=1)Ft.release(t.shapes[s]);t._length=0,e===i&&(n=gt.double(n),i*=2),n[e]=t,e+=1}return t}(),Nt=function(){var t=-999999;function e(t,e,i){var n,s,r,a,o,l,c,h,d,p=i.lastIndex,u=this.keyframes;if(t<u[0].t-this.offsetTime)n=u[0].s[0],r=!0,p=0;else if(t>=u[u.length-1].t-this.offsetTime)n=u[u.length-1].s?u[u.length-1].s[0]:u[u.length-2].e[0],r=!0;else{for(var g,f,m,v=p,y=u.length-1,x=!0;x&&(g=u[v],!((f=u[v+1]).t-this.offsetTime>t));)v<y-1?v+=1:x=!1;if(m=this.keyframesMetadata[v]||{},p=v,!(r=1===g.h)){if(t>=f.t-this.offsetTime)h=1;else if(t<g.t-this.offsetTime)h=0;else{var b;m.__fnct?b=m.__fnct:(b=ut.getBezierEasing(g.o.x,g.o.y,g.i.x,g.i.y).get,m.__fnct=b),h=b((t-(g.t-this.offsetTime))/(f.t-this.offsetTime-(g.t-this.offsetTime)))}s=f.s?f.s[0]:g.e[0]}n=g.s[0]}for(l=e._length,c=n.i[0].length,i.lastIndex=p,a=0;a<l;a+=1)for(o=0;o<c;o+=1)d=r?n.i[a][o]:n.i[a][o]+(s.i[a][o]-n.i[a][o])*h,e.i[a][o]=d,d=r?n.o[a][o]:n.o[a][o]+(s.o[a][o]-n.o[a][o])*h,e.o[a][o]=d,d=r?n.v[a][o]:n.v[a][o]+(s.v[a][o]-n.v[a][o])*h,e.v[a][o]=d}function i(){var e=this.comp.renderedFrame-this.offsetTime,i=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime,s=this._caching.lastFrame;return s!==t&&(s<i&&e<i||s>n&&e>n)||(this._caching.lastIndex=s<e?this._caching.lastIndex:0,this.interpolateShape(e,this.pv,this._caching)),this._caching.lastFrame=e,this.pv}function n(){this.paths=this.localShapeCollection}function s(t,e){if(t._length!==e._length||t.c!==e.c)return!1;var i,n=t._length;for(i=0;i<n;i+=1)if(t.v[i][0]!==e.v[i][0]||t.v[i][1]!==e.v[i][1]||t.o[i][0]!==e.o[i][0]||t.o[i][1]!==e.o[i][1]||t.i[i][0]!==e.i[i][0]||t.i[i][1]!==e.i[i][1])return!1;return!0}function r(t){s(this.v,t)||(this.v=Ft.clone(t),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function a(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var t,e;this.lock=!0,this._mdf=!1,t=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var i=this.effectsSequence.length;for(e=0;e<i;e+=1)t=this.effectsSequence[e](t);this.setVValue(t),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function o(t,e,i){this.propType="shape",this.comp=t.comp,this.container=t,this.elem=t,this.data=e,this.k=!1,this.kf=!1,this._mdf=!1;var s=3===i?e.pt.k:e.ks.k;this.v=Ft.clone(s),this.pv=Ft.clone(this.v),this.localShapeCollection=Bt.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=n,this.effectsSequence=[]}function l(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function c(e,s,r){this.propType="shape",this.comp=e.comp,this.elem=e,this.container=e,this.offsetTime=e.data.st,this.keyframes=3===r?s.pt.k:s.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var a=this.keyframes[0].s[0].i.length;this.v=Ft.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,a),this.pv=Ft.clone(this.v),this.localShapeCollection=Bt.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=t,this.reset=n,this._caching={lastFrame:t,lastIndex:0},this.effectsSequence=[i.bind(this)]}o.prototype.interpolateShape=e,o.prototype.getValue=a,o.prototype.setVValue=r,o.prototype.addEffect=l,c.prototype.getValue=a,c.prototype.interpolateShape=e,c.prototype.setVValue=r,c.prototype.addEffect=l;var h=function(){var t=L;function e(t,e){this.v=Ft.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=Bt.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=e.d,this.elem=t,this.comp=t.comp,this.frameId=-1,this.initDynamicPropertyContainer(t),this.p=Rt.getProp(t,e.p,1,0,this),this.s=Rt.getProp(t,e.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return e.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var e=this.p.v[0],i=this.p.v[1],n=this.s.v[0]/2,s=this.s.v[1]/2,r=3!==this.d,a=this.v;a.v[0][0]=e,a.v[0][1]=i-s,a.v[1][0]=r?e+n:e-n,a.v[1][1]=i,a.v[2][0]=e,a.v[2][1]=i+s,a.v[3][0]=r?e-n:e+n,a.v[3][1]=i,a.i[0][0]=r?e-n*t:e+n*t,a.i[0][1]=i-s,a.i[1][0]=r?e+n:e-n,a.i[1][1]=i-s*t,a.i[2][0]=r?e+n*t:e-n*t,a.i[2][1]=i+s,a.i[3][0]=r?e-n:e+n,a.i[3][1]=i+s*t,a.o[0][0]=r?e+n*t:e-n*t,a.o[0][1]=i-s,a.o[1][0]=r?e+n:e-n,a.o[1][1]=i+s*t,a.o[2][0]=r?e-n*t:e+n*t,a.o[2][1]=i+s,a.o[3][0]=r?e-n:e+n,a.o[3][1]=i-s*t}},d([Dt],e),e}(),p=function(){function t(t,e){this.v=Ft.newElement(),this.v.setPathData(!0,0),this.elem=t,this.comp=t.comp,this.data=e,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),1===e.sy?(this.ir=Rt.getProp(t,e.ir,0,0,this),this.is=Rt.getProp(t,e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=Rt.getProp(t,e.pt,0,0,this),this.p=Rt.getProp(t,e.p,1,0,this),this.r=Rt.getProp(t,e.r,0,P,this),this.or=Rt.getProp(t,e.or,0,0,this),this.os=Rt.getProp(t,e.os,0,.01,this),this.localShapeCollection=Bt.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return t.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var t,e,i,n,s=2*Math.floor(this.pt.v),r=2*Math.PI/s,a=!0,o=this.or.v,l=this.ir.v,c=this.os.v,h=this.is.v,d=2*Math.PI*o/(2*s),p=2*Math.PI*l/(2*s),u=-Math.PI/2;u+=this.r.v;var g=3===this.data.d?-1:1;for(this.v._length=0,t=0;t<s;t+=1){i=a?c:h,n=a?d:p;var f=(e=a?o:l)*Math.cos(u),m=e*Math.sin(u),v=0===f&&0===m?0:m/Math.sqrt(f*f+m*m),y=0===f&&0===m?0:-f/Math.sqrt(f*f+m*m);f+=+this.p.v[0],m+=+this.p.v[1],this.v.setTripleAt(f,m,f-v*n*i*g,m-y*n*i*g,f+v*n*i*g,m+y*n*i*g,t,!0),a=!a,u+=r*g}},convertPolygonToPath:function(){var t,e=Math.floor(this.pt.v),i=2*Math.PI/e,n=this.or.v,s=this.os.v,r=2*Math.PI*n/(4*e),a=.5*-Math.PI,o=3===this.data.d?-1:1;for(a+=this.r.v,this.v._length=0,t=0;t<e;t+=1){var l=n*Math.cos(a),c=n*Math.sin(a),h=0===l&&0===c?0:c/Math.sqrt(l*l+c*c),d=0===l&&0===c?0:-l/Math.sqrt(l*l+c*c);l+=+this.p.v[0],c+=+this.p.v[1],this.v.setTripleAt(l,c,l-h*r*s*o,c-d*r*s*o,l+h*r*s*o,c+d*r*s*o,t,!0),a+=i*o}this.paths.length=0,this.paths[0]=this.v}},d([Dt],t),t}(),u=function(){function t(t,e){this.v=Ft.newElement(),this.v.c=!0,this.localShapeCollection=Bt.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=t,this.comp=t.comp,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),this.p=Rt.getProp(t,e.p,1,0,this),this.s=Rt.getProp(t,e.s,1,0,this),this.r=Rt.getProp(t,e.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return t.prototype={convertRectToPath:function(){var t=this.p.v[0],e=this.p.v[1],i=this.s.v[0]/2,n=this.s.v[1]/2,s=T(i,n,this.r.v),r=s*(1-L);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(t+i,e-n+s,t+i,e-n+s,t+i,e-n+r,0,!0),this.v.setTripleAt(t+i,e+n-s,t+i,e+n-r,t+i,e+n-s,1,!0),0!==s?(this.v.setTripleAt(t+i-s,e+n,t+i-s,e+n,t+i-r,e+n,2,!0),this.v.setTripleAt(t-i+s,e+n,t-i+r,e+n,t-i+s,e+n,3,!0),this.v.setTripleAt(t-i,e+n-s,t-i,e+n-s,t-i,e+n-r,4,!0),this.v.setTripleAt(t-i,e-n+s,t-i,e-n+r,t-i,e-n+s,5,!0),this.v.setTripleAt(t-i+s,e-n,t-i+s,e-n,t-i+r,e-n,6,!0),this.v.setTripleAt(t+i-s,e-n,t+i-r,e-n,t+i-s,e-n,7,!0)):(this.v.setTripleAt(t-i,e+n,t-i+r,e+n,t-i,e+n,2),this.v.setTripleAt(t-i,e-n,t-i,e-n+r,t-i,e-n,3))):(this.v.setTripleAt(t+i,e-n+s,t+i,e-n+r,t+i,e-n+s,0,!0),0!==s?(this.v.setTripleAt(t+i-s,e-n,t+i-s,e-n,t+i-r,e-n,1,!0),this.v.setTripleAt(t-i+s,e-n,t-i+r,e-n,t-i+s,e-n,2,!0),this.v.setTripleAt(t-i,e-n+s,t-i,e-n+s,t-i,e-n+r,3,!0),this.v.setTripleAt(t-i,e+n-s,t-i,e+n-r,t-i,e+n-s,4,!0),this.v.setTripleAt(t-i+s,e+n,t-i+s,e+n,t-i+r,e+n,5,!0),this.v.setTripleAt(t+i-s,e+n,t+i-r,e+n,t+i-s,e+n,6,!0),this.v.setTripleAt(t+i,e+n-s,t+i,e+n-s,t+i,e+n-r,7,!0)):(this.v.setTripleAt(t-i,e-n,t-i+r,e-n,t-i,e-n,1,!0),this.v.setTripleAt(t-i,e+n,t-i,e+n-r,t-i,e+n,2,!0),this.v.setTripleAt(t+i,e+n,t+i-r,e+n,t+i,e+n,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:n},d([Dt],t),t}();function g(t,e,i){var n;return 3===i||4===i?n=(3===i?e.pt:e.ks).k.length?new c(t,e,i):new o(t,e,i):5===i?n=new u(t,e):6===i?n=new h(t,e):7===i&&(n=new p(t,e)),n.k&&t.addDynamicProperty(n),n}function f(){return o}function m(){return c}var v={};return v.getShapeProp=g,v.getConstructorFunction=f,v.getKeyframedConstructorFunction=m,v}(),Vt=function(){var t=Math.cos,e=Math.sin,i=Math.tan,n=Math.round;function s(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function r(i){if(0===i)return this;var n=t(i),s=e(i);return this._t(n,-s,0,0,s,n,0,0,0,0,1,0,0,0,0,1)}function a(i){if(0===i)return this;var n=t(i),s=e(i);return this._t(1,0,0,0,0,n,-s,0,0,s,n,0,0,0,0,1)}function o(i){if(0===i)return this;var n=t(i),s=e(i);return this._t(n,0,s,0,0,1,0,0,-s,0,n,0,0,0,0,1)}function l(i){if(0===i)return this;var n=t(i),s=e(i);return this._t(n,-s,0,0,s,n,0,0,0,0,1,0,0,0,0,1)}function c(t,e){return this._t(1,e,t,1,0,0)}function h(t,e){return this.shear(i(t),i(e))}function d(n,s){var r=t(s),a=e(s);return this._t(r,a,0,0,-a,r,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,i(n),1,0,0,0,0,1,0,0,0,0,1)._t(r,-a,0,0,a,r,0,0,0,0,1,0,0,0,0,1)}function p(t,e,i){return i||0===i||(i=1),1===t&&1===e&&1===i?this:this._t(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1)}function u(t,e,i,n,s,r,a,o,l,c,h,d,p,u,g,f){return this.props[0]=t,this.props[1]=e,this.props[2]=i,this.props[3]=n,this.props[4]=s,this.props[5]=r,this.props[6]=a,this.props[7]=o,this.props[8]=l,this.props[9]=c,this.props[10]=h,this.props[11]=d,this.props[12]=p,this.props[13]=u,this.props[14]=g,this.props[15]=f,this}function f(t,e,i){return i=i||0,0!==t||0!==e||0!==i?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,i,1):this}function m(t,e,i,n,s,r,a,o,l,c,h,d,p,u,g,f){var m=this.props;if(1===t&&0===e&&0===i&&0===n&&0===s&&1===r&&0===a&&0===o&&0===l&&0===c&&1===h&&0===d)return m[12]=m[12]*t+m[15]*p,m[13]=m[13]*r+m[15]*u,m[14]=m[14]*h+m[15]*g,m[15]*=f,this._identityCalculated=!1,this;var v=m[0],y=m[1],x=m[2],b=m[3],w=m[4],_=m[5],C=m[6],S=m[7],T=m[8],k=m[9],E=m[10],P=m[11],L=m[12],I=m[13],M=m[14],A=m[15];return m[0]=v*t+y*s+x*l+b*p,m[1]=v*e+y*r+x*c+b*u,m[2]=v*i+y*a+x*h+b*g,m[3]=v*n+y*o+x*d+b*f,m[4]=w*t+_*s+C*l+S*p,m[5]=w*e+_*r+C*c+S*u,m[6]=w*i+_*a+C*h+S*g,m[7]=w*n+_*o+C*d+S*f,m[8]=T*t+k*s+E*l+P*p,m[9]=T*e+k*r+E*c+P*u,m[10]=T*i+k*a+E*h+P*g,m[11]=T*n+k*o+E*d+P*f,m[12]=L*t+I*s+M*l+A*p,m[13]=L*e+I*r+M*c+A*u,m[14]=L*i+I*a+M*h+A*g,m[15]=L*n+I*o+M*d+A*f,this._identityCalculated=!1,this}function v(t){var e=t.props;return this.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function y(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function x(t){for(var e=0;e<16;){if(t.props[e]!==this.props[e])return!1;e+=1}return!0}function b(t){var e;for(e=0;e<16;e+=1)t.props[e]=this.props[e];return t}function w(t){var e;for(e=0;e<16;e+=1)this.props[e]=t[e]}function _(t,e,i){return{x:t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]}}function C(t,e,i){return t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12]}function S(t,e,i){return t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13]}function T(t,e,i){return t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]}function k(){var t=this.props[0]*this.props[5]-this.props[1]*this.props[4],e=this.props[5]/t,i=-this.props[1]/t,n=-this.props[4]/t,s=this.props[0]/t,r=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/t,a=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/t,o=new Vt;return o.props[0]=e,o.props[1]=i,o.props[4]=n,o.props[5]=s,o.props[12]=r,o.props[13]=a,o}function E(t){return this.getInverseMatrix().applyToPointArray(t[0],t[1],t[2]||0)}function P(t){var e,i=t.length,n=[];for(e=0;e<i;e+=1)n[e]=E(t[e]);return n}function L(t,e,i){var n=g("float32",6);if(this.isIdentity())n[0]=t[0],n[1]=t[1],n[2]=e[0],n[3]=e[1],n[4]=i[0],n[5]=i[1];else{var s=this.props[0],r=this.props[1],a=this.props[4],o=this.props[5],l=this.props[12],c=this.props[13];n[0]=t[0]*s+t[1]*a+l,n[1]=t[0]*r+t[1]*o+c,n[2]=e[0]*s+e[1]*a+l,n[3]=e[0]*r+e[1]*o+c,n[4]=i[0]*s+i[1]*a+l,n[5]=i[0]*r+i[1]*o+c}return n}function I(t,e,i){return this.isIdentity()?[t,e,i]:[t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]]}function M(t,e){if(this.isIdentity())return t+","+e;var i=this.props;return Math.round(100*(t*i[0]+e*i[4]+i[12]))/100+","+Math.round(100*(t*i[1]+e*i[5]+i[13]))/100}function A(){for(var t=0,e=this.props,i="matrix3d(",s=1e4;t<16;)i+=n(e[t]*s)/s,i+=15===t?")":",",t+=1;return i}function O(t){var e=1e4;return t<1e-6&&t>0||t>-1e-6&&t<0?n(t*e)/e:t}function R(){var t=this.props;return"matrix("+O(t[0])+","+O(t[1])+","+O(t[4])+","+O(t[5])+","+O(t[12])+","+O(t[13])+")"}return function(){this.reset=s,this.rotate=r,this.rotateX=a,this.rotateY=o,this.rotateZ=l,this.skew=h,this.skewFromAxis=d,this.shear=c,this.scale=p,this.setTransform=u,this.translate=f,this.transform=m,this.multiply=v,this.applyToPoint=_,this.applyToX=C,this.applyToY=S,this.applyToZ=T,this.applyToPointArray=I,this.applyToTriplePoints=L,this.applyToPointStringified=M,this.toCSS=A,this.to2dCSS=R,this.clone=b,this.cloneFromProps=w,this.equals=x,this.inversePoints=P,this.inversePoint=E,this.getInverseMatrix=k,this._t=this.transform,this.isIdentity=y,this._identity=!0,this._identityCalculated=!1,this.props=g("float32",16),this.reset()}}();function Ht(t){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ht(t)}var Ut={},qt="__[STANDALONE]__",Wt="__[ANIMATIONDATA]__",Zt="";function Kt(t){l(t)}function Gt(){!0===qt?pt.searchAnimations(Wt,qt,Zt):pt.searchAnimations()}function Yt(t){q(t)}function Xt(t){J(t)}function Jt(t){return!0===qt&&(t.animationData=JSON.parse(Wt)),pt.loadAnimation(t)}function Qt(t){if("string"==typeof t)switch(t){case"high":Y(200);break;default:case"medium":Y(50);break;case"low":Y(10)}else!isNaN(t)&&t>1&&Y(t);X()>=50?I(!1):I(!0)}function te(){return"undefined"!=typeof navigator}function ee(t,e){"expressions"===t&&Z(e)}function ie(t){switch(t){case"propertyFactory":return Rt;case"shapePropertyFactory":return Nt;case"matrix":return Vt;default:return null}}function ne(){"complete"===document.readyState&&(clearInterval(le),Gt())}function se(t){for(var e=re.split("&"),i=0;i<e.length;i+=1){var n=e[i].split("=");if(decodeURIComponent(n[0])==t)return decodeURIComponent(n[1])}return null}Ut.play=pt.play,Ut.pause=pt.pause,Ut.setLocationHref=Kt,Ut.togglePause=pt.togglePause,Ut.setSpeed=pt.setSpeed,Ut.setDirection=pt.setDirection,Ut.stop=pt.stop,Ut.searchAnimations=Gt,Ut.registerAnimation=pt.registerAnimation,Ut.loadAnimation=Jt,Ut.setSubframeRendering=Yt,Ut.resize=pt.resize,Ut.goToAndStop=pt.goToAndStop,Ut.destroy=pt.destroy,Ut.setQuality=Qt,Ut.inBrowser=te,Ut.installPlugin=ee,Ut.freeze=pt.freeze,Ut.unfreeze=pt.unfreeze,Ut.setVolume=pt.setVolume,Ut.mute=pt.mute,Ut.unmute=pt.unmute,Ut.getRegisteredAnimations=pt.getRegisteredAnimations,Ut.useWebWorker=a,Ut.setIDPrefix=Xt,Ut.__getFactory=ie,Ut.version="5.12.2";var re="";if(qt){var ae=document.getElementsByTagName("script"),oe=ae[ae.length-1]||{src:""};re=oe.src?oe.src.replace(/^[^\?]+\??/,""):"",Zt=se("renderer")}var le=setInterval(ne,100);try{"object"!==Ht(e)&&i.amdO}catch(t){}var ce=function(){var t={},e={};function i(t,i){e[t]||(e[t]=i)}function n(t,i,n){return new e[t](i,n)}return t.registerModifier=i,t.getModifier=n,t}();function he(){}function de(){}function pe(){}he.prototype.initModifierProperties=function(){},he.prototype.addShapeToModifier=function(){},he.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var e={shape:t.sh,data:t,localShapeCollection:Bt.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},he.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=r,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},he.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},d([Dt],he),d([he],de),de.prototype.initModifierProperties=function(t,e){this.s=Rt.getProp(t,e.s,0,.01,this),this.e=Rt.getProp(t,e.e,0,.01,this),this.o=Rt.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},de.prototype.addShapeToModifier=function(t){t.pathsData=[]},de.prototype.calculateShapeEdges=function(t,e,i,n,s){var r=[];e<=1?r.push({s:t,e}):t>=1?r.push({s:t-1,e:e-1}):(r.push({s:t,e:1}),r.push({s:0,e:e-1}));var a,o,l=[],c=r.length;for(a=0;a<c;a+=1){var h,d;(o=r[a]).e*s<n||o.s*s>n+i||(h=o.s*s<=n?0:(o.s*s-n)/i,d=o.e*s>=n+i?1:(o.e*s-n)/i,l.push([h,d]))}return l.length||l.push([0,0]),l},de.prototype.releasePathsData=function(t){var e,i=t.length;for(e=0;e<i;e+=1)vt.release(t[e]);return t.length=0,t},de.prototype.processShapes=function(t){var e,i,n,s;if(this._mdf||t){var r=this.o.v%360/360;if(r<0&&(r+=1),(e=this.s.v>1?1+r:this.s.v<0?0+r:this.s.v+r)>(i=this.e.v>1?1+r:this.e.v<0?0+r:this.e.v+r)){var a=e;e=i,i=a}e=1e-4*Math.round(1e4*e),i=1e-4*Math.round(1e4*i),this.sValue=e,this.eValue=i}else e=this.sValue,i=this.eValue;var o,l,c,h,d,p=this.shapes.length,u=0;if(i===e)for(s=0;s<p;s+=1)this.shapes[s].localShapeCollection.releaseShapes(),this.shapes[s].shape._mdf=!0,this.shapes[s].shape.paths=this.shapes[s].localShapeCollection,this._mdf&&(this.shapes[s].pathsData.length=0);else if(1===i&&0===e||0===i&&1===e){if(this._mdf)for(s=0;s<p;s+=1)this.shapes[s].pathsData.length=0,this.shapes[s].shape._mdf=!0}else{var g,f,m=[];for(s=0;s<p;s+=1)if((g=this.shapes[s]).shape._mdf||this._mdf||t||2===this.m){if(l=(n=g.shape.paths)._length,d=0,!g.shape._mdf&&g.pathsData.length)d=g.totalShapeLength;else{for(c=this.releasePathsData(g.pathsData),o=0;o<l;o+=1)h=xt.getSegmentsLength(n.shapes[o]),c.push(h),d+=h.totalLength;g.totalShapeLength=d,g.pathsData=c}u+=d,g.shape._mdf=!0}else g.shape.paths=g.localShapeCollection;var v,y=e,x=i,b=0;for(s=p-1;s>=0;s-=1)if((g=this.shapes[s]).shape._mdf){for((f=g.localShapeCollection).releaseShapes(),2===this.m&&p>1?(v=this.calculateShapeEdges(e,i,g.totalShapeLength,b,u),b+=g.totalShapeLength):v=[[y,x]],l=v.length,o=0;o<l;o+=1){y=v[o][0],x=v[o][1],m.length=0,x<=1?m.push({s:g.totalShapeLength*y,e:g.totalShapeLength*x}):y>=1?m.push({s:g.totalShapeLength*(y-1),e:g.totalShapeLength*(x-1)}):(m.push({s:g.totalShapeLength*y,e:g.totalShapeLength}),m.push({s:0,e:g.totalShapeLength*(x-1)}));var w=this.addShapes(g,m[0]);if(m[0].s!==m[0].e){if(m.length>1)if(g.shape.paths.shapes[g.shape.paths._length-1].c){var _=w.pop();this.addPaths(w,f),w=this.addShapes(g,m[1],_)}else this.addPaths(w,f),w=this.addShapes(g,m[1]);this.addPaths(w,f)}}g.shape.paths=f}}},de.prototype.addPaths=function(t,e){var i,n=t.length;for(i=0;i<n;i+=1)e.addShape(t[i])},de.prototype.addSegment=function(t,e,i,n,s,r,a){s.setXYAt(e[0],e[1],"o",r),s.setXYAt(i[0],i[1],"i",r+1),a&&s.setXYAt(t[0],t[1],"v",r),s.setXYAt(n[0],n[1],"v",r+1)},de.prototype.addSegmentFromArray=function(t,e,i,n){e.setXYAt(t[1],t[5],"o",i),e.setXYAt(t[2],t[6],"i",i+1),n&&e.setXYAt(t[0],t[4],"v",i),e.setXYAt(t[3],t[7],"v",i+1)},de.prototype.addShapes=function(t,e,i){var n,s,r,a,o,l,c,h,d=t.pathsData,p=t.shape.paths.shapes,u=t.shape.paths._length,g=0,f=[],m=!0;for(i?(o=i._length,h=i._length):(i=Ft.newElement(),o=0,h=0),f.push(i),n=0;n<u;n+=1){for(l=d[n].lengths,i.c=p[n].c,r=p[n].c?l.length:l.length+1,s=1;s<r;s+=1)if(g+(a=l[s-1]).addedLength<e.s)g+=a.addedLength,i.c=!1;else{if(g>e.e){i.c=!1;break}e.s<=g&&e.e>=g+a.addedLength?(this.addSegment(p[n].v[s-1],p[n].o[s-1],p[n].i[s],p[n].v[s],i,o,m),m=!1):(c=xt.getNewSegment(p[n].v[s-1],p[n].v[s],p[n].o[s-1],p[n].i[s],(e.s-g)/a.addedLength,(e.e-g)/a.addedLength,l[s-1]),this.addSegmentFromArray(c,i,o,m),m=!1,i.c=!1),g+=a.addedLength,o+=1}if(p[n].c&&l.length){if(a=l[s-1],g<=e.e){var v=l[s-1].addedLength;e.s<=g&&e.e>=g+v?(this.addSegment(p[n].v[s-1],p[n].o[s-1],p[n].i[0],p[n].v[0],i,o,m),m=!1):(c=xt.getNewSegment(p[n].v[s-1],p[n].v[0],p[n].o[s-1],p[n].i[0],(e.s-g)/v,(e.e-g)/v,l[s-1]),this.addSegmentFromArray(c,i,o,m),m=!1,i.c=!1)}else i.c=!1;g+=a.addedLength,o+=1}if(i._length&&(i.setXYAt(i.v[h][0],i.v[h][1],"i",h),i.setXYAt(i.v[i._length-1][0],i.v[i._length-1][1],"o",i._length-1)),g>e.e)break;n<u-1&&(i=Ft.newElement(),m=!0,f.push(i),o=0)}return f},d([he],pe),pe.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=Rt.getProp(t,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},pe.prototype.processPath=function(t,e){var i=e/100,n=[0,0],s=t._length,r=0;for(r=0;r<s;r+=1)n[0]+=t.v[r][0],n[1]+=t.v[r][1];n[0]/=s,n[1]/=s;var a,o,l,c,h,d,p=Ft.newElement();for(p.c=t.c,r=0;r<s;r+=1)a=t.v[r][0]+(n[0]-t.v[r][0])*i,o=t.v[r][1]+(n[1]-t.v[r][1])*i,l=t.o[r][0]+(n[0]-t.o[r][0])*-i,c=t.o[r][1]+(n[1]-t.o[r][1])*-i,h=t.i[r][0]+(n[0]-t.i[r][0])*-i,d=t.i[r][1]+(n[1]-t.i[r][1])*-i,p.setTripleAt(a,o,l,c,h,d,r);return p},pe.prototype.processShapes=function(t){var e,i,n,s,r,a,o=this.shapes.length,l=this.amount.v;if(0!==l)for(i=0;i<o;i+=1){if(a=(r=this.shapes[i]).localShapeCollection,r.shape._mdf||this._mdf||t)for(a.releaseShapes(),r.shape._mdf=!0,e=r.shape.paths.shapes,s=r.shape.paths._length,n=0;n<s;n+=1)a.addShape(this.processPath(e[n],l));r.shape.paths=r.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var ue=function(){var t=[0,0];function e(t){var e=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||e,this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&t.skewFromAxis(-this.sk.v,this.sa.v),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?t.translate(this.px.v,this.py.v,-this.pz.v):t.translate(this.px.v,this.py.v,0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function i(e){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||e){var i;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var n,s;if(i=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(n=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/i,0),s=this.p.getValueAtTime(this.p.keyframes[0].t/i,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(n=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/i,0),s=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/i,0)):(n=this.p.pv,s=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/i,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){n=[],s=[];var r=this.px,a=this.py;r._caching.lastFrame+r.offsetTime<=r.keyframes[0].t?(n[0]=r.getValueAtTime((r.keyframes[0].t+.01)/i,0),n[1]=a.getValueAtTime((a.keyframes[0].t+.01)/i,0),s[0]=r.getValueAtTime(r.keyframes[0].t/i,0),s[1]=a.getValueAtTime(a.keyframes[0].t/i,0)):r._caching.lastFrame+r.offsetTime>=r.keyframes[r.keyframes.length-1].t?(n[0]=r.getValueAtTime(r.keyframes[r.keyframes.length-1].t/i,0),n[1]=a.getValueAtTime(a.keyframes[a.keyframes.length-1].t/i,0),s[0]=r.getValueAtTime((r.keyframes[r.keyframes.length-1].t-.01)/i,0),s[1]=a.getValueAtTime((a.keyframes[a.keyframes.length-1].t-.01)/i,0)):(n=[r.pv,a.pv],s[0]=r.getValueAtTime((r._caching.lastFrame+r.offsetTime-.01)/i,r.offsetTime),s[1]=a.getValueAtTime((a._caching.lastFrame+a.offsetTime-.01)/i,a.offsetTime))}else n=s=t;this.v.rotate(-Math.atan2(n[1]-s[1],n[0]-s[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function n(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}}function s(){}function r(t){this._addDynamicProperty(t),this.elem.addDynamicProperty(t),this._isDirty=!0}function a(t,e,i){if(this.elem=t,this.frameId=-1,this.propType="transform",this.data=e,this.v=new Vt,this.pre=new Vt,this.appliedTransformations=0,this.initDynamicPropertyContainer(i||t),e.p&&e.p.s?(this.px=Rt.getProp(t,e.p.x,0,0,this),this.py=Rt.getProp(t,e.p.y,0,0,this),e.p.z&&(this.pz=Rt.getProp(t,e.p.z,0,0,this))):this.p=Rt.getProp(t,e.p||{k:[0,0,0]},1,0,this),e.rx){if(this.rx=Rt.getProp(t,e.rx,0,P,this),this.ry=Rt.getProp(t,e.ry,0,P,this),this.rz=Rt.getProp(t,e.rz,0,P,this),e.or.k[0].ti){var n,s=e.or.k.length;for(n=0;n<s;n+=1)e.or.k[n].to=null,e.or.k[n].ti=null}this.or=Rt.getProp(t,e.or,1,P,this),this.or.sh=!0}else this.r=Rt.getProp(t,e.r||{k:0},0,P,this);e.sk&&(this.sk=Rt.getProp(t,e.sk,0,P,this),this.sa=Rt.getProp(t,e.sa,0,P,this)),this.a=Rt.getProp(t,e.a||{k:[0,0,0]},1,0,this),this.s=Rt.getProp(t,e.s||{k:[100,100,100]},1,.01,this),e.o?this.o=Rt.getProp(t,e.o,0,.01,t):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}function o(t,e,i){return new a(t,e,i)}return a.prototype={applyToMatrix:e,getValue:i,precalculateMatrix:n,autoOrient:s},d([Dt],a),a.prototype.addDynamicProperty=r,a.prototype._addDynamicProperty=Dt.prototype.addDynamicProperty,{getTransformProperty:o}}();function ge(){}function fe(){}function me(t,e){return 1e5*Math.abs(t-e)<=Math.min(Math.abs(t),Math.abs(e))}function ve(t){return Math.abs(t)<=1e-5}function ye(t,e,i){return t*(1-i)+e*i}function xe(t,e,i){return[ye(t[0],e[0],i),ye(t[1],e[1],i)]}function be(t,e,i){if(0===t)return[];var n=e*e-4*t*i;if(n<0)return[];var s=-e/(2*t);if(0===n)return[s];var r=Math.sqrt(n)/(2*t);return[s-r,s+r]}function we(t,e,i,n){return[3*e-t-3*i+n,3*t-6*e+3*i,-3*t+3*e,t]}function _e(t){return new Ce(t,t,t,t,!1)}function Ce(t,e,i,n,s){s&&Oe(t,e)&&(e=xe(t,n,1/3)),s&&Oe(i,n)&&(i=xe(t,n,2/3));var r=we(t[0],e[0],i[0],n[0]),a=we(t[1],e[1],i[1],n[1]);this.a=[r[0],a[0]],this.b=[r[1],a[1]],this.c=[r[2],a[2]],this.d=[r[3],a[3]],this.points=[t,e,i,n]}function Se(t,e){var i=t.points[0][e],n=t.points[t.points.length-1][e];if(i>n){var s=n;n=i,i=s}for(var r=be(3*t.a[e],2*t.b[e],t.c[e]),a=0;a<r.length;a+=1)if(r[a]>0&&r[a]<1){var o=t.point(r[a])[e];o<i?i=o:o>n&&(n=o)}return{min:i,max:n}}function Te(t,e,i){var n=t.boundingBox();return{cx:n.cx,cy:n.cy,width:n.width,height:n.height,bez:t,t:(e+i)/2,t1:e,t2:i}}function ke(t){var e=t.bez.split(.5);return[Te(e[0],t.t1,t.t),Te(e[1],t.t,t.t2)]}function Ee(t,e){return 2*Math.abs(t.cx-e.cx)<t.width+e.width&&2*Math.abs(t.cy-e.cy)<t.height+e.height}function Pe(t,e,i,n,s,r){if(Ee(t,e))if(i>=r||t.width<=n&&t.height<=n&&e.width<=n&&e.height<=n)s.push([t.t,e.t]);else{var a=ke(t),o=ke(e);Pe(a[0],o[0],i+1,n,s,r),Pe(a[0],o[1],i+1,n,s,r),Pe(a[1],o[0],i+1,n,s,r),Pe(a[1],o[1],i+1,n,s,r)}}function Le(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Ie(t,e,i,n){var s=[t[0],t[1],1],r=[e[0],e[1],1],a=[i[0],i[1],1],o=[n[0],n[1],1],l=Le(Le(s,r),Le(a,o));return ve(l[2])?null:[l[0]/l[2],l[1]/l[2]]}function Me(t,e,i){return[t[0]+Math.cos(e)*i,t[1]-Math.sin(e)*i]}function Ae(t,e){return Math.hypot(t[0]-e[0],t[1]-e[1])}function Oe(t,e){return me(t[0],e[0])&&me(t[1],e[1])}function Re(){}function De(t,e,i,n,s,r,a){var o=i-Math.PI/2,l=i+Math.PI/2,c=e[0]+Math.cos(i)*n*s,h=e[1]-Math.sin(i)*n*s;t.setTripleAt(c,h,c+Math.cos(o)*r,h-Math.sin(o)*r,c+Math.cos(l)*a,h-Math.sin(l)*a,t.length())}function je(t,e){var i=[e[0]-t[0],e[1]-t[1]],n=.5*-Math.PI;return[Math.cos(n)*i[0]-Math.sin(n)*i[1],Math.sin(n)*i[0]+Math.cos(n)*i[1]]}function $e(t,e){var i=0===e?t.length()-1:e-1,n=(e+1)%t.length(),s=je(t.v[i],t.v[n]);return Math.atan2(0,1)-Math.atan2(s[1],s[0])}function Fe(t,e,i,n,s,r,a){var o=$e(e,i),l=e.v[i%e._length],c=e.v[0===i?e._length-1:i-1],h=e.v[(i+1)%e._length],d=2===r?Math.sqrt(Math.pow(l[0]-c[0],2)+Math.pow(l[1]-c[1],2)):0,p=2===r?Math.sqrt(Math.pow(l[0]-h[0],2)+Math.pow(l[1]-h[1],2)):0;De(t,e.v[i%e._length],o,a,n,p/(2*(s+1)),d/(2*(s+1)),r)}function ze(t,e,i,n,s,r){for(var a=0;a<n;a+=1){var o=(a+1)/(n+1),l=2===s?Math.sqrt(Math.pow(e.points[3][0]-e.points[0][0],2)+Math.pow(e.points[3][1]-e.points[0][1],2)):0,c=e.normalAngle(o);De(t,e.point(o),c,r,i,l/(2*(n+1)),l/(2*(n+1)),s),r=-r}return r}function Be(t,e,i){var n=Math.atan2(e[0]-t[0],e[1]-t[1]);return[Me(t,n,i),Me(e,n,i)]}function Ne(t,e){var i,n,s,r,a,o,l;i=(l=Be(t.points[0],t.points[1],e))[0],n=l[1],s=(l=Be(t.points[1],t.points[2],e))[0],r=l[1],a=(l=Be(t.points[2],t.points[3],e))[0],o=l[1];var c=Ie(i,n,s,r);null===c&&(c=n);var h=Ie(a,o,s,r);return null===h&&(h=a),new Ce(i,c,h,o)}function Ve(t,e,i,n,s){var r=e.points[3],a=i.points[0];if(3===n)return r;if(Oe(r,a))return r;if(2===n){var o=-e.tangentAngle(1),l=-i.tangentAngle(0)+Math.PI,c=Ie(r,Me(r,o+Math.PI/2,100),a,Me(a,o+Math.PI/2,100)),h=c?Ae(c,r):Ae(r,a)/2,d=Me(r,o,2*h*L);return t.setXYAt(d[0],d[1],"o",t.length()-1),d=Me(a,l,2*h*L),t.setTripleAt(a[0],a[1],a[0],a[1],d[0],d[1],t.length()),a}var p=Ie(Oe(r,e.points[2])?e.points[0]:e.points[2],r,a,Oe(a,i.points[1])?i.points[3]:i.points[1]);return p&&Ae(p,r)<s?(t.setTripleAt(p[0],p[1],p[0],p[1],p[0],p[1],t.length()),p):r}function He(t,e){var i=t.intersections(e);return i.length&&me(i[0][0],1)&&i.shift(),i.length?i[0]:null}function Ue(t,e){var i=t.slice(),n=e.slice(),s=He(t[t.length-1],e[0]);return s&&(i[t.length-1]=t[t.length-1].split(s[0])[0],n[0]=e[0].split(s[1])[1]),t.length>1&&e.length>1&&(s=He(t[0],e[e.length-1]))?[[t[0].split(s[0])[0]],[e[e.length-1].split(s[1])[1]]]:[i,n]}function qe(t){for(var e,i=1;i<t.length;i+=1)e=Ue(t[i-1],t[i]),t[i-1]=e[0],t[i]=e[1];return t.length>1&&(e=Ue(t[t.length-1],t[0]),t[t.length-1]=e[0],t[0]=e[1]),t}function We(t,e){var i,n,s,r,a=t.inflectionPoints();if(0===a.length)return[Ne(t,e)];if(1===a.length||me(a[1],1))return i=(s=t.split(a[0]))[0],n=s[1],[Ne(i,e),Ne(n,e)];i=(s=t.split(a[0]))[0];var o=(a[1]-a[0])/(1-a[0]);return r=(s=s[1].split(o))[0],n=s[1],[Ne(i,e),Ne(r,e),Ne(n,e)]}function Ze(){}function Ke(t){for(var e=t.fStyle?t.fStyle.split(" "):[],i="normal",n="normal",s=e.length,r=0;r<s;r+=1)switch(e[r].toLowerCase()){case"italic":n="italic";break;case"bold":i="700";break;case"black":i="900";break;case"medium":i="500";break;case"regular":case"normal":i="400";break;case"light":case"thin":i="200"}return{style:n,weight:t.fWeight||i}}d([he],ge),ge.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=Rt.getProp(t,e.c,0,null,this),this.o=Rt.getProp(t,e.o,0,null,this),this.tr=ue.getTransformProperty(t,e.tr,this),this.so=Rt.getProp(t,e.tr.so,0,.01,this),this.eo=Rt.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Vt,this.rMatrix=new Vt,this.sMatrix=new Vt,this.tMatrix=new Vt,this.matrix=new Vt},ge.prototype.applyTransforms=function(t,e,i,n,s,r){var a=r?-1:1,o=n.s.v[0]+(1-n.s.v[0])*(1-s),l=n.s.v[1]+(1-n.s.v[1])*(1-s);t.translate(n.p.v[0]*a*s,n.p.v[1]*a*s,n.p.v[2]),e.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),e.rotate(-n.r.v*a*s),e.translate(n.a.v[0],n.a.v[1],n.a.v[2]),i.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),i.scale(r?1/o:o,r?1/l:l),i.translate(n.a.v[0],n.a.v[1],n.a.v[2])},ge.prototype.init=function(t,e,i,n){for(this.elem=t,this.arr=e,this.pos=i,this.elemsData=n,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[i]);i>0;)i-=1,this._elements.unshift(e[i]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ge.prototype.resetElements=function(t){var e,i=t.length;for(e=0;e<i;e+=1)t[e]._processed=!1,"gr"===t[e].ty&&this.resetElements(t[e].it)},ge.prototype.cloneElements=function(t){var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},ge.prototype.changeGroupRender=function(t,e){var i,n=t.length;for(i=0;i<n;i+=1)t[i]._render=e,"gr"===t[i].ty&&this.changeGroupRender(t[i].it,e)},ge.prototype.processShapes=function(t){var e,i,n,s,r,a=!1;if(this._mdf||t){var o,l=Math.ceil(this.c.v);if(this._groups.length<l){for(;this._groups.length<l;){var c={it:this.cloneElements(this._elements),ty:"gr"};c.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,c),this._groups.splice(0,0,c),this._currentCopies+=1}this.elem.reloadShapes(),a=!0}for(r=0,n=0;n<=this._groups.length-1;n+=1){if(o=r<l,this._groups[n]._render=o,this.changeGroupRender(this._groups[n].it,o),!o){var h=this.elemsData[n].it,d=h[h.length-1];0!==d.transform.op.v?(d.transform.op._mdf=!0,d.transform.op.v=0):d.transform.op._mdf=!1}r+=1}this._currentCopies=l;var p=this.o.v,u=p%1,g=p>0?Math.floor(p):Math.ceil(p),f=this.pMatrix.props,m=this.rMatrix.props,v=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var y,x,b=0;if(p>0){for(;b<g;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),b+=1;u&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,u,!1),b+=u)}else if(p<0){for(;b>g;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),b-=1;u&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-u,!0),b-=u)}for(n=1===this.data.m?0:this._currentCopies-1,s=1===this.data.m?1:-1,r=this._currentCopies;r;){if(x=(i=(e=this.elemsData[n].it)[e.length-1].transform.mProps.v.props).length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(n/(this._currentCopies-1)),0!==b){for((0!==n&&1===s||n!==this._currentCopies-1&&-1===s)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),this.matrix.transform(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15]),this.matrix.transform(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]),y=0;y<x;y+=1)i[y]=this.matrix.props[y];this.matrix.reset()}else for(this.matrix.reset(),y=0;y<x;y+=1)i[y]=this.matrix.props[y];b+=1,r-=1,n+=s}}else for(r=this._currentCopies,n=0,s=1;r;)i=(e=this.elemsData[n].it)[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,r-=1,n+=s;return a},ge.prototype.addShape=function(){},d([he],fe),fe.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=Rt.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},fe.prototype.processPath=function(t,e){var i,n=Ft.newElement();n.c=t.c;var s,r,a,o,l,c,h,d,p,u,g,f,m=t._length,v=0;for(i=0;i<m;i+=1)s=t.v[i],a=t.o[i],r=t.i[i],s[0]===a[0]&&s[1]===a[1]&&s[0]===r[0]&&s[1]===r[1]?0!==i&&i!==m-1||t.c?(o=0===i?t.v[m-1]:t.v[i-1],c=(l=Math.sqrt(Math.pow(s[0]-o[0],2)+Math.pow(s[1]-o[1],2)))?Math.min(l/2,e)/l:0,h=g=s[0]+(o[0]-s[0])*c,d=f=s[1]-(s[1]-o[1])*c,p=h-(h-s[0])*L,u=d-(d-s[1])*L,n.setTripleAt(h,d,p,u,g,f,v),v+=1,o=i===m-1?t.v[0]:t.v[i+1],c=(l=Math.sqrt(Math.pow(s[0]-o[0],2)+Math.pow(s[1]-o[1],2)))?Math.min(l/2,e)/l:0,h=p=s[0]+(o[0]-s[0])*c,d=u=s[1]+(o[1]-s[1])*c,g=h-(h-s[0])*L,f=d-(d-s[1])*L,n.setTripleAt(h,d,p,u,g,f,v),v+=1):(n.setTripleAt(s[0],s[1],a[0],a[1],r[0],r[1],v),v+=1):(n.setTripleAt(t.v[i][0],t.v[i][1],t.o[i][0],t.o[i][1],t.i[i][0],t.i[i][1],v),v+=1);return n},fe.prototype.processShapes=function(t){var e,i,n,s,r,a,o=this.shapes.length,l=this.rd.v;if(0!==l)for(i=0;i<o;i+=1){if(a=(r=this.shapes[i]).localShapeCollection,r.shape._mdf||this._mdf||t)for(a.releaseShapes(),r.shape._mdf=!0,e=r.shape.paths.shapes,s=r.shape.paths._length,n=0;n<s;n+=1)a.addShape(this.processPath(e[n],l));r.shape.paths=r.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},Ce.prototype.point=function(t){return[((this.a[0]*t+this.b[0])*t+this.c[0])*t+this.d[0],((this.a[1]*t+this.b[1])*t+this.c[1])*t+this.d[1]]},Ce.prototype.derivative=function(t){return[(3*t*this.a[0]+2*this.b[0])*t+this.c[0],(3*t*this.a[1]+2*this.b[1])*t+this.c[1]]},Ce.prototype.tangentAngle=function(t){var e=this.derivative(t);return Math.atan2(e[1],e[0])},Ce.prototype.normalAngle=function(t){var e=this.derivative(t);return Math.atan2(e[0],e[1])},Ce.prototype.inflectionPoints=function(){var t=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(ve(t))return[];var e=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/t,i=e*e-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/t;if(i<0)return[];var n=Math.sqrt(i);return ve(n)?n>0&&n<1?[e]:[]:[e-n,e+n].filter((function(t){return t>0&&t<1}))},Ce.prototype.split=function(t){if(t<=0)return[_e(this.points[0]),this];if(t>=1)return[this,_e(this.points[this.points.length-1])];var e=xe(this.points[0],this.points[1],t),i=xe(this.points[1],this.points[2],t),n=xe(this.points[2],this.points[3],t),s=xe(e,i,t),r=xe(i,n,t),a=xe(s,r,t);return[new Ce(this.points[0],e,s,a,!0),new Ce(a,r,n,this.points[3],!0)]},Ce.prototype.bounds=function(){return{x:Se(this,0),y:Se(this,1)}},Ce.prototype.boundingBox=function(){var t=this.bounds();return{left:t.x.min,right:t.x.max,top:t.y.min,bottom:t.y.max,width:t.x.max-t.x.min,height:t.y.max-t.y.min,cx:(t.x.max+t.x.min)/2,cy:(t.y.max+t.y.min)/2}},Ce.prototype.intersections=function(t,e,i){void 0===e&&(e=2),void 0===i&&(i=7);var n=[];return Pe(Te(this,0,1),Te(t,0,1),0,e,n,i),n},Ce.shapeSegment=function(t,e){var i=(e+1)%t.length();return new Ce(t.v[e],t.o[e],t.i[i],t.v[i],!0)},Ce.shapeSegmentInverted=function(t,e){var i=(e+1)%t.length();return new Ce(t.v[i],t.i[i],t.o[e],t.v[e],!0)},d([he],Re),Re.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amplitude=Rt.getProp(t,e.s,0,null,this),this.frequency=Rt.getProp(t,e.r,0,null,this),this.pointsType=Rt.getProp(t,e.pt,0,null,this),this._isAnimated=0!==this.amplitude.effectsSequence.length||0!==this.frequency.effectsSequence.length||0!==this.pointsType.effectsSequence.length},Re.prototype.processPath=function(t,e,i,n){var s=t._length,r=Ft.newElement();if(r.c=t.c,t.c||(s-=1),0===s)return r;var a=-1,o=Ce.shapeSegment(t,0);Fe(r,t,0,e,i,n,a);for(var l=0;l<s;l+=1)a=ze(r,o,e,i,n,-a),o=l!==s-1||t.c?Ce.shapeSegment(t,(l+1)%s):null,Fe(r,t,l+1,e,i,n,a);return r},Re.prototype.processShapes=function(t){var e,i,n,s,r,a,o=this.shapes.length,l=this.amplitude.v,c=Math.max(0,Math.round(this.frequency.v)),h=this.pointsType.v;if(0!==l)for(i=0;i<o;i+=1){if(a=(r=this.shapes[i]).localShapeCollection,r.shape._mdf||this._mdf||t)for(a.releaseShapes(),r.shape._mdf=!0,e=r.shape.paths.shapes,s=r.shape.paths._length,n=0;n<s;n+=1)a.addShape(this.processPath(e[n],l,c,h));r.shape.paths=r.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},d([he],Ze),Ze.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=Rt.getProp(t,e.a,0,null,this),this.miterLimit=Rt.getProp(t,e.ml,0,null,this),this.lineJoin=e.lj,this._isAnimated=0!==this.amount.effectsSequence.length},Ze.prototype.processPath=function(t,e,i,n){var s=Ft.newElement();s.c=t.c;var r,a,o,l=t.length();t.c||(l-=1);var c=[];for(r=0;r<l;r+=1)o=Ce.shapeSegment(t,r),c.push(We(o,e));if(!t.c)for(r=l-1;r>=0;r-=1)o=Ce.shapeSegmentInverted(t,r),c.push(We(o,e));c=qe(c);var h=null,d=null;for(r=0;r<c.length;r+=1){var p=c[r];for(d&&(h=Ve(s,d,p[0],i,n)),d=p[p.length-1],a=0;a<p.length;a+=1)o=p[a],h&&Oe(o.points[0],h)?s.setXYAt(o.points[1][0],o.points[1][1],"o",s.length()-1):s.setTripleAt(o.points[0][0],o.points[0][1],o.points[1][0],o.points[1][1],o.points[0][0],o.points[0][1],s.length()),s.setTripleAt(o.points[3][0],o.points[3][1],o.points[3][0],o.points[3][1],o.points[2][0],o.points[2][1],s.length()),h=o.points[3]}return c.length&&Ve(s,d,c[0][0],i,n),s},Ze.prototype.processShapes=function(t){var e,i,n,s,r,a,o=this.shapes.length,l=this.amount.v,c=this.miterLimit.v,h=this.lineJoin;if(0!==l)for(i=0;i<o;i+=1){if(a=(r=this.shapes[i]).localShapeCollection,r.shape._mdf||this._mdf||t)for(a.releaseShapes(),r.shape._mdf=!0,e=r.shape.paths.shapes,s=r.shape.paths._length,n=0;n<s;n+=1)a.addShape(this.processPath(e[n],l,h,c));r.shape.paths=r.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var Ge=function(){var t=5e3,e={w:0,size:0,shapes:[],data:{shapes:[]}},i=[];i=i.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var n=127988,s=917631,r=917601,a=917626,o=65039,l=8205,c=127462,d=127487,p=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function u(t){var e,i=t.split(","),n=i.length,s=[];for(e=0;e<n;e+=1)"sans-serif"!==i[e]&&"monospace"!==i[e]&&s.push(i[e]);return s.join(",")}function g(t,e){var i=h("span");i.setAttribute("aria-hidden",!0),i.style.fontFamily=e;var n=h("span");n.innerText="giItT1WQy@!-/#",i.style.position="absolute",i.style.left="-10000px",i.style.top="-10000px",i.style.fontSize="300px",i.style.fontVariant="normal",i.style.fontStyle="normal",i.style.fontWeight="normal",i.style.letterSpacing="0",i.appendChild(n),document.body.appendChild(i);var s=n.offsetWidth;return n.style.fontFamily=u(t)+", "+e,{node:n,w:s,parent:i}}function f(){var e,i,n,s=this.fonts.length,r=s;for(e=0;e<s;e+=1)this.fonts[e].loaded?r-=1:"n"===this.fonts[e].fOrigin||0===this.fonts[e].origin?this.fonts[e].loaded=!0:(i=this.fonts[e].monoCase.node,n=this.fonts[e].monoCase.w,i.offsetWidth!==n?(r-=1,this.fonts[e].loaded=!0):(i=this.fonts[e].sansCase.node,n=this.fonts[e].sansCase.w,i.offsetWidth!==n&&(r-=1,this.fonts[e].loaded=!0)),this.fonts[e].loaded&&(this.fonts[e].sansCase.parent.parentNode.removeChild(this.fonts[e].sansCase.parent),this.fonts[e].monoCase.parent.parentNode.removeChild(this.fonts[e].monoCase.parent)));0!==r&&Date.now()-this.initTime<t?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function m(t,e){var i,n=document.body&&e?"svg":"canvas",s=Ke(t);if("svg"===n){var r=Q("text");r.style.fontSize="100px",r.setAttribute("font-family",t.fFamily),r.setAttribute("font-style",s.style),r.setAttribute("font-weight",s.weight),r.textContent="1",t.fClass?(r.style.fontFamily="inherit",r.setAttribute("class",t.fClass)):r.style.fontFamily=t.fFamily,e.appendChild(r),i=r}else{var a=new OffscreenCanvas(500,500).getContext("2d");a.font=s.style+" "+s.weight+" 100px "+t.fFamily,i=a}function o(t){return"svg"===n?(i.textContent=t,i.getComputedTextLength()):i.measureText(t).width}return{measureText:o}}function v(t,e){if(t){if(this.chars)return this.isLoaded=!0,void(this.fonts=t.list);if(!document.body)return this.isLoaded=!0,t.list.forEach((function(t){t.helper=m(t),t.cache={}})),void(this.fonts=t.list);var i,n=t.list,s=n.length,r=s;for(i=0;i<s;i+=1){var a,o,l=!0;if(n[i].loaded=!1,n[i].monoCase=g(n[i].fFamily,"monospace"),n[i].sansCase=g(n[i].fFamily,"sans-serif"),n[i].fPath){if("p"===n[i].fOrigin||3===n[i].origin){if((a=document.querySelectorAll('style[f-forigin="p"][f-family="'+n[i].fFamily+'"], style[f-origin="3"][f-family="'+n[i].fFamily+'"]')).length>0&&(l=!1),l){var c=h("style");c.setAttribute("f-forigin",n[i].fOrigin),c.setAttribute("f-origin",n[i].origin),c.setAttribute("f-family",n[i].fFamily),c.type="text/css",c.innerText="@font-face {font-family: "+n[i].fFamily+"; font-style: normal; src: url('"+n[i].fPath+"');}",e.appendChild(c)}}else if("g"===n[i].fOrigin||1===n[i].origin){for(a=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),o=0;o<a.length;o+=1)-1!==a[o].href.indexOf(n[i].fPath)&&(l=!1);if(l){var d=h("link");d.setAttribute("f-forigin",n[i].fOrigin),d.setAttribute("f-origin",n[i].origin),d.type="text/css",d.rel="stylesheet",d.href=n[i].fPath,document.body.appendChild(d)}}else if("t"===n[i].fOrigin||2===n[i].origin){for(a=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),o=0;o<a.length;o+=1)n[i].fPath===a[o].src&&(l=!1);if(l){var p=h("link");p.setAttribute("f-forigin",n[i].fOrigin),p.setAttribute("f-origin",n[i].origin),p.setAttribute("rel","stylesheet"),p.setAttribute("href",n[i].fPath),e.appendChild(p)}}}else n[i].loaded=!0,r-=1;n[i].helper=m(n[i],e),n[i].cache={},this.fonts.push(n[i])}0===r?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0}function y(t){if(t){var e;this.chars||(this.chars=[]);var i,n,s=t.length,r=this.chars.length;for(e=0;e<s;e+=1){for(i=0,n=!1;i<r;)this.chars[i].style===t[e].style&&this.chars[i].fFamily===t[e].fFamily&&this.chars[i].ch===t[e].ch&&(n=!0),i+=1;n||(this.chars.push(t[e]),r+=1)}}}function x(t,i,n){for(var s=0,r=this.chars.length;s<r;){if(this.chars[s].ch===t&&this.chars[s].style===i&&this.chars[s].fFamily===n)return this.chars[s];s+=1}return("string"==typeof t&&13!==t.charCodeAt(0)||!t)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",t,i,n)),e}function b(t,e,i){var n=this.getFontByName(e),s=t;if(!n.cache[s]){var r=n.helper;if(" "===t){var a=r.measureText("|"+t+"|"),o=r.measureText("||");n.cache[s]=(a-o)/100}else n.cache[s]=r.measureText(t)/100}return n.cache[s]*i}function w(t){for(var e=0,i=this.fonts.length;e<i;){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return this.fonts[0]}function _(t){var e=0,i=t.charCodeAt(0);if(i>=55296&&i<=56319){var n=t.charCodeAt(1);n>=56320&&n<=57343&&(e=1024*(i-55296)+n-56320+65536)}return e}function C(t,e){var i=t.toString(16)+e.toString(16);return-1!==p.indexOf(i)}function S(t){return t===l}function T(t){return t===o}function k(t){var e=_(t);return e>=c&&e<=d}function E(t){return k(t.substr(0,2))&&k(t.substr(2,2))}function P(t){return-1!==i.indexOf(t)}function L(t,e){var i=_(t.substr(e,2));if(i!==n)return!1;var o=0;for(e+=2;o<5;){if((i=_(t.substr(e,2)))<r||i>a)return!1;o+=1,e+=2}return _(t.substr(e,2))===s}function I(){this.isLoaded=!0}var M=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};M.isModifier=C,M.isZeroWidthJoiner=S,M.isFlagEmoji=E,M.isRegionalCode=k,M.isCombinedCharacter=P,M.isRegionalFlag=L,M.isVariationSelector=T,M.BLACK_FLAG_CODE_POINT=n;var A={addChars:y,addFonts:v,getCharData:x,getFontByName:w,measureText:b,checkLoadedFonts:f,setIsLoaded:I};return M.prototype=A,M}();function Ye(t){this.animationData=t}function Xe(t){return new Ye(t)}function Je(){}Ye.prototype.getProp=function(t){return this.animationData.slots&&this.animationData.slots[t.sid]?Object.assign(t,this.animationData.slots[t.sid].p):t},Je.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){-1===this.renderableComponents.indexOf(t)&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){-1!==this.renderableComponents.indexOf(t)&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,e=this.renderableComponents.length;for(t=0;t<e;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var Qe,ti=(Qe={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(t){return Qe[t]||""});function ei(t,e,i){this.p=Rt.getProp(e,t.v,0,0,i)}function ii(t,e,i){this.p=Rt.getProp(e,t.v,0,0,i)}function ni(t,e,i){this.p=Rt.getProp(e,t.v,1,0,i)}function si(t,e,i){this.p=Rt.getProp(e,t.v,1,0,i)}function ri(t,e,i){this.p=Rt.getProp(e,t.v,0,0,i)}function ai(t,e,i){this.p=Rt.getProp(e,t.v,0,0,i)}function oi(t,e,i){this.p=Rt.getProp(e,t.v,0,0,i)}function li(){this.p={}}function ci(t,e){var i,n=t.ef||[];this.effectElements=[];var s,r=n.length;for(i=0;i<r;i+=1)s=new hi(n[i],e),this.effectElements.push(s)}function hi(t,e){this.init(t,e)}function di(){}function pi(){}function ui(t,e,i){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(t,e,i)}function gi(t,e,i){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.initBaseData(t,e,i),this._isPlaying=!1,this._canPlay=!1;var n=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(n),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=t.tm?Rt.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0},this.lv=Rt.getProp(this,t.au&&t.au.lv?t.au.lv:{k:[100]},1,.01,this)}function fi(){}d([Dt],hi),hi.prototype.getValue=hi.prototype.iterateDynamicProperties,hi.prototype.init=function(t,e){var i;this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var n,s=this.data.ef.length,r=this.data.ef;for(i=0;i<s;i+=1){switch(n=null,r[i].ty){case 0:n=new ei(r[i],e,this);break;case 1:n=new ii(r[i],e,this);break;case 2:n=new ni(r[i],e,this);break;case 3:n=new si(r[i],e,this);break;case 4:case 7:n=new oi(r[i],e,this);break;case 10:n=new ri(r[i],e,this);break;case 11:n=new ai(r[i],e,this);break;case 5:n=new ci(r[i],e,this);break;default:n=new li(r[i],e,this)}n&&this.effectElements.push(n)}},di.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if("n"!==this.data.masksProperties[t].mode&&!1!==this.data.masksProperties[t].cl)return!0;t+=1}return!1},initExpressions:function(){var t=G();if(t){var e=t("layer"),i=t("effects"),n=t("shape"),s=t("text"),r=t("comp");this.layerInterface=e(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var a=i.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(a),0===this.data.ty||this.data.xt?this.compInterface=r(this):4===this.data.ty?(this.layerInterface.shapeInterface=n(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=s(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var t=ti(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=t},initBaseData:function(t,e,i){this.globalData=e,this.comp=i,this.data=t,this.layerId=z(),this.data.sr||(this.data.sr=1),this.effectsManager=new ci(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},pi.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){var i,n=this.dynamicProperties.length;for(i=0;i<n;i+=1)(e||this._isParent&&"transform"===this.dynamicProperties[i].propType)&&(this.dynamicProperties[i].getValue(),this.dynamicProperties[i]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&this.dynamicProperties.push(t)}},ui.prototype.prepareFrame=function(){},d([Je,di,pi],ui),ui.prototype.getBaseElement=function(){return null},ui.prototype.renderFrame=function(){},ui.prototype.destroy=function(){},ui.prototype.initExpressions=function(){var t=G();if(t){var e=t("footage");this.layerInterface=e(this)}},ui.prototype.getFootageData=function(){return this.footageData},gi.prototype.prepareFrame=function(t){if(this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder)this._currentTime=t/this.data.sr;else{var e=this.tm.v;this._currentTime=e}this._volume=this.lv.v[0];var i=this._volume*this._volumeMultiplier;this._previousVolume!==i&&(this._previousVolume=i,this.audio.volume(i))},d([Je,di,pi],gi),gi.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},gi.prototype.show=function(){},gi.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},gi.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},gi.prototype.resume=function(){this._canPlay=!0},gi.prototype.setRate=function(t){this.audio.rate(t)},gi.prototype.volume=function(t){this._volumeMultiplier=t,this._previousVolume=t*this._volume,this.audio.volume(this._previousVolume)},gi.prototype.getBaseElement=function(){return null},gi.prototype.destroy=function(){},gi.prototype.sourceRectAtTime=function(){},gi.prototype.initExpressions=function(){},fi.prototype.checkLayers=function(t){var e,i,n=this.layers.length;for(this.completeLayers=!0,e=n-1;e>=0;e-=1)this.elements[e]||(i=this.layers[e]).ip-i.st<=t-this.layers[e].st&&i.op-i.st>t-this.layers[e].st&&this.buildItem(e),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},fi.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:default:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t)}},fi.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},fi.prototype.createAudio=function(t){return new gi(t,this.globalData,this)},fi.prototype.createFootage=function(t){return new ui(t,this.globalData,this)},fi.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},fi.prototype.includeLayers=function(t){var e;this.completeLayers=!1;var i,n=t.length,s=this.layers.length;for(e=0;e<n;e+=1)for(i=0;i<s;){if(this.layers[i].id===t[e].id){this.layers[i]=t[e];break}i+=1}},fi.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},fi.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},fi.prototype.buildElementParenting=function(t,e,i){for(var n=this.elements,s=this.layers,r=0,a=s.length;r<a;)s[r].ind==e&&(n[r]&&!0!==n[r]?(i.push(n[r]),n[r].setAsParent(),void 0!==s[r].parent?this.buildElementParenting(t,s[r].parent,i):t.setHierarchy(i)):(this.buildItem(r),this.addPendingElement(t))),r+=1},fi.prototype.addPendingElement=function(t){this.pendingElements.push(t)},fi.prototype.searchExtraCompositions=function(t){var e,i=t.length;for(e=0;e<i;e+=1)if(t[e].xt){var n=this.createComp(t[e]);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},fi.prototype.getElementById=function(t){var e,i=this.elements.length;for(e=0;e<i;e+=1)if(this.elements[e].data.ind===t)return this.elements[e];return null},fi.prototype.getElementByPath=function(t){var e,i=t.shift();if("number"==typeof i)e=this.elements[i];else{var n,s=this.elements.length;for(n=0;n<s;n+=1)if(this.elements[n].data.nm===i){e=this.elements[n];break}}return 0===t.length?e:e.getElementByPath(t)},fi.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new Ge,this.globalData.slotManager=Xe(t),this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}};var mi={TRANSFORM_EFFECT:"transformEFfect"};function vi(){}function yi(t,e,i){this.data=t,this.element=e,this.globalData=i,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var n,s,r=this.globalData.defs,a=this.masksProperties?this.masksProperties.length:0;this.viewData=f(a),this.solidPath="";var o,l,h,d,p,u,g=this.masksProperties,m=0,v=[],y=z(),x="clipPath",b="clip-path";for(n=0;n<a;n+=1)if(("a"!==g[n].mode&&"n"!==g[n].mode||g[n].inv||100!==g[n].o.k||g[n].o.x)&&(x="mask",b="mask"),"s"!==g[n].mode&&"i"!==g[n].mode||0!==m?h=null:((h=Q("rect")).setAttribute("fill","#ffffff"),h.setAttribute("width",this.element.comp.data.w||0),h.setAttribute("height",this.element.comp.data.h||0),v.push(h)),s=Q("path"),"n"===g[n].mode)this.viewData[n]={op:Rt.getProp(this.element,g[n].o,0,.01,this.element),prop:Nt.getShapeProp(this.element,g[n],3),elem:s,lastPath:""},r.appendChild(s);else{var w;if(m+=1,s.setAttribute("fill","s"===g[n].mode?"#000000":"#ffffff"),s.setAttribute("clip-rule","nonzero"),0!==g[n].x.k?(x="mask",b="mask",u=Rt.getProp(this.element,g[n].x,0,null,this.element),w=z(),(d=Q("filter")).setAttribute("id",w),(p=Q("feMorphology")).setAttribute("operator","erode"),p.setAttribute("in","SourceGraphic"),p.setAttribute("radius","0"),d.appendChild(p),r.appendChild(d),s.setAttribute("stroke","s"===g[n].mode?"#000000":"#ffffff")):(p=null,u=null),this.storedData[n]={elem:s,x:u,expan:p,lastPath:"",lastOperator:"",filterId:w,lastRadius:0},"i"===g[n].mode){l=v.length;var _=Q("g");for(o=0;o<l;o+=1)_.appendChild(v[o]);var C=Q("mask");C.setAttribute("mask-type","alpha"),C.setAttribute("id",y+"_"+m),C.appendChild(s),r.appendChild(C),_.setAttribute("mask","url("+c()+"#"+y+"_"+m+")"),v.length=0,v.push(_)}else v.push(s);g[n].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[n]={elem:s,lastPath:"",op:Rt.getProp(this.element,g[n].o,0,.01,this.element),prop:Nt.getShapeProp(this.element,g[n],3),invRect:h},this.viewData[n].prop.k||this.drawPath(g[n],this.viewData[n].prop.v,this.viewData[n])}for(this.maskElement=Q(x),a=v.length,n=0;n<a;n+=1)this.maskElement.appendChild(v[n]);m>0&&(this.maskElement.setAttribute("id",y),this.element.maskedElement.setAttribute(b,"url("+c()+"#"+y+")"),r.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}vi.prototype={initTransform:function(){var t=new Vt;this.finalTransform={mProp:this.data.ks?ue.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:t,localMat:t,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,i=0,n=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;i<n;){if(this.hierarchy[i].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}i+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,e.cloneFromProps(t),i=0;i<n;i+=1)e.multiply(this.hierarchy[i].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var t=0,e=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;t<e;)this.localTransforms[t]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[t]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),t+=1;if(this.finalTransform._localMatMdf){var i=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(i),t=1;t<e;t+=1){var n=this.localTransforms[t].matrix;i.multiply(n)}i.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var s=this.finalTransform.localOpacity;for(t=0;t<e;t+=1)s*=.01*this.localTransforms[t].opacity;this.finalTransform.localOpacity=s}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var t=this.renderableEffectsManager.getEffects(mi.TRANSFORM_EFFECT);if(t.length){this.localTransforms=[],this.finalTransform.localMat=new Vt;var e=0,i=t.length;for(e=0;e<i;e+=1)this.localTransforms.push(t[e])}}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);for(var i,n=!0,s=this.comp;n;)s.finalTransform?(s.data.hasMask&&e.splice(0,0,s.finalTransform),s=s.comp):n=!1;var r,a=e.length;for(i=0;i<a;i+=1)r=e[i].mat.applyToPointArray(0,0,0),t=[t[0]-r[0],t[1]-r[1],0];return t},mHelper:new Vt},yi.prototype.getMaskProperty=function(t){return this.viewData[t].prop},yi.prototype.renderFrame=function(t){var e,i=this.element.finalTransform.mat,n=this.masksProperties.length;for(e=0;e<n;e+=1)if((this.viewData[e].prop._mdf||t)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op._mdf||t)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),"n"!==this.masksProperties[e].mode&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[e].invRect.setAttribute("transform",i.getInverseMatrix().to2dCSS()),this.storedData[e].x&&(this.storedData[e].x._mdf||t))){var s=this.storedData[e].expan;this.storedData[e].x.v<0?("erode"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url("+c()+"#"+this.storedData[e].filterId+")")),s.setAttribute("radius",-this.storedData[e].x.v)):("dilate"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}},yi.prototype.getMaskelement=function(){return this.maskElement},yi.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" "},yi.prototype.drawPath=function(t,e,i){var n,s,r=" M"+e.v[0][0]+","+e.v[0][1];for(s=e._length,n=1;n<s;n+=1)r+=" C"+e.o[n-1][0]+","+e.o[n-1][1]+" "+e.i[n][0]+","+e.i[n][1]+" "+e.v[n][0]+","+e.v[n][1];if(e.c&&s>1&&(r+=" C"+e.o[n-1][0]+","+e.o[n-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),i.lastPath!==r){var a="";i.elem&&(e.c&&(a=t.inv?this.solidPath+r:r),i.elem.setAttribute("d",a)),i.lastPath=r}},yi.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var xi,bi=function(){var t={};function e(t,e){var i=Q("filter");return i.setAttribute("id",t),!0!==e&&(i.setAttribute("filterUnits","objectBoundingBox"),i.setAttribute("x","0%"),i.setAttribute("y","0%"),i.setAttribute("width","100%"),i.setAttribute("height","100%")),i}function i(){var t=Q("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t}return t.createFilter=e,t.createAlphaToLuminanceFilter=i,t}(),wi=(xi={maskType:!0,svgLumaHidden:!0,offscreenCanvas:"undefined"!=typeof OffscreenCanvas},(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(xi.maskType=!1),/firefox/i.test(navigator.userAgent)&&(xi.svgLumaHidden=!1),xi),_i={},Ci="filter_result_";function Si(t){var e,i,n="SourceGraphic",s=t.data.ef?t.data.ef.length:0,r=z(),a=bi.createFilter(r,!0),o=0;for(this.filters=[],e=0;e<s;e+=1){i=null;var l=t.data.ef[e].ty;_i[l]&&(i=new(0,_i[l].effect)(a,t.effectsManager.effectElements[e],t,Ci+o,n),n=Ci+o,_i[l].countsAsEffect&&(o+=1)),i&&this.filters.push(i)}o&&(t.globalData.defs.appendChild(a),t.layerElement.setAttribute("filter","url("+c()+"#"+r+")")),this.filters.length&&t.addRenderableComponent(this)}function Ti(){}function ki(){}function Ei(){}function Pi(t,e,i){this.assetData=e.getAssetData(t.refId),this.assetData&&this.assetData.sid&&(this.assetData=e.slotManager.getProp(this.assetData)),this.initElement(t,e,i),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function Li(t,e){this.elem=t,this.pos=e}function Ii(){}Si.prototype.renderFrame=function(t){var e,i=this.filters.length;for(e=0;e<i;e+=1)this.filters[e].renderFrame(t)},Si.prototype.getEffects=function(t){var e,i=this.filters.length,n=[];for(e=0;e<i;e+=1)this.filters[e].type===t&&n.push(this.filters[e]);return n},Ti.prototype={initRendererElement:function(){this.layerElement=Q("g")},createContainerElements:function(){this.matteElement=Q("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t=null;if(this.data.td){this.matteMasks={};var e=Q("g");e.setAttribute("id",this.layerId),e.appendChild(this.layerElement),t=e,this.globalData.defs.appendChild(e)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),t=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var i=Q("clipPath"),n=Q("path");n.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var s=z();if(i.setAttribute("id",s),i.appendChild(n),this.globalData.defs.appendChild(i),this.checkMasks()){var r=Q("g");r.setAttribute("clip-path","url("+c()+"#"+s+")"),r.appendChild(this.layerElement),this.transformedElement=r,t?t.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+c()+"#"+s+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new yi(this.data,this,this.globalData),this.renderableEffectsManager=new Si(this),this.searchEffectTransforms()},getMatte:function(t){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[t]){var e,i,n,s,r=this.layerId+"_"+t;if(1===t||3===t){var a=Q("mask");a.setAttribute("id",r),a.setAttribute("mask-type",3===t?"luminance":"alpha"),(n=Q("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),a.appendChild(n),this.globalData.defs.appendChild(a),wi.maskType||1!==t||(a.setAttribute("mask-type","luminance"),e=z(),i=bi.createFilter(e),this.globalData.defs.appendChild(i),i.appendChild(bi.createAlphaToLuminanceFilter()),(s=Q("g")).appendChild(n),a.appendChild(s),s.setAttribute("filter","url("+c()+"#"+e+")"))}else if(2===t){var o=Q("mask");o.setAttribute("id",r),o.setAttribute("mask-type","alpha");var l=Q("g");o.appendChild(l),e=z(),i=bi.createFilter(e);var h=Q("feComponentTransfer");h.setAttribute("in","SourceGraphic"),i.appendChild(h);var d=Q("feFuncA");d.setAttribute("type","table"),d.setAttribute("tableValues","1.0 0.0"),h.appendChild(d),this.globalData.defs.appendChild(i);var p=Q("rect");p.setAttribute("width",this.comp.data.w),p.setAttribute("height",this.comp.data.h),p.setAttribute("x","0"),p.setAttribute("y","0"),p.setAttribute("fill","#ffffff"),p.setAttribute("opacity","0"),l.setAttribute("filter","url("+c()+"#"+e+")"),l.appendChild(p),(n=Q("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),l.appendChild(n),wi.maskType||(o.setAttribute("mask-type","luminance"),i.appendChild(bi.createAlphaToLuminanceFilter()),s=Q("g"),l.appendChild(p),s.appendChild(this.layerElement),l.appendChild(s)),this.globalData.defs.appendChild(o)}this.matteMasks[t]=r}return this.matteMasks[t]},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+c()+"#"+t+")")}},ki.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},d([Je,p({initElement:function(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initTransform(t,e,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],Ei),d([di,vi,Ti,ki,pi,Ei],Pi),Pi.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=Q("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},Pi.prototype.sourceRectAtTime=function(){return this.sourceRect},Ii.prototype={addShapeToModifiers:function(t){var e,i=this.shapeModifiers.length;for(e=0;e<i;e+=1)this.shapeModifiers[e].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=0,i=this.shapeModifiers.length;e<i;)if(this.shapeModifiers[e].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;t<e;t+=1)this.shapes[t].sh.reset();for(t=(e=this.shapeModifiers.length)-1;t>=0&&!this.shapeModifiers[t].processShapes(this._isFirstFrame);t-=1);}},searchProcessedElement:function(t){for(var e=this.processedElements,i=0,n=e.length;i<n;){if(e[i].elem===t)return e[i].pos;i+=1}return 0},addProcessedElement:function(t,e){for(var i=this.processedElements,n=i.length;n;)if(i[n-=1].elem===t)return void(i[n].pos=e);i.push(new Li(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}};var Mi={1:"butt",2:"round",3:"square"},Ai={1:"miter",2:"round",3:"bevel"};function Oi(t,e,i){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=i,this.lvl=e,this._isAnimated=!!i.k;for(var n=0,s=t.length;n<s;){if(t[n].mProps.dynamicProperties.length){this._isAnimated=!0;break}n+=1}}function Ri(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=!0===t.hd,this.pElem=Q("path"),this.msElem=null}function Di(t,e,i,n){var s;this.elem=t,this.frameId=-1,this.dataProps=f(e.length),this.renderer=i,this.k=!1,this.dashStr="",this.dashArray=g("float32",e.length?e.length-1:0),this.dashoffset=g("float32",1),this.initDynamicPropertyContainer(n);var r,a=e.length||0;for(s=0;s<a;s+=1)r=Rt.getProp(t,e[s].v,0,0,this),this.k=r.k||this.k,this.dataProps[s]={n:e[s].n,p:r};this.k||this.getValue(!0),this._isAnimated=this.k}function ji(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=Rt.getProp(t,e.o,0,.01,this),this.w=Rt.getProp(t,e.w,0,null,this),this.d=new Di(t,e.d||{},"svg",this),this.c=Rt.getProp(t,e.c,1,255,this),this.style=i,this._isAnimated=!!this._isAnimated}function $i(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=Rt.getProp(t,e.o,0,.01,this),this.c=Rt.getProp(t,e.c,1,255,this),this.style=i}function Fi(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.style=i}function zi(t,e,i){this.data=e,this.c=g("uint8c",4*e.p);var n=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=g("float32",n),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=n,this.initDynamicPropertyContainer(i),this.prop=Rt.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function Bi(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,i)}function Ni(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=Rt.getProp(t,e.w,0,null,this),this.d=new Di(t,e.d||{},"svg",this),this.initGradientData(t,e,i),this._isAnimated=!!this._isAnimated}function Vi(){this.it=[],this.prevViewData=[],this.gr=Q("g")}function Hi(t,e,i){this.transform={mProps:t,op:e,container:i},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}Oi.prototype.setAsAnimated=function(){this._isAnimated=!0},Ri.prototype.reset=function(){this.d="",this._mdf=!1},Di.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,i=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),e=0;e<i;e+=1)"o"!==this.dataProps[e].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},d([Dt],Di),d([Dt],ji),d([Dt],$i),d([Dt],Fi),zi.prototype.comparePoints=function(t,e){for(var i=0,n=this.o.length/2;i<n;){if(Math.abs(t[4*i]-t[4*e+2*i])>.01)return!1;i+=1}return!0},zi.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},zi.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,i,n,s=4*this.data.p;for(e=0;e<s;e+=1)i=e%4==0?100:255,n=Math.round(this.prop.v[e]*i),this.c[e]!==n&&(this.c[e]=n,this._cmdf=!t);if(this.o.length)for(s=this.prop.v.length,e=4*this.data.p;e<s;e+=1)i=e%2==0?100:1,n=e%2==0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==n&&(this.o[e-4*this.data.p]=n,this._omdf=!t);this._mdf=!t}},d([Dt],zi),Bi.prototype.initGradientData=function(t,e,i){this.o=Rt.getProp(t,e.o,0,.01,this),this.s=Rt.getProp(t,e.s,1,null,this),this.e=Rt.getProp(t,e.e,1,null,this),this.h=Rt.getProp(t,e.h||{k:0},0,.01,this),this.a=Rt.getProp(t,e.a||{k:0},0,P,this),this.g=new zi(t,e.g,this),this.style=i,this.stops=[],this.setGradientData(i.pElem,e),this.setGradientOpacity(e,i),this._isAnimated=!!this._isAnimated},Bi.prototype.setGradientData=function(t,e){var i=z(),n=Q(1===e.t?"linearGradient":"radialGradient");n.setAttribute("id",i),n.setAttribute("spreadMethod","pad"),n.setAttribute("gradientUnits","userSpaceOnUse");var s,r,a,o=[];for(a=4*e.g.p,r=0;r<a;r+=4)s=Q("stop"),n.appendChild(s),o.push(s);t.setAttribute("gf"===e.ty?"fill":"stroke","url("+c()+"#"+i+")"),this.gf=n,this.cst=o},Bi.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var i,n,s,r=Q("mask"),a=Q("path");r.appendChild(a);var o=z(),l=z();r.setAttribute("id",l);var h=Q(1===t.t?"linearGradient":"radialGradient");h.setAttribute("id",o),h.setAttribute("spreadMethod","pad"),h.setAttribute("gradientUnits","userSpaceOnUse"),s=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var d=this.stops;for(n=4*t.g.p;n<s;n+=2)(i=Q("stop")).setAttribute("stop-color","rgb(255,255,255)"),h.appendChild(i),d.push(i);a.setAttribute("gf"===t.ty?"fill":"stroke","url("+c()+"#"+o+")"),"gs"===t.ty&&(a.setAttribute("stroke-linecap",Mi[t.lc||2]),a.setAttribute("stroke-linejoin",Ai[t.lj||2]),1===t.lj&&a.setAttribute("stroke-miterlimit",t.ml)),this.of=h,this.ms=r,this.ost=d,this.maskId=l,e.msElem=a}},d([Dt],Bi),d([Bi,Dt],Ni);var Ui=function(t,e,i,n){if(0===e)return"";var s,r=t.o,a=t.i,o=t.v,l=" M"+n.applyToPointStringified(o[0][0],o[0][1]);for(s=1;s<e;s+=1)l+=" C"+n.applyToPointStringified(r[s-1][0],r[s-1][1])+" "+n.applyToPointStringified(a[s][0],a[s][1])+" "+n.applyToPointStringified(o[s][0],o[s][1]);return i&&e&&(l+=" C"+n.applyToPointStringified(r[s-1][0],r[s-1][1])+" "+n.applyToPointStringified(a[0][0],a[0][1])+" "+n.applyToPointStringified(o[0][0],o[0][1]),l+="z"),l},qi=function(){var t=new Vt,e=new Vt;function i(t){switch(t.ty){case"fl":return a;case"gf":return l;case"gs":return o;case"st":return c;case"sh":case"el":case"rc":case"sr":return r;case"tr":return n;case"no":return s;default:return null}}function n(t,e,i){(i||e.transform.op._mdf)&&e.transform.container.setAttribute("opacity",e.transform.op.v),(i||e.transform.mProps._mdf)&&e.transform.container.setAttribute("transform",e.transform.mProps.v.to2dCSS())}function s(){}function r(i,n,s){var r,a,o,l,c,h,d,p,u,g,f=n.styles.length,m=n.lvl;for(h=0;h<f;h+=1){if(l=n.sh._mdf||s,n.styles[h].lvl<m){for(p=e.reset(),u=m-n.styles[h].lvl,g=n.transformers.length-1;!l&&u>0;)l=n.transformers[g].mProps._mdf||l,u-=1,g-=1;if(l)for(u=m-n.styles[h].lvl,g=n.transformers.length-1;u>0;)p.multiply(n.transformers[g].mProps.v),u-=1,g-=1}else p=t;if(a=(d=n.sh.paths)._length,l){for(o="",r=0;r<a;r+=1)(c=d.shapes[r])&&c._length&&(o+=Ui(c,c._length,c.c,p));n.caches[h]=o}else o=n.caches[h];n.styles[h].d+=!0===i.hd?"":o,n.styles[h]._mdf=l||n.styles[h]._mdf}}function a(t,e,i){var n=e.style;(e.c._mdf||i)&&n.pElem.setAttribute("fill","rgb("+S(e.c.v[0])+","+S(e.c.v[1])+","+S(e.c.v[2])+")"),(e.o._mdf||i)&&n.pElem.setAttribute("fill-opacity",e.o.v)}function o(t,e,i){l(t,e,i),c(t,e,i)}function l(t,e,i){var n,s,r,a,o,l=e.gf,c=e.g._hasOpacity,h=e.s.v,d=e.e.v;if(e.o._mdf||i){var p="gf"===t.ty?"fill-opacity":"stroke-opacity";e.style.pElem.setAttribute(p,e.o.v)}if(e.s._mdf||i){var u=1===t.t?"x1":"cx",g="x1"===u?"y1":"cy";l.setAttribute(u,h[0]),l.setAttribute(g,h[1]),c&&!e.g._collapsable&&(e.of.setAttribute(u,h[0]),e.of.setAttribute(g,h[1]))}if(e.g._cmdf||i){n=e.cst;var f=e.g.c;for(r=n.length,s=0;s<r;s+=1)(a=n[s]).setAttribute("offset",f[4*s]+"%"),a.setAttribute("stop-color","rgb("+f[4*s+1]+","+f[4*s+2]+","+f[4*s+3]+")")}if(c&&(e.g._omdf||i)){var m=e.g.o;for(r=(n=e.g._collapsable?e.cst:e.ost).length,s=0;s<r;s+=1)a=n[s],e.g._collapsable||a.setAttribute("offset",m[2*s]+"%"),a.setAttribute("stop-opacity",m[2*s+1])}if(1===t.t)(e.e._mdf||i)&&(l.setAttribute("x2",d[0]),l.setAttribute("y2",d[1]),c&&!e.g._collapsable&&(e.of.setAttribute("x2",d[0]),e.of.setAttribute("y2",d[1])));else if((e.s._mdf||e.e._mdf||i)&&(o=Math.sqrt(Math.pow(h[0]-d[0],2)+Math.pow(h[1]-d[1],2)),l.setAttribute("r",o),c&&!e.g._collapsable&&e.of.setAttribute("r",o)),e.e._mdf||e.h._mdf||e.a._mdf||i){o||(o=Math.sqrt(Math.pow(h[0]-d[0],2)+Math.pow(h[1]-d[1],2)));var v=Math.atan2(d[1]-h[1],d[0]-h[0]),y=e.h.v;y>=1?y=.99:y<=-1&&(y=-.99);var x=o*y,b=Math.cos(v+e.a.v)*x+h[0],w=Math.sin(v+e.a.v)*x+h[1];l.setAttribute("fx",b),l.setAttribute("fy",w),c&&!e.g._collapsable&&(e.of.setAttribute("fx",b),e.of.setAttribute("fy",w))}}function c(t,e,i){var n=e.style,s=e.d;s&&(s._mdf||i)&&s.dashStr&&(n.pElem.setAttribute("stroke-dasharray",s.dashStr),n.pElem.setAttribute("stroke-dashoffset",s.dashoffset[0])),e.c&&(e.c._mdf||i)&&n.pElem.setAttribute("stroke","rgb("+S(e.c.v[0])+","+S(e.c.v[1])+","+S(e.c.v[2])+")"),(e.o._mdf||i)&&n.pElem.setAttribute("stroke-opacity",e.o.v),(e.w._mdf||i)&&(n.pElem.setAttribute("stroke-width",e.w.v),n.msElem&&n.msElem.setAttribute("stroke-width",e.w.v))}return{createRenderFunction:i}}();function Wi(t,e,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,i),this.prevViewData=[]}function Zi(t,e,i,n,s,r){this.o=t,this.sw=e,this.sc=i,this.fc=n,this.m=s,this.p=r,this._mdf={o:!0,sw:!!e,sc:!!i,fc:!!n,m:!0,p:!0}}function Ki(t,e){this._frameId=r,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,e.d&&e.d.sid&&(e.d=t.globalData.slotManager.getProp(e.d)),this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}d([di,vi,Ti,Ii,ki,pi,Ei],Wi),Wi.prototype.initSecondaryElement=function(){},Wi.prototype.identityMatrix=new Vt,Wi.prototype.buildExpressionInterface=function(){},Wi.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},Wi.prototype.filterUniqueShapes=function(){var t,e,i,n,s=this.shapes.length,r=this.stylesList.length,a=[],o=!1;for(i=0;i<r;i+=1){for(n=this.stylesList[i],o=!1,a.length=0,t=0;t<s;t+=1)-1!==(e=this.shapes[t]).styles.indexOf(n)&&(a.push(e),o=e._isAnimated||o);a.length>1&&o&&this.setShapesAsAnimated(a)}},Wi.prototype.setShapesAsAnimated=function(t){var e,i=t.length;for(e=0;e<i;e+=1)t[e].setAsAnimated()},Wi.prototype.createStyleElement=function(t,e){var i,n=new Ri(t,e),s=n.pElem;return"st"===t.ty?i=new ji(this,t,n):"fl"===t.ty?i=new $i(this,t,n):"gf"===t.ty||"gs"===t.ty?(i=new("gf"===t.ty?Bi:Ni)(this,t,n),this.globalData.defs.appendChild(i.gf),i.maskId&&(this.globalData.defs.appendChild(i.ms),this.globalData.defs.appendChild(i.of),s.setAttribute("mask","url("+c()+"#"+i.maskId+")"))):"no"===t.ty&&(i=new Fi(this,t,n)),"st"!==t.ty&&"gs"!==t.ty||(s.setAttribute("stroke-linecap",Mi[t.lc||2]),s.setAttribute("stroke-linejoin",Ai[t.lj||2]),s.setAttribute("fill-opacity","0"),1===t.lj&&s.setAttribute("stroke-miterlimit",t.ml)),2===t.r&&s.setAttribute("fill-rule","evenodd"),t.ln&&s.setAttribute("id",t.ln),t.cl&&s.setAttribute("class",t.cl),t.bm&&(s.style["mix-blend-mode"]=ti(t.bm)),this.stylesList.push(n),this.addToAnimatedContents(t,i),i},Wi.prototype.createGroupElement=function(t){var e=new Vi;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=ti(t.bm)),e},Wi.prototype.createTransformElement=function(t,e){var i=ue.getTransformProperty(this,t,this),n=new Hi(i,i.o,e);return this.addToAnimatedContents(t,n),n},Wi.prototype.createShapeElement=function(t,e,i){var n=4;"rc"===t.ty?n=5:"el"===t.ty?n=6:"sr"===t.ty&&(n=7);var s=new Oi(e,i,Nt.getShapeProp(this,t,n,this));return this.shapes.push(s),this.addShapeToModifiers(s),this.addToAnimatedContents(t,s),s},Wi.prototype.addToAnimatedContents=function(t,e){for(var i=0,n=this.animatedContents.length;i<n;){if(this.animatedContents[i].element===e)return;i+=1}this.animatedContents.push({fn:qi.createRenderFunction(t),element:e,data:t})},Wi.prototype.setElementStyles=function(t){var e,i=t.styles,n=this.stylesList.length;for(e=0;e<n;e+=1)this.stylesList[e].closed||i.push(this.stylesList[e])},Wi.prototype.reloadShapes=function(){var t;this._isFirstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},Wi.prototype.searchShapes=function(t,e,i,n,s,r,a){var o,l,c,h,d,p,u=[].concat(r),g=t.length-1,f=[],m=[];for(o=g;o>=0;o-=1){if((p=this.searchProcessedElement(t[o]))?e[o]=i[p-1]:t[o]._render=a,"fl"===t[o].ty||"st"===t[o].ty||"gf"===t[o].ty||"gs"===t[o].ty||"no"===t[o].ty)p?e[o].style.closed=!1:e[o]=this.createStyleElement(t[o],s),t[o]._render&&e[o].style.pElem.parentNode!==n&&n.appendChild(e[o].style.pElem),f.push(e[o].style);else if("gr"===t[o].ty){if(p)for(c=e[o].it.length,l=0;l<c;l+=1)e[o].prevViewData[l]=e[o].it[l];else e[o]=this.createGroupElement(t[o]);this.searchShapes(t[o].it,e[o].it,e[o].prevViewData,e[o].gr,s+1,u,a),t[o]._render&&e[o].gr.parentNode!==n&&n.appendChild(e[o].gr)}else"tr"===t[o].ty?(p||(e[o]=this.createTransformElement(t[o],n)),h=e[o].transform,u.push(h)):"sh"===t[o].ty||"rc"===t[o].ty||"el"===t[o].ty||"sr"===t[o].ty?(p||(e[o]=this.createShapeElement(t[o],u,s)),this.setElementStyles(e[o])):"tm"===t[o].ty||"rd"===t[o].ty||"ms"===t[o].ty||"pb"===t[o].ty||"zz"===t[o].ty||"op"===t[o].ty?(p?(d=e[o]).closed=!1:((d=ce.getModifier(t[o].ty)).init(this,t[o]),e[o]=d,this.shapeModifiers.push(d)),m.push(d)):"rp"===t[o].ty&&(p?(d=e[o]).closed=!0:(d=ce.getModifier(t[o].ty),e[o]=d,d.init(this,t,o,e),this.shapeModifiers.push(d),a=!1),m.push(d));this.addProcessedElement(t[o],o+1)}for(g=f.length,o=0;o<g;o+=1)f[o].closed=!0;for(g=m.length,o=0;o<g;o+=1)m[o].closed=!0},Wi.prototype.renderInnerContent=function(){var t;this.renderModifiers();var e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},Wi.prototype.renderShape=function(){var t,e,i=this.animatedContents.length;for(t=0;t<i;t+=1)e=this.animatedContents[t],(this._isFirstFrame||e.element._isAnimated)&&!0!==e.data&&e.fn(e.data,e.element,this._isFirstFrame)},Wi.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},Zi.prototype.update=function(t,e,i,n,s,r){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var a=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,a=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,a=!0),this.sc!==i&&(this.sc=i,this._mdf.sc=!0,a=!0),this.fc!==n&&(this.fc=n,this._mdf.fc=!0,a=!0),this.m!==s&&(this.m=s,this._mdf.m=!0,a=!0),!r.length||this.p[0]===r[0]&&this.p[1]===r[1]&&this.p[4]===r[4]&&this.p[5]===r[5]&&this.p[12]===r[12]&&this.p[13]===r[13]||(this.p=r,this._mdf.p=!0,a=!0),a},Ki.prototype.defaultBoxWidth=[0,0],Ki.prototype.copyData=function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Ki.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},Ki.prototype.searchProperty=function(){return this.searchKeyframes()},Ki.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},Ki.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},Ki.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,i=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var n;this.lock=!0,this._mdf=!1;var s=this.effectsSequence.length,r=t||this.data.d.k[this.keysIndex].s;for(n=0;n<s;n+=1)r=i!==this.keysIndex?this.effectsSequence[n](r,r.t):this.effectsSequence[n](this.currentData,r.t);e!==r&&this.setCurrentData(r),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},Ki.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,i=0,n=t.length;i<=n-1&&!(i===n-1||t[i+1].t>e);)i+=1;return this.keysIndex!==i&&(this.keysIndex=i),this.data.d.k[this.keysIndex].s},Ki.prototype.buildFinalText=function(t){for(var e,i,n=[],s=0,r=t.length,a=!1,o=!1,l="";s<r;)a=o,o=!1,e=t.charCodeAt(s),l=t.charAt(s),Ge.isCombinedCharacter(e)?a=!0:e>=55296&&e<=56319?Ge.isRegionalFlag(t,s)?l=t.substr(s,14):(i=t.charCodeAt(s+1))>=56320&&i<=57343&&(Ge.isModifier(e,i)?(l=t.substr(s,2),a=!0):l=Ge.isFlagEmoji(t.substr(s,4))?t.substr(s,4):t.substr(s,2)):e>56319?(i=t.charCodeAt(s+1),Ge.isVariationSelector(e)&&(a=!0)):Ge.isZeroWidthJoiner(e)&&(a=!0,o=!0),a?(n[n.length-1]+=l,a=!1):n.push(l),s+=l.length;return n},Ki.prototype.completeTextData=function(t){t.__complete=!0;var e,i,n,s,r,a,o,l=this.elem.globalData.fontManager,c=this.data,h=[],d=0,p=c.m.g,u=0,g=0,f=0,m=[],v=0,y=0,x=l.getFontByName(t.f),b=0,w=Ke(x);t.fWeight=w.weight,t.fStyle=w.style,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),i=t.finalText.length,t.finalLineHeight=t.lh;var _,C=t.tr/1e3*t.finalSize;if(t.sz)for(var S,T,k=!0,E=t.sz[0],P=t.sz[1];k;){S=0,v=0,i=(T=this.buildFinalText(t.t)).length,C=t.tr/1e3*t.finalSize;var L=-1;for(e=0;e<i;e+=1)_=T[e].charCodeAt(0),n=!1," "===T[e]?L=e:13!==_&&3!==_||(v=0,n=!0,S+=t.finalLineHeight||1.2*t.finalSize),l.chars?(o=l.getCharData(T[e],x.fStyle,x.fFamily),b=n?0:o.w*t.finalSize/100):b=l.measureText(T[e],t.f,t.finalSize),v+b>E&&" "!==T[e]?(-1===L?i+=1:e=L,S+=t.finalLineHeight||1.2*t.finalSize,T.splice(e,L===e?1:0,"\r"),L=-1,v=0):(v+=b,v+=C);S+=x.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&P<S?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=T,i=t.finalText.length,k=!1)}v=-C,b=0;var I,M=0;for(e=0;e<i;e+=1)if(n=!1,13===(_=(I=t.finalText[e]).charCodeAt(0))||3===_?(M=0,m.push(v),y=v>y?v:y,v=-2*C,s="",n=!0,f+=1):s=I,l.chars?(o=l.getCharData(I,x.fStyle,l.getFontByName(t.f).fFamily),b=n?0:o.w*t.finalSize/100):b=l.measureText(s,t.f,t.finalSize)," "===I?M+=b+C:(v+=b+C+M,M=0),h.push({l:b,an:b,add:u,n,anIndexes:[],val:s,line:f,animatorJustifyOffset:0}),2==p){if(u+=b,""===s||" "===s||e===i-1){for(""!==s&&" "!==s||(u-=b);g<=e;)h[g].an=u,h[g].ind=d,h[g].extra=b,g+=1;d+=1,u=0}}else if(3==p){if(u+=b,""===s||e===i-1){for(""===s&&(u-=b);g<=e;)h[g].an=u,h[g].ind=d,h[g].extra=b,g+=1;u=0,d+=1}}else h[d].ind=d,h[d].extra=0,d+=1;if(t.l=h,y=v>y?v:y,m.push(v),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=y,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=m;var A,O,R,D,j=c.a;a=j.length;var $=[];for(r=0;r<a;r+=1){for((A=j[r]).a.sc&&(t.strokeColorAnim=!0),A.a.sw&&(t.strokeWidthAnim=!0),(A.a.fc||A.a.fh||A.a.fs||A.a.fb)&&(t.fillColorAnim=!0),D=0,R=A.s.b,e=0;e<i;e+=1)(O=h[e]).anIndexes[r]=D,(1==R&&""!==O.val||2==R&&""!==O.val&&" "!==O.val||3==R&&(O.n||" "==O.val||e==i-1)||4==R&&(O.n||e==i-1))&&(1===A.s.rn&&$.push(D),D+=1);c.a[r].s.totalChars=D;var F,z=-1;if(1===A.s.rn)for(e=0;e<i;e+=1)z!=(O=h[e]).anIndexes[r]&&(z=O.anIndexes[r],F=$.splice(Math.floor(Math.random()*$.length),1)[0]),O.anIndexes[r]=F}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=x.ascent*t.finalSize/100},Ki.prototype.updateDocumentData=function(t,e){e=void 0===e?this.keysIndex:e;var i=this.copyData({},this.data.d.k[e].s);i=this.copyData(i,t),this.data.d.k[e].s=i,this.recalculate(e),this.setCurrentData(i),this.elem.addDynamicProperty(this)},Ki.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},Ki.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},Ki.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var Gi=function(){var t=Math.max,e=Math.min,i=Math.floor;function n(t,e){this._currentTextLength=-1,this.k=!1,this.data=e,this.elem=t,this.comp=t.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(t),this.s=Rt.getProp(t,e.s||{k:0},0,0,this),this.e="e"in e?Rt.getProp(t,e.e,0,0,this):{v:100},this.o=Rt.getProp(t,e.o||{k:0},0,0,this),this.xe=Rt.getProp(t,e.xe||{k:0},0,0,this),this.ne=Rt.getProp(t,e.ne||{k:0},0,0,this),this.sm=Rt.getProp(t,e.sm||{k:100},0,0,this),this.a=Rt.getProp(t,e.a,0,.01,this),this.dynamicProperties.length||this.getValue()}function s(t,e,i){return new n(t,e,i)}return n.prototype={getMult:function(n){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var s=0,r=0,a=1,o=1;this.ne.v>0?s=this.ne.v/100:r=-this.ne.v/100,this.xe.v>0?a=1-this.xe.v/100:o=1+this.xe.v/100;var l=ut.getBezierEasing(s,r,a,o).get,c=0,h=this.finalS,d=this.finalE,p=this.data.sh;if(2===p)c=l(c=d===h?n>=d?1:0:t(0,e(.5/(d-h)+(n-h)/(d-h),1)));else if(3===p)c=l(c=d===h?n>=d?0:1:1-t(0,e(.5/(d-h)+(n-h)/(d-h),1)));else if(4===p)d===h?c=0:(c=t(0,e(.5/(d-h)+(n-h)/(d-h),1)))<.5?c*=2:c=1-2*(c-.5),c=l(c);else if(5===p){if(d===h)c=0;else{var u=d-h,g=-u/2+(n=e(t(0,n+.5-h),d-h)),f=u/2;c=Math.sqrt(1-g*g/(f*f))}c=l(c)}else 6===p?(d===h?c=0:(n=e(t(0,n+.5-h),d-h),c=(1+Math.cos(Math.PI+2*Math.PI*n/(d-h)))/2),c=l(c)):(n>=i(h)&&(c=t(0,e(n-h<0?e(d,1)-(h-n):d-n,1))),c=l(c));if(100!==this.sm.v){var m=.01*this.sm.v;0===m&&(m=1e-8);var v=.5-.5*m;c<v?c=0:(c=(c-v)/m)>1&&(c=1)}return c*this.a.v},getValue:function(t){this.iterateDynamicProperties(),this._mdf=t||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,t&&2===this.data.r&&(this.e.v=this._currentTextLength);var e=2===this.data.r?1:100/this.data.totalChars,i=this.o.v/e,n=this.s.v/e+i,s=this.e.v/e+i;if(n>s){var r=n;n=s,s=r}this.finalS=n,this.finalE=s}},d([Dt],n),{getTextSelectorProp:s}}();function Yi(t,e,i){var n={propType:!1},s=Rt.getProp,r=e.a;this.a={r:r.r?s(t,r.r,0,P,i):n,rx:r.rx?s(t,r.rx,0,P,i):n,ry:r.ry?s(t,r.ry,0,P,i):n,sk:r.sk?s(t,r.sk,0,P,i):n,sa:r.sa?s(t,r.sa,0,P,i):n,s:r.s?s(t,r.s,1,.01,i):n,a:r.a?s(t,r.a,1,0,i):n,o:r.o?s(t,r.o,0,.01,i):n,p:r.p?s(t,r.p,1,0,i):n,sw:r.sw?s(t,r.sw,0,0,i):n,sc:r.sc?s(t,r.sc,1,0,i):n,fc:r.fc?s(t,r.fc,1,0,i):n,fh:r.fh?s(t,r.fh,0,0,i):n,fs:r.fs?s(t,r.fs,0,.01,i):n,fb:r.fb?s(t,r.fb,0,.01,i):n,t:r.t?s(t,r.t,0,0,i):n},this.s=Gi.getTextSelectorProp(t,e.s,i),this.s.t=e.s.t}function Xi(t,e,i){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=i,this._animatorsData=f(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(i)}function Ji(){}Xi.prototype.searchProperties=function(){var t,e,i=this._textData.a.length,n=Rt.getProp;for(t=0;t<i;t+=1)e=this._textData.a[t],this._animatorsData[t]=new Yi(this._elem,e,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:n(this._elem,this._textData.p.a,0,0,this),f:n(this._elem,this._textData.p.f,0,0,this),l:n(this._elem,this._textData.p.l,0,0,this),r:n(this._elem,this._textData.p.r,0,0,this),p:n(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=n(this._elem,this._textData.m.a,1,0,this)},Xi.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var i,n,s,r,a,o,l,c,h,d,p,u,g,f,m,v,y,x,b,w=this._moreOptions.alignment.v,_=this._animatorsData,C=this._textData,S=this.mHelper,T=this._renderType,k=this.renderedLetters.length,E=t.l;if(this._hasMaskedPath){if(b=this._pathData.m,!this._pathData.n||this._pathData._mdf){var P,L=b.v;for(this._pathData.r.v&&(L=L.reverse()),a={tLength:0,segments:[]},r=L._length-1,v=0,s=0;s<r;s+=1)P=xt.buildBezierData(L.v[s],L.v[s+1],[L.o[s][0]-L.v[s][0],L.o[s][1]-L.v[s][1]],[L.i[s+1][0]-L.v[s+1][0],L.i[s+1][1]-L.v[s+1][1]]),a.tLength+=P.segmentLength,a.segments.push(P),v+=P.segmentLength;s=r,b.v.c&&(P=xt.buildBezierData(L.v[s],L.v[0],[L.o[s][0]-L.v[s][0],L.o[s][1]-L.v[s][1]],[L.i[0][0]-L.v[0][0],L.i[0][1]-L.v[0][1]]),a.tLength+=P.segmentLength,a.segments.push(P),v+=P.segmentLength),this._pathData.pi=a}if(a=this._pathData.pi,o=this._pathData.f.v,p=0,d=1,c=0,h=!0,f=a.segments,o<0&&b.v.c)for(a.tLength<Math.abs(o)&&(o=-Math.abs(o)%a.tLength),d=(g=f[p=f.length-1].points).length-1;o<0;)o+=g[d].partialLength,(d-=1)<0&&(d=(g=f[p-=1].points).length-1);u=(g=f[p].points)[d-1],m=(l=g[d]).partialLength}r=E.length,i=0,n=0;var I,M,A,O,R,D=1.2*t.finalSize*.714,j=!0;A=_.length;var $,F,z,B,N,q,W,Z,K,G,Y,X,J=-1,Q=o,tt=p,et=d,it=-1,nt="",st=this.defaultPropsArray;if(2===t.j||1===t.j){var rt=0,at=0,ot=2===t.j?-.5:-1,lt=0,ct=!0;for(s=0;s<r;s+=1)if(E[s].n){for(rt&&(rt+=at);lt<s;)E[lt].animatorJustifyOffset=rt,lt+=1;rt=0,ct=!0}else{for(M=0;M<A;M+=1)(I=_[M].a).t.propType&&(ct&&2===t.j&&(at+=I.t.v*ot),(R=_[M].s.getMult(E[s].anIndexes[M],C.a[M].s.totalChars)).length?rt+=I.t.v*R[0]*ot:rt+=I.t.v*R*ot);ct=!1}for(rt&&(rt+=at);lt<s;)E[lt].animatorJustifyOffset=rt,lt+=1}for(s=0;s<r;s+=1){if(S.reset(),B=1,E[s].n)i=0,n+=t.yOffset,n+=j?1:0,o=Q,j=!1,this._hasMaskedPath&&(d=et,u=(g=f[p=tt].points)[d-1],m=(l=g[d]).partialLength,c=0),nt="",Y="",K="",X="",st=this.defaultPropsArray;else{if(this._hasMaskedPath){if(it!==E[s].line){switch(t.j){case 1:o+=v-t.lineWidths[E[s].line];break;case 2:o+=(v-t.lineWidths[E[s].line])/2}it=E[s].line}J!==E[s].ind&&(E[J]&&(o+=E[J].extra),o+=E[s].an/2,J=E[s].ind),o+=w[0]*E[s].an*.005;var ht=0;for(M=0;M<A;M+=1)(I=_[M].a).p.propType&&((R=_[M].s.getMult(E[s].anIndexes[M],C.a[M].s.totalChars)).length?ht+=I.p.v[0]*R[0]:ht+=I.p.v[0]*R),I.a.propType&&((R=_[M].s.getMult(E[s].anIndexes[M],C.a[M].s.totalChars)).length?ht+=I.a.v[0]*R[0]:ht+=I.a.v[0]*R);for(h=!0,this._pathData.a.v&&(o=.5*E[0].an+(v-this._pathData.f.v-.5*E[0].an-.5*E[E.length-1].an)*J/(r-1),o+=this._pathData.f.v);h;)c+m>=o+ht||!g?(y=(o+ht-c)/l.partialLength,F=u.point[0]+(l.point[0]-u.point[0])*y,z=u.point[1]+(l.point[1]-u.point[1])*y,S.translate(-w[0]*E[s].an*.005,-w[1]*D*.01),h=!1):g&&(c+=l.partialLength,(d+=1)>=g.length&&(d=0,f[p+=1]?g=f[p].points:b.v.c?(d=0,g=f[p=0].points):(c-=l.partialLength,g=null)),g&&(u=l,m=(l=g[d]).partialLength));$=E[s].an/2-E[s].add,S.translate(-$,0,0)}else $=E[s].an/2-E[s].add,S.translate(-$,0,0),S.translate(-w[0]*E[s].an*.005,-w[1]*D*.01,0);for(M=0;M<A;M+=1)(I=_[M].a).t.propType&&(R=_[M].s.getMult(E[s].anIndexes[M],C.a[M].s.totalChars),0===i&&0===t.j||(this._hasMaskedPath?R.length?o+=I.t.v*R[0]:o+=I.t.v*R:R.length?i+=I.t.v*R[0]:i+=I.t.v*R));for(t.strokeWidthAnim&&(q=t.sw||0),t.strokeColorAnim&&(N=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(W=[t.fc[0],t.fc[1],t.fc[2]]),M=0;M<A;M+=1)(I=_[M].a).a.propType&&((R=_[M].s.getMult(E[s].anIndexes[M],C.a[M].s.totalChars)).length?S.translate(-I.a.v[0]*R[0],-I.a.v[1]*R[1],I.a.v[2]*R[2]):S.translate(-I.a.v[0]*R,-I.a.v[1]*R,I.a.v[2]*R));for(M=0;M<A;M+=1)(I=_[M].a).s.propType&&((R=_[M].s.getMult(E[s].anIndexes[M],C.a[M].s.totalChars)).length?S.scale(1+(I.s.v[0]-1)*R[0],1+(I.s.v[1]-1)*R[1],1):S.scale(1+(I.s.v[0]-1)*R,1+(I.s.v[1]-1)*R,1));for(M=0;M<A;M+=1){if(I=_[M].a,R=_[M].s.getMult(E[s].anIndexes[M],C.a[M].s.totalChars),I.sk.propType&&(R.length?S.skewFromAxis(-I.sk.v*R[0],I.sa.v*R[1]):S.skewFromAxis(-I.sk.v*R,I.sa.v*R)),I.r.propType&&(R.length?S.rotateZ(-I.r.v*R[2]):S.rotateZ(-I.r.v*R)),I.ry.propType&&(R.length?S.rotateY(I.ry.v*R[1]):S.rotateY(I.ry.v*R)),I.rx.propType&&(R.length?S.rotateX(I.rx.v*R[0]):S.rotateX(I.rx.v*R)),I.o.propType&&(R.length?B+=(I.o.v*R[0]-B)*R[0]:B+=(I.o.v*R-B)*R),t.strokeWidthAnim&&I.sw.propType&&(R.length?q+=I.sw.v*R[0]:q+=I.sw.v*R),t.strokeColorAnim&&I.sc.propType)for(Z=0;Z<3;Z+=1)R.length?N[Z]+=(I.sc.v[Z]-N[Z])*R[0]:N[Z]+=(I.sc.v[Z]-N[Z])*R;if(t.fillColorAnim&&t.fc){if(I.fc.propType)for(Z=0;Z<3;Z+=1)R.length?W[Z]+=(I.fc.v[Z]-W[Z])*R[0]:W[Z]+=(I.fc.v[Z]-W[Z])*R;I.fh.propType&&(W=R.length?U(W,I.fh.v*R[0]):U(W,I.fh.v*R)),I.fs.propType&&(W=R.length?V(W,I.fs.v*R[0]):V(W,I.fs.v*R)),I.fb.propType&&(W=R.length?H(W,I.fb.v*R[0]):H(W,I.fb.v*R))}}for(M=0;M<A;M+=1)(I=_[M].a).p.propType&&(R=_[M].s.getMult(E[s].anIndexes[M],C.a[M].s.totalChars),this._hasMaskedPath?R.length?S.translate(0,I.p.v[1]*R[0],-I.p.v[2]*R[1]):S.translate(0,I.p.v[1]*R,-I.p.v[2]*R):R.length?S.translate(I.p.v[0]*R[0],I.p.v[1]*R[1],-I.p.v[2]*R[2]):S.translate(I.p.v[0]*R,I.p.v[1]*R,-I.p.v[2]*R));if(t.strokeWidthAnim&&(K=q<0?0:q),t.strokeColorAnim&&(G="rgb("+Math.round(255*N[0])+","+Math.round(255*N[1])+","+Math.round(255*N[2])+")"),t.fillColorAnim&&t.fc&&(Y="rgb("+Math.round(255*W[0])+","+Math.round(255*W[1])+","+Math.round(255*W[2])+")"),this._hasMaskedPath){if(S.translate(0,-t.ls),S.translate(0,w[1]*D*.01+n,0),this._pathData.p.v){x=(l.point[1]-u.point[1])/(l.point[0]-u.point[0]);var dt=180*Math.atan(x)/Math.PI;l.point[0]<u.point[0]&&(dt+=180),S.rotate(-dt*Math.PI/180)}S.translate(F,z,0),o-=w[0]*E[s].an*.005,E[s+1]&&J!==E[s+1].ind&&(o+=E[s].an/2,o+=.001*t.tr*t.finalSize)}else{switch(S.translate(i,n,0),t.ps&&S.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:S.translate(E[s].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[E[s].line]),0,0);break;case 2:S.translate(E[s].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[E[s].line])/2,0,0)}S.translate(0,-t.ls),S.translate($,0,0),S.translate(w[0]*E[s].an*.005,w[1]*D*.01,0),i+=E[s].l+.001*t.tr*t.finalSize}"html"===T?nt=S.toCSS():"svg"===T?nt=S.to2dCSS():st=[S.props[0],S.props[1],S.props[2],S.props[3],S.props[4],S.props[5],S.props[6],S.props[7],S.props[8],S.props[9],S.props[10],S.props[11],S.props[12],S.props[13],S.props[14],S.props[15]],X=B}k<=s?(O=new Zi(X,K,G,Y,nt,st),this.renderedLetters.push(O),k+=1,this.lettersChangedFlag=!0):(O=this.renderedLetters[s],this.lettersChangedFlag=O.update(X,K,G,Y,nt,st)||this.lettersChangedFlag)}}},Xi.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},Xi.prototype.mHelper=new Vt,Xi.prototype.defaultPropsArray=[],d([Dt],Xi),Ji.prototype.initElement=function(t,e,i){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,i),this.textProperty=new Ki(this,t.t,this.dynamicProperties),this.textAnimator=new Xi(t.t,this.renderType,this),this.initTransform(t,e,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},Ji.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)},Ji.prototype.createPathShape=function(t,e){var i,n,s=e.length,r="";for(i=0;i<s;i+=1)"sh"===e[i].ty&&(n=e[i].ks.k,r+=Ui(n,n.i.length,!0,t));return r},Ji.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},Ji.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},Ji.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},Ji.prototype.applyTextPropertiesToMatrix=function(t,e,i,n,s){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[i]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[i])/2,0,0)}e.translate(n,s,0)},Ji.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},Ji.prototype.emptyProp=new Zi,Ji.prototype.destroy=function(){},Ji.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var Qi={shapes:[]};function tn(t,e,i){this.textSpans=[],this.renderType="svg",this.initElement(t,e,i)}function en(t,e,i){this.initElement(t,e,i)}function nn(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initFrame(),this.initTransform(t,e,i),this.initHierarchy()}function sn(){}function rn(){}function an(t,e,i){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?f(this.layers.length):[],this.initElement(t,e,i),this.tm=t.tm?Rt.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function on(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=Q("svg");var i="";if(e&&e.title){var n=Q("title"),s=z();n.setAttribute("id",s),n.textContent=e.title,this.svgElement.appendChild(n),i+=s}if(e&&e.description){var r=Q("desc"),a=z();r.setAttribute("id",a),r.textContent=e.description,this.svgElement.appendChild(r),i+=" "+a}i&&this.svgElement.setAttribute("aria-labelledby",i);var o=Q("defs");this.svgElement.appendChild(o);var l=Q("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&!1===e.hideOnTransparent),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"},width:e&&e.width,height:e&&e.height,runExpressions:!e||void 0===e.runExpressions||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:o,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}return d([di,vi,Ti,ki,pi,Ei,Ji],tn),tn.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=Q("text"))},tn.prototype.buildTextContents=function(t){for(var e=0,i=t.length,n=[],s="";e<i;)t[e]===String.fromCharCode(13)||t[e]===String.fromCharCode(3)?(n.push(s),s=""):s+=t[e],e+=1;return n.push(s),n},tn.prototype.buildShapeData=function(t,e){if(t.shapes&&t.shapes.length){var i=t.shapes[0];if(i.it){var n=i.it[i.it.length-1];n.s&&(n.s.k[0]=e,n.s.k[1]=e)}}return t},tn.prototype.buildNewText=function(){var t,e;this.addDynamicProperty(this);var i=this.textProperty.currentData;this.renderedLetters=f(i?i.l.length:0),i.fc?this.layerElement.setAttribute("fill",this.buildColor(i.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),i.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(i.sc)),this.layerElement.setAttribute("stroke-width",i.sw)),this.layerElement.setAttribute("font-size",i.finalSize);var n=this.globalData.fontManager.getFontByName(i.f);if(n.fClass)this.layerElement.setAttribute("class",n.fClass);else{this.layerElement.setAttribute("font-family",n.fFamily);var s=i.fWeight,r=i.fStyle;this.layerElement.setAttribute("font-style",r),this.layerElement.setAttribute("font-weight",s)}this.layerElement.setAttribute("aria-label",i.t);var a,o=i.l||[],l=!!this.globalData.fontManager.chars;e=o.length;var c=this.mHelper,h="",d=this.data.singleShape,p=0,u=0,g=!0,m=.001*i.tr*i.finalSize;if(!d||l||i.sz){var v,y=this.textSpans.length;for(t=0;t<e;t+=1){if(this.textSpans[t]||(this.textSpans[t]={span:null,childSpan:null,glyph:null}),!l||!d||0===t){if(a=y>t?this.textSpans[t].span:Q(l?"g":"text"),y<=t){if(a.setAttribute("stroke-linecap","butt"),a.setAttribute("stroke-linejoin","round"),a.setAttribute("stroke-miterlimit","4"),this.textSpans[t].span=a,l){var x=Q("g");a.appendChild(x),this.textSpans[t].childSpan=x}this.textSpans[t].span=a,this.layerElement.appendChild(a)}a.style.display="inherit"}if(c.reset(),d&&(o[t].n&&(p=-m,u+=i.yOffset,u+=g?1:0,g=!1),this.applyTextPropertiesToMatrix(i,c,o[t].line,p,u),p+=o[t].l||0,p+=m),l){var b;if(1===(v=this.globalData.fontManager.getCharData(i.finalText[t],n.fStyle,this.globalData.fontManager.getFontByName(i.f).fFamily)).t)b=new an(v.data,this.globalData,this);else{var w=Qi;v.data&&v.data.shapes&&(w=this.buildShapeData(v.data,i.finalSize)),b=new Wi(w,this.globalData,this)}if(this.textSpans[t].glyph){var _=this.textSpans[t].glyph;this.textSpans[t].childSpan.removeChild(_.layerElement),_.destroy()}this.textSpans[t].glyph=b,b._debug=!0,b.prepareFrame(0),b.renderFrame(),this.textSpans[t].childSpan.appendChild(b.layerElement),1===v.t&&this.textSpans[t].childSpan.setAttribute("transform","scale("+i.finalSize/100+","+i.finalSize/100+")")}else d&&a.setAttribute("transform","translate("+c.props[12]+","+c.props[13]+")"),a.textContent=o[t].val,a.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}d&&a&&a.setAttribute("d",h)}else{var C=this.textContainer,S="start";switch(i.j){case 1:S="end";break;case 2:S="middle";break;default:S="start"}C.setAttribute("text-anchor",S),C.setAttribute("letter-spacing",m);var T=this.buildTextContents(i.finalText);for(e=T.length,u=i.ps?i.ps[1]+i.ascent:0,t=0;t<e;t+=1)(a=this.textSpans[t].span||Q("tspan")).textContent=T[t],a.setAttribute("x",0),a.setAttribute("y",u),a.style.display="inherit",C.appendChild(a),this.textSpans[t]||(this.textSpans[t]={span:null,glyph:null}),this.textSpans[t].span=a,u+=i.finalLineHeight;this.layerElement.appendChild(C)}for(;t<this.textSpans.length;)this.textSpans[t].span.style.display="none",t+=1;this._sizeChanged=!0},tn.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},tn.prototype.getValue=function(){var t,e,i=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,t=0;t<i;t+=1)(e=this.textSpans[t].glyph)&&(e.prepareFrame(this.comp.renderedFrame-this.data.st),e._mdf&&(this._mdf=!0))},tn.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var t,e;this._sizeChanged=!0;var i,n,s,r=this.textAnimator.renderedLetters,a=this.textProperty.currentData.l;for(e=a.length,t=0;t<e;t+=1)a[t].n||(i=r[t],n=this.textSpans[t].span,(s=this.textSpans[t].glyph)&&s.renderFrame(),i._mdf.m&&n.setAttribute("transform",i.m),i._mdf.o&&n.setAttribute("opacity",i.o),i._mdf.sw&&n.setAttribute("stroke-width",i.sw),i._mdf.sc&&n.setAttribute("stroke",i.sc),i._mdf.fc&&n.setAttribute("fill",i.fc))}},d([Pi],en),en.prototype.createContent=function(){var t=Q("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)},nn.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},nn.prototype.renderFrame=function(){},nn.prototype.getBaseElement=function(){return null},nn.prototype.destroy=function(){},nn.prototype.sourceRectAtTime=function(){},nn.prototype.hide=function(){},d([di,vi,ki,pi],nn),d([fi],sn),sn.prototype.createNull=function(t){return new nn(t,this.globalData,this)},sn.prototype.createShape=function(t){return new Wi(t,this.globalData,this)},sn.prototype.createText=function(t){return new tn(t,this.globalData,this)},sn.prototype.createImage=function(t){return new Pi(t,this.globalData,this)},sn.prototype.createSolid=function(t){return new en(t,this.globalData,this)},sn.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var i=Q("clipPath"),n=Q("rect");n.setAttribute("width",t.w),n.setAttribute("height",t.h),n.setAttribute("x",0),n.setAttribute("y",0);var s=z();i.setAttribute("id",s),i.appendChild(n),this.layerElement.setAttribute("clip-path","url("+c()+"#"+s+")"),e.appendChild(i),this.layers=t.layers,this.elements=f(t.layers.length)},sn.prototype.destroy=function(){var t;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},sn.prototype.updateContainerSize=function(){},sn.prototype.findIndexByInd=function(t){var e=0,i=this.layers.length;for(e=0;e<i;e+=1)if(this.layers[e].ind===t)return e;return-1},sn.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!==this.layers[t].ty){e[t]=!0;var i=this.createItem(this.layers[t]);if(e[t]=i,K()&&(0===this.layers[t].ty&&this.globalData.projectInterface.registerComposition(i),i.initExpressions()),this.appendElementInPos(i,t),this.layers[t].tt){var n="tp"in this.layers[t]?this.findIndexByInd(this.layers[t].tp):t-1;if(-1===n)return;if(this.elements[n]&&!0!==this.elements[n]){var s=e[n].getMatte(this.layers[t].tt);i.setMatte(s)}else this.buildItem(n),this.addPendingElement(i)}}},sn.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,i=this.elements.length;e<i;){if(this.elements[e]===t){var n="tp"in t.data?this.findIndexByInd(t.data.tp):e-1,s=this.elements[n].getMatte(this.layers[e].tt);t.setMatte(s);break}e+=1}}},sn.prototype.renderFrame=function(t){if(this.renderedFrame!==t&&!this.destroyed){var e;null===t?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var i=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=i-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<i;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},sn.prototype.appendElementInPos=function(t,e){var i=t.getBaseElement();if(i){for(var n,s=0;s<e;)this.elements[s]&&!0!==this.elements[s]&&this.elements[s].getBaseElement()&&(n=this.elements[s].getBaseElement()),s+=1;n?this.layerElement.insertBefore(i,n):this.layerElement.appendChild(i)}},sn.prototype.hide=function(){this.layerElement.style.display="none"},sn.prototype.show=function(){this.layerElement.style.display="block"},d([di,vi,ki,pi,Ei],rn),rn.prototype.initElement=function(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initTransform(t,e,i),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&e.progressiveLoad||this.buildAllItems(),this.hide()},rn.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var i,n=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),i=n-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&(this.elements[i].prepareFrame(this.renderedFrame-this.layers[i].st),this.elements[i]._mdf&&(this._mdf=!0))}},rn.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},rn.prototype.setElements=function(t){this.elements=t},rn.prototype.getElements=function(){return this.elements},rn.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},rn.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},d([sn,rn,Ti],an),an.prototype.createComp=function(t){return new an(t,this.globalData,this)},d([sn],on),on.prototype.createComp=function(t){return new an(t,this.globalData,this)},ot("svg",on),ce.registerModifier("tm",de),ce.registerModifier("pb",pe),ce.registerModifier("rp",ge),ce.registerModifier("rd",fe),ce.registerModifier("zz",Re),ce.registerModifier("op",Ze),Ut}())},3503:(t,e,i)=>{var n,s,r,a,o;n=i(3939),s=i(2151).utf8,r=i(7206),a=i(2151).bin,(o=function(t,e){t.constructor==String?t=e&&"binary"===e.encoding?a.stringToBytes(t):s.stringToBytes(t):r(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var i=n.bytesToWords(t),l=8*t.length,c=1732584193,h=-271733879,d=-1732584194,p=271733878,u=0;u<i.length;u++)i[u]=16711935&(i[u]<<8|i[u]>>>24)|4278255360&(i[u]<<24|i[u]>>>8);i[l>>>5]|=128<<l%32,i[14+(l+64>>>9<<4)]=l;var g=o._ff,f=o._gg,m=o._hh,v=o._ii;for(u=0;u<i.length;u+=16){var y=c,x=h,b=d,w=p;c=g(c,h,d,p,i[u+0],7,-680876936),p=g(p,c,h,d,i[u+1],12,-389564586),d=g(d,p,c,h,i[u+2],17,606105819),h=g(h,d,p,c,i[u+3],22,-1044525330),c=g(c,h,d,p,i[u+4],7,-176418897),p=g(p,c,h,d,i[u+5],12,1200080426),d=g(d,p,c,h,i[u+6],17,-1473231341),h=g(h,d,p,c,i[u+7],22,-45705983),c=g(c,h,d,p,i[u+8],7,1770035416),p=g(p,c,h,d,i[u+9],12,-1958414417),d=g(d,p,c,h,i[u+10],17,-42063),h=g(h,d,p,c,i[u+11],22,-1990404162),c=g(c,h,d,p,i[u+12],7,1804603682),p=g(p,c,h,d,i[u+13],12,-40341101),d=g(d,p,c,h,i[u+14],17,-1502002290),c=f(c,h=g(h,d,p,c,i[u+15],22,1236535329),d,p,i[u+1],5,-165796510),p=f(p,c,h,d,i[u+6],9,-1069501632),d=f(d,p,c,h,i[u+11],14,643717713),h=f(h,d,p,c,i[u+0],20,-373897302),c=f(c,h,d,p,i[u+5],5,-701558691),p=f(p,c,h,d,i[u+10],9,38016083),d=f(d,p,c,h,i[u+15],14,-660478335),h=f(h,d,p,c,i[u+4],20,-405537848),c=f(c,h,d,p,i[u+9],5,568446438),p=f(p,c,h,d,i[u+14],9,-1019803690),d=f(d,p,c,h,i[u+3],14,-187363961),h=f(h,d,p,c,i[u+8],20,1163531501),c=f(c,h,d,p,i[u+13],5,-1444681467),p=f(p,c,h,d,i[u+2],9,-51403784),d=f(d,p,c,h,i[u+7],14,1735328473),c=m(c,h=f(h,d,p,c,i[u+12],20,-1926607734),d,p,i[u+5],4,-378558),p=m(p,c,h,d,i[u+8],11,-2022574463),d=m(d,p,c,h,i[u+11],16,1839030562),h=m(h,d,p,c,i[u+14],23,-35309556),c=m(c,h,d,p,i[u+1],4,-1530992060),p=m(p,c,h,d,i[u+4],11,1272893353),d=m(d,p,c,h,i[u+7],16,-155497632),h=m(h,d,p,c,i[u+10],23,-1094730640),c=m(c,h,d,p,i[u+13],4,681279174),p=m(p,c,h,d,i[u+0],11,-358537222),d=m(d,p,c,h,i[u+3],16,-722521979),h=m(h,d,p,c,i[u+6],23,76029189),c=m(c,h,d,p,i[u+9],4,-640364487),p=m(p,c,h,d,i[u+12],11,-421815835),d=m(d,p,c,h,i[u+15],16,530742520),c=v(c,h=m(h,d,p,c,i[u+2],23,-995338651),d,p,i[u+0],6,-198630844),p=v(p,c,h,d,i[u+7],10,1126891415),d=v(d,p,c,h,i[u+14],15,-1416354905),h=v(h,d,p,c,i[u+5],21,-57434055),c=v(c,h,d,p,i[u+12],6,1700485571),p=v(p,c,h,d,i[u+3],10,-1894986606),d=v(d,p,c,h,i[u+10],15,-1051523),h=v(h,d,p,c,i[u+1],21,-2054922799),c=v(c,h,d,p,i[u+8],6,1873313359),p=v(p,c,h,d,i[u+15],10,-30611744),d=v(d,p,c,h,i[u+6],15,-1560198380),h=v(h,d,p,c,i[u+13],21,1309151649),c=v(c,h,d,p,i[u+4],6,-145523070),p=v(p,c,h,d,i[u+11],10,-1120210379),d=v(d,p,c,h,i[u+2],15,718787259),h=v(h,d,p,c,i[u+9],21,-343485551),c=c+y>>>0,h=h+x>>>0,d=d+b>>>0,p=p+w>>>0}return n.endian([c,h,d,p])})._ff=function(t,e,i,n,s,r,a){var o=t+(e&i|~e&n)+(s>>>0)+a;return(o<<r|o>>>32-r)+e},o._gg=function(t,e,i,n,s,r,a){var o=t+(e&n|i&~n)+(s>>>0)+a;return(o<<r|o>>>32-r)+e},o._hh=function(t,e,i,n,s,r,a){var o=t+(e^i^n)+(s>>>0)+a;return(o<<r|o>>>32-r)+e},o._ii=function(t,e,i,n,s,r,a){var o=t+(i^(e|~n))+(s>>>0)+a;return(o<<r|o>>>32-r)+e},o._blocksize=16,o._digestsize=16,t.exports=function(t,e){if(null==t)throw new Error("Illegal argument "+t);var i=n.wordsToBytes(o(t,e));return e&&e.asBytes?i:e&&e.asString?a.bytesToString(i):n.bytesToHex(i)}},4381:t=>{t.exports='<svg viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.00039 20.4937H10.0004C10.9596 20.4937 11.5789 20.4926 12.0529 20.4602C12.5089 20.4291 12.6825 20.3759 12.7658 20.3414C13.2558 20.1384 13.6452 19.7491 13.8481 19.259C13.8826 19.1758 13.9359 19.0021 13.967 18.5461C13.9805 18.3472 13.9903 17.1787 13.995 16.4937C12.1333 16.4937 11.202 16.4935 10.4673 16.1892C9.4872 15.7832 8.7085 15.0045 8.30253 14.0244C7.99836 13.2901 7.99805 12.3593 7.99805 10.4994C7.28829 10.504 6.16533 10.5122 5.94791 10.5271C5.49191 10.5582 5.31825 10.6114 5.23502 10.6459C4.74496 10.8489 4.35562 11.2382 4.15263 11.7283C4.11815 11.8115 4.06492 11.9852 4.03381 12.4412C4.00147 12.9151 4.00039 13.5344 4.00039 14.4937V16.4937C4.00039 17.4529 4.00147 18.0722 4.03381 18.5461C4.06492 19.0021 4.11815 19.1758 4.15263 19.259C4.35562 19.7491 4.74496 20.1384 5.23502 20.3414C5.31825 20.3759 5.49191 20.4291 5.94791 20.4602C6.42187 20.4926 7.04114 20.4937 8.00039 20.4937ZM7.99805 8.50168C6.74622 8.52062 4.98598 8.58426 4.46965 8.79813C3.48954 9.20411 2.71084 9.98281 2.30487 10.9629C2.00039 11.698 2.00039 12.6299 2.00039 14.4937V16.4937C2.00039 18.3574 2.00039 19.2893 2.30487 20.0244C2.71084 21.0045 3.48954 21.7832 4.46965 22.1892C5.20474 22.4937 6.13662 22.4937 8.00039 22.4937H10.0004C11.8642 22.4937 12.796 22.4937 13.5311 22.1892C14.5112 21.7832 15.2899 21.0045 15.6959 20.0244C15.9403 19.4343 15.9885 18.7175 15.998 17.4937L15.998 16.4937C17.8618 16.4937 18.7937 16.4937 19.5288 16.1892C20.5089 15.7832 21.2876 15.0045 21.6936 14.0244C21.998 13.2893 21.998 12.3574 21.998 10.4937V8.49365C21.998 6.62989 21.998 5.698 21.6936 4.96292C21.2876 3.98281 20.5089 3.20411 19.5288 2.79813C18.7937 2.49365 17.8618 2.49365 15.998 2.49365H13.998C12.1343 2.49365 11.2024 2.49365 10.4673 2.79813C9.4872 3.20411 8.7085 3.98281 8.30253 4.96292C7.99805 5.698 7.99805 6.62989 7.99805 8.49365V8.50168ZM15.998 14.4937H13.998C13.0388 14.4937 12.4195 14.4926 11.9456 14.4602C11.4896 14.4291 11.3159 14.3759 11.2327 14.3414C10.7426 14.1384 10.3533 13.7491 10.1503 13.259C10.1158 13.1758 10.0626 13.0021 10.0315 12.5461C9.99913 12.0722 9.99805 11.4529 9.99805 10.4937V8.49365C9.99805 7.5344 9.99913 6.91513 10.0315 6.44117C10.0626 5.98518 10.1158 5.81151 10.1503 5.72829C10.3533 5.23823 10.7426 4.84888 11.2327 4.64589C11.3159 4.61142 11.4896 4.55819 11.9456 4.52707C12.4195 4.49474 13.0388 4.49365 13.998 4.49365H15.998C16.9573 4.49365 17.5766 4.49474 18.0505 4.52707C18.5065 4.55819 18.6802 4.61142 18.7634 4.64589C19.2535 4.84888 19.6428 5.23823 19.8458 5.72829C19.8803 5.81151 19.9335 5.98518 19.9646 6.44117C19.997 6.91513 19.998 7.5344 19.998 8.49365V10.4937C19.998 11.4529 19.997 12.0722 19.9646 12.5461C19.9335 13.0021 19.8803 13.1758 19.8458 13.259C19.6428 13.7491 19.2535 14.1384 18.7634 14.3414C18.6802 14.3759 18.5065 14.4291 18.0505 14.4602C17.5766 14.4926 16.9573 14.4937 15.998 14.4937Z" fill="currentColor"></path></svg>'},1807:t=>{t.exports='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.00385 14.011H3.50397C2.00321 14.011 1.51391 13.091 1.50391 12.011C1.55413 11.2025 1.91192 10.5639 2.50388 10.011C2.46791 9.91108 2.43084 9.81745 2.39489 9.72665C2.2031 9.24219 2.04333 8.83863 2.25388 7.99607C2.50388 6.99559 3.50397 6.26099 3.50397 6.26099C3.50397 6.26099 3.81181 5.00565 5.01018 4.01617C6.20854 3.02669 7.00391 3.01099 8.00391 3.01099H10.9981C12.5289 3.01099 14.2257 3.62659 15.5039 4.99609C15.5039 4.99609 16.0039 6.01099 16.0039 8.01099C16.0039 10.011 15.5039 11.511 15.5039 11.511C13.4239 14.4949 11.5555 18.4158 11.0039 22.011H10.0039C7.50385 22.011 7.38386 18.9751 7.38386 18.011C7.38386 17.0469 7.69676 15.3268 8.00385 14.011Z" fill="currentColor"></path><path d="M21.0039 8C21.0039 5.27 20.1039 3 19.0039 3H16.0039C17.0039 4 17.5039 6 17.5039 8C17.5039 10 17.0039 12 16.0039 13H19.0039C20.1139 13 21.0039 10.73 21.0039 8Z" fill="currentColor"></path></svg>'},7098:t=>{t.exports='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.09006 16.0035H8.75006C8.57819 16.9938 8.49121 17.9969 8.49006 19.002C8.49006 21.4708 9.64006 23 11.4901 23H13.4901L13.6301 22.1904C14.1873 19.354 15.1118 16.6022 16.3801 14.0045H20.5001C21.6101 14.0045 22.5001 11.5057 22.5001 8.49725C22.5001 5.48876 21.6101 3 20.5001 3H15.5001C15.2701 3 15.0401 3.25987 14.8301 3.64968C13.7713 3.22406 12.6412 3.00359 11.5001 3H9.50006C6.82006 3 4.79006 4.4093 4.21006 6.62819C3.61474 7.13046 3.17657 7.79331 2.94784 8.53766C2.7191 9.282 2.70946 10.0764 2.92006 10.8261C2.33389 11.5819 2.01084 12.5085 2.00006 13.4648C2.00006 15.1439 2.94006 16.0035 4.09006 16.0035ZM19.9101 5.009C20.3397 6.12366 20.5404 7.3134 20.5001 8.50725C20.5393 9.70102 20.3387 10.8905 19.9101 12.0055H16.9101C17.3371 10.8901 17.5377 9.70092 17.5001 8.50725C17.5372 7.31272 17.3331 6.12296 16.9001 5.009H19.9101ZM4.75006 11.6857L5.17006 11.1759L4.90006 10.5562C4.72322 10.0989 4.71135 9.59423 4.86647 9.12908C5.0216 8.66392 5.33404 8.26733 5.75006 8.0075L6.07006 7.76762L6.14006 7.37781C6.45006 5.63868 8.14006 5.01899 9.54006 5.01899H11.5401C12.8691 4.98709 14.1733 5.38305 15.2601 6.14843C15.4531 6.92305 15.5471 7.71899 15.5401 8.51724C15.5871 10.0913 15.2796 11.6558 14.6401 13.095C13.4016 15.6122 12.4619 18.2656 11.8401 21.001H11.5001C10.6801 21.001 10.5001 19.9115 10.5001 19.002C10.4971 17.7357 10.6482 16.4737 10.9501 15.2439C11.1301 14.5542 11.0401 14.0045 9.95006 14.0045H4.04006C3.94579 13.5897 3.96172 13.1574 4.08627 12.7506C4.21082 12.3438 4.43966 11.9767 4.75006 11.6857Z" fill="currentColor"></path></svg>'},8483:t=>{t.exports='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15 9H19.4999C21.0007 9 21.49 9.92 21.5 11C21.4497 11.8085 21.092 12.4471 20.5 13C20.536 13.0999 20.573 13.1935 20.609 13.2843C20.8008 13.7688 20.9605 14.1724 20.75 15.0149C20.5 16.0154 19.4999 16.75 19.4999 16.75C19.4999 16.75 19.1921 18.0053 17.9937 18.9948C16.7953 19.9843 16 20 15 20H12.0058C10.475 20 8.77818 19.3844 7.5 18.0149C7.5 18.0149 7 17 7 15C7 13 7.5 11.5 7.5 11.5C9.57995 8.51611 11.4483 4.59519 12 1H13C15.5 1 15.62 4.03591 15.62 5C15.62 5.96409 15.3071 7.68418 15 9Z" fill="currentColor"></path><path d="M2 15.011C2 17.741 2.9 20.011 4 20.011H7C6 19.011 5.5 17.011 5.5 15.011C5.5 13.011 6 11.011 7 10.011H4C2.89 10.011 2 12.281 2 15.011Z" fill="currentColor"></path></svg>'},8054:t=>{t.exports='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20.4101 7.99552H15.7501C15.9219 7.00524 16.0089 6.0021 16.0101 4.99702C16.0101 2.52826 14.8601 0.999023 13.0101 0.999023H11.0101L10.8701 1.80862C10.3128 4.645 9.38837 7.39678 8.12006 9.99452H4.00006C2.89006 9.99452 2.00006 12.4933 2.00006 15.5018C2.00006 18.5103 2.89006 20.999 4.00006 20.999H9.00006C9.23006 20.999 9.46006 20.7392 9.67006 20.3493C10.7288 20.775 11.8589 20.9954 13.0001 20.999H15.0001C17.6801 20.999 19.7101 19.5897 20.2901 17.3708C20.8854 16.8686 21.3235 16.2057 21.5523 15.4614C21.781 14.717 21.7907 13.9226 21.5801 13.1729C22.1662 12.4171 22.4893 11.4905 22.5001 10.5343C22.5001 8.85509 21.5601 7.99552 20.4101 7.99552ZM4.59006 18.99C4.16039 17.8754 3.95974 16.6856 4.00006 15.4918C3.96083 14.298 4.16145 13.1085 4.59006 11.9935H7.59006C7.16301 13.1089 6.96244 14.2981 7.00006 15.4918C6.96292 16.6863 7.16698 17.8761 7.60006 18.99H4.59006ZM19.7501 12.3134L19.3301 12.8231L19.6001 13.4428C19.7769 13.9001 19.7888 14.4048 19.6336 14.8699C19.4785 15.3351 19.1661 15.7317 18.7501 15.9915L18.4301 16.2314L18.3601 16.6212C18.0501 18.3603 16.3601 18.98 14.9601 18.98H12.9601C11.631 19.0119 10.3268 18.616 9.24006 17.8506C9.04706 17.076 8.95297 16.28 8.96006 15.4818C8.91298 13.9077 9.22056 12.3433 9.86006 10.9041C11.0985 8.38682 12.0382 5.73345 12.6601 2.99802H13.0001C13.8201 2.99802 14.0001 4.08748 14.0001 4.99702C14.003 6.26333 13.8519 7.5253 13.5501 8.75514C13.3701 9.4448 13.4601 9.99452 14.5501 9.99452H20.4601C20.5543 10.4094 20.5384 10.8416 20.4139 11.2484C20.2893 11.6552 20.0605 12.0223 19.7501 12.3134Z" fill="currentColor"></path></svg>'},3515:t=>{t.exports='<svg viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 2.75C9.51472 2.75 7.5 4.76472 7.5 7.25V11C7.5 13.4853 9.51472 15.5 12 15.5C14.4853 15.5 16.5 13.4853 16.5 11V7.25C16.5 4.76472 14.4853 2.75 12 2.75ZM15 11V7.25C15 5.59315 13.6569 4.25 12 4.25C10.3431 4.25 9 5.59315 9 7.25V11C9 12.6569 10.3431 14 12 14C13.6569 14 15 12.6569 15 11Z" fill="currentColor"></path><path d="M5.25 11C5.25 14.7279 8.27208 17.75 12 17.75C15.7279 17.75 18.75 14.7279 18.75 11H20.25C20.25 15.1983 17.114 18.6642 13.0567 19.183L12.75 22.25H11.25L10.9433 19.183C6.88599 18.6642 3.75 15.1983 3.75 11H5.25Z" fill="currentColor"></path></svg>'},5048:t=>{t.exports='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18 8V16" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path><path d="M12 4V20" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path><path d="M6 8V16" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg>'},3267:t=>{t.exports='<svg viewBox="0 0 30 40" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 4C0 1.79086 1.79086 0 4 0H17L30 13V36C30 38.2091 28.2091 40 26 40H4C1.79086 40 0 38.2091 0 36V4Z" fill="#2C7CD3"></path><path d="M0 4C0 1.79086 1.79086 0 4 0H17L30 13V36C30 38.2091 28.2091 40 26 40H4C1.79086 40 0 38.2091 0 36V4Z" fill="url(#paint0_linear_7625_156919)" fill-opacity="0.2" style="mix-blend-mode:plus-lighter"></path><path d="M17 0L23.5 6.5L26.75 9.75L30 13H19.4615C18.1021 13 17 11.8979 17 10.5385V0Z" fill="#D0E7FF"></path><path d="M7.67676 27.735C8.21343 27.735 8.70926 27.7875 9.16426 27.8925C9.6251 27.9917 10.0247 28.1608 10.363 28.4C10.7013 28.6392 10.9638 28.9542 11.1505 29.345C11.343 29.7358 11.4393 30.2171 11.4393 30.7887C11.4393 31.3429 11.3459 31.8212 11.1593 32.2237C10.9726 32.6262 10.713 32.9587 10.3805 33.2212C10.048 33.4837 9.65135 33.6792 9.19051 33.8075C8.72968 33.9358 8.22801 34 7.68551 34H5.65551V27.735H7.67676ZM7.81676 32.4862C8.07926 32.4862 8.32135 32.4542 8.54301 32.39C8.77051 32.3258 8.96593 32.2267 9.12926 32.0925C9.2926 31.9583 9.42093 31.7892 9.51426 31.585C9.6076 31.3808 9.65426 31.1358 9.65426 30.85C9.65426 30.5642 9.6076 30.3192 9.51426 30.115C9.42093 29.9108 9.2926 29.7446 9.12926 29.6162C8.96593 29.4879 8.77343 29.3946 8.55176 29.3362C8.3301 29.2721 8.09093 29.24 7.83426 29.24H7.42301V32.4862H7.81676ZM15.4165 34.0875C14.9965 34.0875 14.594 34.0175 14.209 33.8775C13.824 33.7375 13.4827 33.5333 13.1852 33.265C12.8936 32.9967 12.6602 32.6671 12.4852 32.2762C12.3102 31.8854 12.2227 31.4392 12.2227 30.9375C12.2227 30.4417 12.3073 29.9925 12.4765 29.59C12.6515 29.1875 12.8848 28.8433 13.1765 28.5575C13.474 28.2717 13.8152 28.05 14.2002 27.8925C14.5852 27.735 14.9906 27.6562 15.4165 27.6562C15.8306 27.6562 16.2302 27.7292 16.6152 27.875C17.0061 28.0208 17.3502 28.2308 17.6477 28.505C17.9452 28.7792 18.1815 29.1117 18.3565 29.5025C18.5373 29.8933 18.6277 30.3367 18.6277 30.8325C18.6277 31.3342 18.5373 31.7862 18.3565 32.1887C18.1815 32.5912 17.9452 32.9325 17.6477 33.2125C17.3502 33.4925 17.0061 33.7083 16.6152 33.86C16.2302 34.0117 15.8306 34.0875 15.4165 34.0875ZM15.4165 32.495C15.5973 32.495 15.7723 32.46 15.9415 32.39C16.1165 32.32 16.2681 32.2179 16.3965 32.0837C16.5306 31.9437 16.6356 31.7746 16.7115 31.5762C16.7931 31.3721 16.834 31.1387 16.834 30.8762C16.834 30.6137 16.7931 30.3804 16.7115 30.1762C16.6356 29.9721 16.5306 29.8 16.3965 29.66C16.2681 29.52 16.1165 29.415 15.9415 29.345C15.7723 29.2692 15.5973 29.2312 15.4165 29.2312C15.2356 29.2312 15.0606 29.2692 14.8915 29.345C14.7223 29.415 14.5706 29.52 14.4365 29.66C14.3081 29.8 14.2031 29.9721 14.1215 30.1762C14.0456 30.3804 14.0077 30.6137 14.0077 30.8762C14.0077 31.1387 14.0456 31.3721 14.1215 31.5762C14.2031 31.7746 14.3081 31.9437 14.4365 32.0837C14.5706 32.2179 14.7223 32.32 14.8915 32.39C15.0606 32.46 15.2356 32.495 15.4165 32.495ZM22.788 34.0875C22.298 34.0875 21.8459 34.0146 21.4318 33.8687C21.0176 33.7171 20.6588 33.5012 20.3555 33.2212C20.058 32.9412 19.8247 32.6058 19.6555 32.215C19.4922 31.8183 19.4105 31.375 19.4105 30.885C19.4105 30.395 19.4951 29.9517 19.6643 29.555C19.8334 29.1583 20.0697 28.82 20.373 28.54C20.6822 28.26 21.0468 28.0442 21.4668 27.8925C21.8926 27.735 22.3593 27.6562 22.8668 27.6562C23.2343 27.6562 23.5609 27.6912 23.8468 27.7612C24.1384 27.8312 24.363 27.9158 24.5205 28.015V29.5987C24.3397 29.4879 24.1238 29.3975 23.873 29.3275C23.6222 29.2517 23.3393 29.2137 23.0243 29.2137C22.7501 29.2137 22.5022 29.2517 22.2805 29.3275C22.0588 29.3975 21.8663 29.5054 21.703 29.6512C21.5455 29.7912 21.423 29.9662 21.3355 30.1762C21.248 30.3804 21.2043 30.6137 21.2043 30.8762C21.2043 31.4012 21.3705 31.8067 21.703 32.0925C22.0355 32.3783 22.4788 32.5212 23.033 32.5212C23.3305 32.5212 23.6076 32.4804 23.8643 32.3987C24.1268 32.3171 24.3455 32.2092 24.5205 32.075V33.5975C24.3455 33.7433 24.1122 33.8629 23.8205 33.9562C23.5288 34.0438 23.1847 34.0875 22.788 34.0875Z" fill="white"></path><defs><linearGradient id="paint0_linear_7625_156919" x1="15" y1="0" x2="15" y2="40" gradientUnits="userSpaceOnUse"><stop stop-color="white" stop-opacity="0"></stop><stop offset="1" stop-color="white"></stop></linearGradient></defs></svg>'},4595:t=>{t.exports='<svg viewBox="0 0 30 40" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 4C0 1.79086 1.79086 0 4 0H17L30 13V36C30 38.2091 28.2091 40 26 40H4C1.79086 40 0 38.2091 0 36V4Z" fill="#E34437"></path><path d="M0 4C0 1.79086 1.79086 0 4 0H17L30 13V36C30 38.2091 28.2091 40 26 40H4C1.79086 40 0 38.2091 0 36V4Z" fill="url(#paint0_linear_7625_156962)" fill-opacity="0.2" style="mix-blend-mode:plus-lighter"></path><path d="M17 0L23.5 6.5L26.75 9.75L30 13H19.4615C18.1021 13 17 11.8979 17 10.5385V0Z" fill="#FFD1CE"></path><path d="M8.88146 27.735C9.28979 27.735 9.66021 27.7787 9.99271 27.8662C10.3252 27.9479 10.6081 28.0792 10.8415 28.26C11.0748 28.435 11.2556 28.6625 11.384 28.9425C11.5123 29.2167 11.5765 29.5462 11.5765 29.9312C11.5765 30.3046 11.5094 30.6312 11.3752 30.9112C11.241 31.1912 11.0544 31.4246 10.8152 31.6112C10.5819 31.7979 10.3019 31.9379 9.97521 32.0312C9.64854 32.1246 9.29271 32.1712 8.90771 32.1712H8.26896V34H6.50146V27.735H8.88146ZM8.86396 30.6925C9.19646 30.6925 9.44146 30.6283 9.59896 30.5C9.75646 30.3717 9.83521 30.185 9.83521 29.94C9.83521 29.4675 9.50271 29.2312 8.83771 29.2312H8.26896V30.6925H8.86396ZM14.5315 27.735C15.0682 27.735 15.564 27.7875 16.019 27.8925C16.4798 27.9917 16.8794 28.1608 17.2177 28.4C17.5561 28.6392 17.8186 28.9542 18.0052 29.345C18.1977 29.7358 18.294 30.2171 18.294 30.7887C18.294 31.3429 18.2007 31.8212 18.014 32.2237C17.8273 32.6262 17.5677 32.9587 17.2352 33.2212C16.9027 33.4837 16.5061 33.6792 16.0452 33.8075C15.5844 33.9358 15.0827 34 14.5402 34H12.5102V27.735H14.5315ZM14.6715 32.4862C14.934 32.4862 15.1761 32.4542 15.3977 32.39C15.6252 32.3258 15.8207 32.2267 15.984 32.0925C16.1473 31.9583 16.2757 31.7892 16.369 31.585C16.4623 31.3808 16.509 31.1358 16.509 30.85C16.509 30.5642 16.4623 30.3192 16.369 30.115C16.2757 29.9108 16.1473 29.7446 15.984 29.6162C15.8207 29.4879 15.6282 29.3946 15.4065 29.3362C15.1848 29.2721 14.9457 29.24 14.689 29.24H14.2777V32.4862H14.6715ZM23.7675 27.735V29.1962H21.0812V30.22H23.3387V31.6812H21.0812V34H19.3137V27.735H23.7675Z" fill="white"></path><defs><linearGradient id="paint0_linear_7625_156962" x1="15" y1="0" x2="15" y2="40" gradientUnits="userSpaceOnUse"><stop stop-color="white" stop-opacity="0"></stop><stop offset="1" stop-color="white"></stop></linearGradient></defs></svg>'},2247:t=>{t.exports='<svg viewBox="0 0 30 40" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 4C0 1.79086 1.79086 0 4 0H17L30 13V36C30 38.2091 28.2091 40 26 40H4C1.79086 40 0 38.2091 0 36V4Z" fill="#E96200"></path><path d="M0 4C0 1.79086 1.79086 0 4 0H17L30 13V36C30 38.2091 28.2091 40 26 40H4C1.79086 40 0 38.2091 0 36V4Z" fill="url(#paint0_linear_7625_156934)" fill-opacity="0.2"></path><path d="M17 0L23.5 6.5L26.75 9.75L30 13H19.4615C18.1021 13 17 11.8979 17 10.5385V0Z" fill="#FBC6A0"></path><path d="M5.92406 27.735C6.3324 27.735 6.70281 27.7787 7.03531 27.8662C7.36781 27.9479 7.65073 28.0792 7.88406 28.26C8.1174 28.435 8.29823 28.6625 8.42656 28.9425C8.5549 29.2167 8.61906 29.5462 8.61906 29.9312C8.61906 30.3046 8.55198 30.6312 8.41781 30.9112C8.28365 31.1912 8.09698 31.4246 7.85781 31.6112C7.62448 31.7979 7.34448 31.9379 7.01781 32.0312C6.69115 32.1246 6.33531 32.1712 5.95031 32.1712H5.31156V34H3.54406V27.735H5.92406ZM5.90656 30.6925C6.23906 30.6925 6.48406 30.6283 6.64156 30.5C6.79906 30.3717 6.87781 30.185 6.87781 29.94C6.87781 29.4675 6.54531 29.2312 5.88031 29.2312H5.31156V30.6925H5.90656ZM11.9329 27.735C12.3412 27.735 12.7116 27.7787 13.0441 27.8662C13.3766 27.9479 13.6595 28.0792 13.8929 28.26C14.1262 28.435 14.307 28.6625 14.4354 28.9425C14.5637 29.2167 14.6279 29.5462 14.6279 29.9312C14.6279 30.3046 14.5608 30.6312 14.4266 30.9112C14.2924 31.1912 14.1058 31.4246 13.8666 31.6112C13.6333 31.7979 13.3533 31.9379 13.0266 32.0312C12.6999 32.1246 12.3441 32.1712 11.9591 32.1712H11.3204V34H9.55285V27.735H11.9329ZM11.9154 30.6925C12.2479 30.6925 12.4929 30.6283 12.6504 30.5C12.8079 30.3717 12.8866 30.185 12.8866 29.94C12.8866 29.4675 12.5541 29.2312 11.8891 29.2312H11.3204V30.6925H11.9154ZM15.152 27.735H20.4633V29.2312H18.6958V34H16.937V29.2312H15.152V27.735ZM24.995 30.78L26.8762 34H24.89L23.7875 32.1187L22.6762 34H20.9787L22.8862 30.8587L20.9787 27.735H22.9737L24.085 29.5813L25.2137 27.735H26.8937L24.995 30.78Z" fill="white"></path><defs><linearGradient id="paint0_linear_7625_156934" x1="15" y1="0" x2="15" y2="40" gradientUnits="userSpaceOnUse"><stop stop-color="white" stop-opacity="0"></stop><stop offset="1" stop-color="white"></stop></linearGradient></defs></svg>'},7962:t=>{t.exports='<svg viewBox="0 0 30 40" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 4C0 1.79086 1.79086 0 4 0H15.9804C16.6332 0 17.2593 0.25934 17.721 0.720968L29.279 12.279C29.7407 12.7407 30 13.3668 30 14.0196V36C30 38.2091 28.2091 40 26 40H4C1.79086 40 0 38.2091 0 36V4Z" fill="#229E63"></path><path d="M0 4C0 1.79086 1.79086 0 4 0H15.9804C16.6332 0 17.2593 0.25934 17.721 0.720968L29.279 12.279C29.7407 12.7407 30 13.3668 30 14.0196V36C30 38.2091 28.2091 40 26 40H4C1.79086 40 0 38.2091 0 36V4Z" fill="url(#paint0_linear_7625_156929)" fill-opacity="0.2"></path><path d="M17 0L23.5 6.5L26.75 9.75L30 13H19.4615C18.1021 13 17 11.8979 17 10.5385V0Z" fill="#B5DFCB"></path><path d="M8.10092 30.78L9.98217 34H7.99592L6.89342 32.1187L5.78217 34H4.08467L5.99217 30.8587L4.08467 27.735H6.07967L7.19092 29.5813L8.31967 27.735H9.99967L8.10092 30.78ZM12.5894 27.735V32.5037H15.0219V34H10.8219V27.735H12.5894ZM17.865 34.0875C17.4566 34.0875 17.092 34.0554 16.7712 33.9912C16.4504 33.9212 16.1762 33.8279 15.9487 33.7113V32.0312C16.2054 32.1946 16.497 32.3287 16.8237 32.4337C17.1562 32.5329 17.5441 32.5825 17.9875 32.5825C18.2908 32.5825 18.5212 32.5533 18.6787 32.495C18.8362 32.4308 18.915 32.32 18.915 32.1625C18.915 32.0867 18.9004 32.0254 18.8712 31.9787C18.842 31.9262 18.7895 31.8825 18.7137 31.8475C18.6379 31.8067 18.53 31.7746 18.39 31.7513C18.2558 31.7221 18.0808 31.6929 17.865 31.6637C17.1766 31.5821 16.6662 31.3808 16.3337 31.06C16.007 30.7392 15.8437 30.2958 15.8437 29.73C15.8437 29.3975 15.905 29.1029 16.0275 28.8462C16.1558 28.5837 16.3366 28.365 16.57 28.19C16.8033 28.015 17.0891 27.8837 17.4275 27.7962C17.7658 27.7029 18.1479 27.6562 18.5737 27.6562C18.9179 27.6562 19.2445 27.6883 19.5537 27.7525C19.8629 27.8108 20.105 27.8837 20.28 27.9712V29.5725C20.0933 29.4733 19.8483 29.38 19.545 29.2925C19.2475 29.205 18.8945 29.1612 18.4862 29.1612C18.1595 29.1612 17.9262 29.1933 17.7862 29.2575C17.6462 29.3158 17.5762 29.4121 17.5762 29.5462C17.5762 29.6162 17.5908 29.6746 17.62 29.7212C17.6491 29.7621 17.7016 29.8 17.7775 29.835C17.8591 29.8642 17.967 29.8933 18.1012 29.9225C18.2412 29.9458 18.4191 29.9721 18.635 30.0012C19.0083 30.0537 19.3262 30.1354 19.5887 30.2462C19.8512 30.3571 20.0612 30.4971 20.2187 30.6662C20.382 30.8296 20.4987 31.025 20.5687 31.2525C20.6445 31.4742 20.6825 31.7221 20.6825 31.9962C20.6825 32.7079 20.4316 33.2358 19.93 33.58C19.4341 33.9183 18.7458 34.0875 17.865 34.0875ZM24.9994 30.78L26.8806 34H24.8944L23.7919 32.1187L22.6806 34H20.9831L22.8906 30.8587L20.9831 27.735H22.9781L24.0894 29.5813L25.2181 27.735H26.8981L24.9994 30.78Z" fill="white"></path><defs><linearGradient id="paint0_linear_7625_156929" x1="15" y1="0" x2="15" y2="40" gradientUnits="userSpaceOnUse"><stop stop-color="white" stop-opacity="0"></stop><stop offset="1" stop-color="white"></stop></linearGradient></defs></svg>'},555:t=>{t.exports='<svg viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2 8.55729C2 8.1891 2.29848 7.89062 2.66666 7.89062H13.3333C13.7015 7.89062 14 8.1891 14 8.55729C14 8.92548 13.7015 9.22396 13.3333 9.22396H2.66666C2.29848 9.22396 2 8.92548 2 8.55729Z" fill="currentColor"></path></svg>'},4413:t=>{t.exports='<svg viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.66665 3.22331C8.66665 2.85512 8.36817 2.55664 7.99998 2.55664C7.6318 2.55664 7.33332 2.85512 7.33332 3.22331L7.33332 7.88996H2.66666C2.29848 7.88996 2 8.18844 2 8.55663C2 8.92481 2.29848 9.22329 2.66666 9.22329H7.33332V13.8899C7.33332 14.2581 7.6318 14.5566 7.99998 14.5566C8.36817 14.5566 8.66665 14.2581 8.66665 13.8899V9.22329H13.3333C13.7015 9.22329 14 8.92481 14 8.55663C14 8.18844 13.7015 7.88996 13.3333 7.88996H8.66665V3.22331Z" fill="currentColor"></path></svg>'},854:t=>{t.exports='<svg viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.33398 2.55664C6.9658 2.55664 6.66732 2.85512 6.66732 3.22331C6.66732 3.5915 6.9658 3.88997 7.33398 3.88997H8.66732C10.8765 3.88997 12.6673 5.68084 12.6673 7.88997V9.61201L11.8055 8.75018C11.5451 8.48983 11.123 8.48983 10.8627 8.75018C10.6023 9.01053 10.6023 9.43264 10.8627 9.69299L12.8652 11.6955C13.1255 11.9558 13.5476 11.9558 13.808 11.6955L15.8105 9.69299C16.0708 9.43264 16.0708 9.01053 15.8105 8.75018C15.5501 8.48983 15.128 8.48983 14.8677 8.75018L14.0007 9.61722V7.88997C14.0007 4.94446 11.6128 2.55664 8.66732 2.55664H7.33398Z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M3.47056 5.88997C2.88256 5.88997 2.54231 5.92236 2.18661 6.11258C1.91501 6.25784 1.70185 6.471 1.5566 6.7426C1.36637 7.0983 1.33398 7.43855 1.33398 8.02655V12.4201C1.33398 13.0081 1.36637 13.3483 1.5566 13.704C1.70185 13.9756 1.91501 14.1888 2.18661 14.334C2.54231 14.5243 2.88256 14.5566 3.47056 14.5566H7.86408C8.45207 14.5566 8.79233 14.5243 9.14802 14.334C9.41963 14.1888 9.63278 13.9756 9.77804 13.704C9.96827 13.3483 10.0007 13.0081 10.0007 12.4201V8.02655C10.0007 7.43855 9.96827 7.0983 9.77804 6.7426C9.63278 6.471 9.41963 6.25784 9.14802 6.11258C8.79233 5.92236 8.45207 5.88997 7.86408 5.88997H3.47056ZM2.81541 7.28834C2.84895 7.2704 2.87559 7.25847 2.94673 7.24738C3.0387 7.23306 3.18855 7.22331 3.47056 7.22331H7.86408C8.14609 7.22331 8.29594 7.23306 8.3879 7.24738C8.45905 7.25847 8.48569 7.2704 8.51922 7.28834C8.55847 7.30933 8.5813 7.33215 8.60229 7.3714C8.62022 7.40494 8.63216 7.43158 8.64324 7.50272C8.65757 7.59469 8.66732 7.74454 8.66732 8.02655V12.4201C8.66732 12.7021 8.65757 12.8519 8.64324 12.9439C8.63216 13.015 8.62022 13.0417 8.60229 13.0752C8.5813 13.1145 8.55847 13.1373 8.51922 13.1583C8.48569 13.1762 8.45905 13.1881 8.3879 13.1992C8.29594 13.2136 8.14609 13.2233 7.86408 13.2233H3.47056C3.18855 13.2233 3.0387 13.2136 2.94673 13.1992C2.87559 13.1881 2.84895 13.1762 2.81541 13.1583C2.77617 13.1373 2.75334 13.1145 2.73235 13.0752C2.71441 13.0417 2.70248 13.015 2.69139 12.9439C2.67707 12.8519 2.66732 12.7021 2.66732 12.4201V8.02655C2.66732 7.74454 2.67707 7.59469 2.69139 7.50272C2.70248 7.43158 2.71441 7.40494 2.73235 7.3714C2.75334 7.33215 2.77617 7.30932 2.81541 7.28834Z" fill="currentColor"></path></svg>'},8406:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"><path fill="currentColor" fill-rule="evenodd" d="M9 3a5 5 0 0 0-5 5v8a5 5 0 0 0 5 5h9a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H9ZM7 17h10a1 1 0 1 1 0 2H9a2 2 0 0 1-2-2Zm5.112-4.827a.665.665 0 0 0 .776 0c.812-.578 2.612-2.015 2.612-3.38 0-2.005-2.355-2.326-3-.976-.645-1.35-3-1.029-3 .975 0 1.366 1.8 2.803 2.612 3.381Z" clip-rule="evenodd"></path></svg>'},6767:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"><path fill="currentColor" fill-rule="evenodd" d="M3 10.814C3 8.581 4.5 3 12 3s9 5.581 9 7.814c0 2.172 0 7.866-8.287 8.173-.235 0-.372.242-.532.523a7.234 7.234 0 0 1-.118.201c-.067.11-.143.265-.23.442-.36.73-.91 1.847-1.833 1.847-1.5 0-7-3.625-7-10.75h.002C3 11.093 3 10.947 3 10.814ZM8 9.25a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5A.75.75 0 0 1 8 9.25ZM9.75 12a.75.75 0 0 0 0 1.5h4.5a.75.75 0 0 0 0-1.5h-4.5Z" clip-rule="evenodd"></path></svg>'},2542:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M22 12c0-2.25-.385-9-10-9S2 9.75 2 12s.385 9 10 9 10-6.75 10-9Zm-10 3a1 1 0 0 1 1-1h4a1 1 0 1 1 0 2h-4a1 1 0 0 1-1-1ZM7.555 9.168a1 1 0 0 0-1.11 1.664L8.197 12l-1.752 1.168a1 1 0 0 0 1.11 1.664l3-2a1 1 0 0 0 0-1.664l-3-2Z"></path></svg>'},3015:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"><path fill="currentColor" d="M3 10a4.99 4.99 0 0 1 1.848-3.881L6 9h2L6.493 5.231C6.968 5.081 7.475 5 8 5h.4L10 9h2l-1.6-4h2L14 9h2l-1.6-4h2L18 9h2l-1.6-4H21v10a5 5 0 0 1-5 5H8a5 5 0 0 1-5-5v-5Z"></path></svg>'},8452:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"><path fill="currentColor" fill-rule="evenodd" d="M5 3a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a3 3 0 0 0 3-3V9a2 2 0 0 0-2-2v11a1 1 0 0 1-1 1V5a2 2 0 0 0-2-2H5Zm2 4a1 1 0 0 0 0 2h6a1 1 0 1 0 0-2H7Zm-1 5a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-4Z" clip-rule="evenodd"></path></svg>'},5954:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"><path fill="currentColor" d="M13.5 3c8.173 0 8.5 5.738 8.5 7.65 0 1.262-.143 4.192-2.59 6.037.547-1.46.59-2.851.59-3.592 0-.994-.077-3.16-1.35-5.092-1.325-2.01-3.8-3.558-8.15-3.558-1.159 0-2.184.11-3.09.31C8.67 3.728 10.585 3 13.5 3Z"></path><path fill="currentColor" fill-rule="evenodd" d="M10.5 5.445c8.173 0 8.5 5.738 8.5 7.65 0 1.913-.327 7.65-8.5 7.65S2 15.008 2 13.095c0-1.912.327-7.65 8.5-7.65ZM8 11.243c0-1.187 1.313-1.904 2.311-1.262l2.726 1.753a1.5 1.5 0 0 1 0 2.523l-2.726 1.753C9.313 16.65 8 15.935 8 14.748v-3.505Z" clip-rule="evenodd"></path></svg>'},6223:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"><path fill="currentColor" fill-rule="evenodd" d="M12 3c7.692 0 8 5.4 8 7.2 0 1.719-.28 6.718-7 7.168V19h3a1 1 0 1 1 0 2H8a1 1 0 1 1 0-2h3v-1.632c-6.72-.45-7-5.45-7-7.168C4 8.4 4.308 3 12 3Zm3.832 6.555a1 1 0 0 0-1.664-1.11L13 10.197l-1.168-1.752a1 1 0 0 0-1.664 0l-2 3a1 1 0 0 0 1.664 1.11L11 10.803l1.168 1.752a1 1 0 0 0 1.664 0l2-3Z" clip-rule="evenodd"></path></svg>'},3212:t=>{t.exports='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M11 2H12.56C13.8333 2 15 5.88889 15 12C15 18.1111 13.78 22 12.56 22H11L7 17H4C3.38292 17 3.07438 17 2.7572 16.8905C2.38397 16.7616 1.94403 16.4167 1.72983 16.085C1.54779 15.8031 1.49037 15.5694 1.37553 15.1021C1.12666 14.0892 1 13.0478 1 12C1 10.9522 1.12666 9.91076 1.37553 8.89795C1.49037 8.43058 1.54779 8.1969 1.72983 7.91501C1.94403 7.58331 2.38397 7.23839 2.7572 7.10952C3.07438 7 3.38292 7 4 7H7L11 2ZM7.96125 9H4C3.84172 9 3.72205 9.00004 3.61845 9.00151C3.52608 9.00282 3.46443 9.00509 3.42087 9.00781L3.41788 9.01013L3.40992 9.01649C3.40411 9.03621 3.39662 9.06286 3.38707 9.0989C3.36822 9.17009 3.34764 9.25355 3.31775 9.37519C3.10718 10.2322 3 11.1134 3 12C3 12.8866 3.10718 13.7678 3.31775 14.6248C3.34764 14.7465 3.36822 14.8299 3.38707 14.9011C3.39662 14.9371 3.40411 14.9638 3.40992 14.9835L3.41788 14.9899L3.42087 14.9922C3.46443 14.9949 3.52608 14.9972 3.61845 14.9985C3.72205 15 3.84172 15 4 15H7.96125L11.9132 19.9399C12.03 19.6797 12.1668 19.3007 12.3035 18.782C12.7044 17.2608 13 14.9422 13 12C13 9.05043 12.7164 6.73108 12.3217 5.21102C12.1837 4.67942 12.0452 4.29769 11.9283 4.04113L7.96125 9Z" fill="currentColor"></path><path d="M17 11.9905C16.998 10.9369 16.6632 9.91086 16.0435 9.05881L17.6608 7.88234C18.5285 9.0752 18.9972 10.5117 19 11.9867C19.0028 13.4618 18.5396 14.9 17.6764 16.0962L16.0546 14.9258C16.6711 14.0714 17.002 13.0441 17 11.9905Z" fill="currentColor"></path><path d="M19.2782 6.70588C20.3938 8.23955 20.9964 10.0864 21 11.9829C21.0036 13.8794 20.408 15.7286 19.2982 17.2665L20.9201 18.4368C22.2764 16.5572 23.0044 14.2971 23 11.9792C22.9956 9.66121 22.2591 7.4039 20.8956 5.5294L19.2782 6.70588Z" fill="currentColor"></path></svg>'},5653:t=>{t.exports='<svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="1" y="1" width="14" height="14" rx="4" fill="currentColor"></rect><path d="M10.6667 7.33329C11.0349 7.33329 11.3334 7.63177 11.3334 7.99996C11.3334 8.36815 11.0349 8.66663 10.6667 8.66663L8.66671 8.66663L8.66671 10.6666C8.66671 11.0348 8.36823 11.3333 8.00004 11.3333C7.63185 11.3333 7.33337 11.0348 7.33337 10.6666L7.33337 8.66663L5.33337 8.66663C4.96518 8.66663 4.66671 8.36815 4.66671 7.99996C4.66671 7.63177 4.96518 7.33329 5.33337 7.33329L7.33337 7.33329L7.33337 5.33329C7.33337 4.9651 7.63185 4.66663 8.00004 4.66663C8.36823 4.66663 8.66671 4.9651 8.66671 5.33329L8.66671 7.33329L10.6667 7.33329Z" fill="var(--cross-color)"></path></svg>'},5822:t=>{t.exports='<svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="1.7" y="1.7" width="12.6" height="12.6" rx="3.3" stroke="currentColor" stroke-width="1.4"></rect><path d="M10.6673 7.33366C11.0355 7.33366 11.334 7.63214 11.334 8.00033C11.334 8.36852 11.0355 8.66699 10.6673 8.66699L8.66732 8.66699L8.66732 10.667C8.66732 11.0352 8.36884 11.3337 8.00065 11.3337C7.63246 11.3337 7.33398 11.0352 7.33398 10.667L7.33398 8.66699L5.33398 8.66699C4.96579 8.66699 4.66732 8.36851 4.66732 8.00033C4.66732 7.63214 4.96579 7.33366 5.33398 7.33366L7.33398 7.33366L7.33398 5.33366C7.33398 4.96547 7.63246 4.66699 8.00065 4.66699C8.36884 4.66699 8.66732 4.96547 8.66732 5.33366L8.66732 7.33366L10.6673 7.33366Z" fill="currentColor"></path></svg>'},1053:t=>{t.exports='<svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.84955 4.62244C5.38036 4.34188 5 4.56019 5 5.10659V10.8936C5 11.4416 5.38224 11.6572 5.84955 11.3778L10.6488 8.50809C11.118 8.22754 11.1161 7.77155 10.6488 7.49212L5.84955 4.62244Z" fill="currentColor"></path></svg>'},8391:t=>{t.exports='<svg viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.8666 0.749264C11.2553 1.14157 11.2524 1.77473 10.8601 2.16346L5.71949 7.25721C5.33686 7.63635 4.72268 7.64429 4.33038 7.27518L1.1585 4.29081C0.756268 3.91235 0.736993 3.27948 1.11545 2.87725C1.4939 2.47502 2.12677 2.45574 2.52901 2.83419L4.99765 5.15691L9.45239 0.742787C9.8447 0.354055 10.4779 0.356955 10.8666 0.749264Z" fill="currentColor"></path></svg>'},8838:t=>{t.exports='<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12 9.414-6.293 6.293a1 1 0 0 1-1.414-1.414l6.646-6.647a1.5 1.5 0 0 1 2.122 0l6.646 6.647a1 1 0 0 1-1.414 1.414L12 9.414Z" fill="currentColor"></path></svg>'},3e3:t=>{t.exports='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="24" height="24" rx="12" fill="currentColor" fill-opacity="0.24"></rect><path d="M6.69723 7.40385C6.50197 7.59911 6.50197 7.91569 6.69723 8.11095L10.5863 12L6.69723 15.8891C6.50197 16.0844 6.50197 16.401 6.69723 16.5962L7.40433 17.3033C7.5996 17.4986 7.91618 17.4986 8.11144 17.3033L12.0005 13.4143L15.8896 17.3033C16.0849 17.4986 16.4015 17.4986 16.5967 17.3033L17.3038 16.5962C17.4991 16.401 17.4991 16.0844 17.3038 15.8891L13.4147 12L17.3038 8.11095C17.4991 7.91569 17.4991 7.59911 17.3038 7.40385L16.5967 6.69674C16.4015 6.50148 16.0849 6.50148 15.8896 6.69674L12.0005 10.5858L8.11144 6.69674C7.91618 6.50148 7.5996 6.50148 7.40433 6.69674L6.69723 7.40385Z" fill="currentColor"></path></svg>'},9226:t=>{t.exports='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.5 20C10.0147 20 8 17.9853 8 15.5V11H6V15.5C6 19.0899 8.91015 22 12.5 22C16.0899 22 19 19.0899 19 15.5V7C19 4.23858 16.7614 2 14 2C11.2386 2 9 4.23858 9 7V15.5C9 17.433 10.567 19 12.5 19C14.433 19 16 17.433 16 15.5V7.5H14V15.5C14 16.3284 13.3284 17 12.5 17C11.6716 17 11 16.3284 11 15.5V7C11 5.34315 12.3431 4 14 4C15.6569 4 17 5.34315 17 7V15.5C17 17.9853 14.9853 20 12.5 20Z" fill="currentColor"></path></svg>'},1691:t=>{t.exports='<svg viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M13.125 4.625C14.5747 4.625 15.75 5.80025 15.75 7.25V16.625C15.75 18.6961 14.0711 20.375 12 20.375C9.92893 20.375 8.25 18.6961 8.25 16.625V12.125H6.75V16.625C6.75 19.5245 9.1005 21.875 12 21.875C14.8995 21.875 17.25 19.5245 17.25 16.625V7.25C17.25 4.97183 15.4032 3.125 13.125 3.125C10.8468 3.125 9 4.97183 9 7.25V16.25C9 17.9069 10.3431 19.25 12 19.25C13.6569 19.25 15 17.9069 15 16.25V9.125H13.5V16.25C13.5 17.0784 12.8284 17.75 12 17.75C11.1716 17.75 10.5 17.0784 10.5 16.25V7.25C10.5 5.80025 11.6753 4.625 13.125 4.625Z" fill="currentColor"></path></svg>'},655:t=>{t.exports='<svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 6.86863L14.6343 0.234315C14.9467 -0.0781049 15.4533 -0.0781049 15.7657 0.234315C16.0781 0.546734 16.0781 1.05327 15.7657 1.36569L9.13137 8L15.7657 14.6343C16.0781 14.9467 16.0781 15.4533 15.7657 15.7657C15.4533 16.0781 14.9467 16.0781 14.6343 15.7657L8 9.13137L1.36569 15.7657C1.05327 16.0781 0.546734 16.0781 0.234315 15.7657C-0.0781049 15.4533 -0.0781049 14.9467 0.234315 14.6343L6.86863 8L0.234315 1.36569C-0.0781049 1.05327 -0.0781049 0.546734 0.234315 0.234315C0.546734 -0.0781049 1.05327 -0.0781049 1.36569 0.234315L8 6.86863Z" fill="currentColor"></path></svg>'},7250:t=>{t.exports='<svg viewBox="0 0 25 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M13.7885 0H3C1.34315 0 0 1.34315 0 3V29C0 30.6569 1.34315 32 3 32H21.1231C22.7799 32 24.1231 30.6569 24.1231 29V10.3346L13.7885 0Z" fill="#2C7CD3"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M13.7885 0H3C1.34315 0 0 1.34315 0 3V29C0 30.6569 1.34315 32 3 32H21.1231C22.7799 32 24.1231 30.6569 24.1231 29V10.3346L13.7885 0Z" fill="url(#paint0_linear_16718_396382)" fill-opacity="0.2" style="mix-blend-mode:plus-lighter"></path><path d="M6.14141 20.988C6.57074 20.988 6.96741 21.03 7.33141 21.114C7.70008 21.1933 8.01974 21.3287 8.29041 21.52C8.56108 21.7113 8.77108 21.9633 8.92041 22.276C9.07441 22.5887 9.15141 22.9737 9.15141 23.431C9.15141 23.8743 9.07674 24.257 8.92741 24.579C8.77808 24.901 8.57041 25.167 8.30441 25.377C8.03841 25.587 7.72108 25.7433 7.35241 25.846C6.98374 25.9487 6.58241 26 6.14841 26H4.52441V20.988H6.14141ZM6.25341 24.789C6.46341 24.789 6.65708 24.7633 6.83441 24.712C7.01641 24.6607 7.17274 24.5813 7.30341 24.474C7.43408 24.3667 7.53674 24.2313 7.61141 24.068C7.68608 23.9047 7.72341 23.7087 7.72341 23.48C7.72341 23.2513 7.68608 23.0553 7.61141 22.892C7.53674 22.7287 7.43408 22.5957 7.30341 22.493C7.17274 22.3903 7.01874 22.3157 6.84141 22.269C6.66408 22.2177 6.47274 22.192 6.26741 22.192H5.93841V24.789H6.25341ZM12.3332 26.07C11.9972 26.07 11.6752 26.014 11.3672 25.902C11.0592 25.79 10.7862 25.6267 10.5482 25.412C10.3149 25.1973 10.1282 24.9337 9.98818 24.621C9.84818 24.3083 9.77818 23.9513 9.77818 23.55C9.77818 23.1533 9.84585 22.794 9.98118 22.472C10.1212 22.15 10.3079 21.8747 10.5412 21.646C10.7792 21.4173 11.0522 21.24 11.3602 21.114C11.6682 20.988 11.9925 20.925 12.3332 20.925C12.6645 20.925 12.9842 20.9833 13.2922 21.1C13.6049 21.2167 13.8802 21.3847 14.1182 21.604C14.3562 21.8233 14.5452 22.0893 14.6852 22.402C14.8299 22.7147 14.9022 23.0693 14.9022 23.466C14.9022 23.8673 14.8299 24.229 14.6852 24.551C14.5452 24.873 14.3562 25.146 14.1182 25.37C13.8802 25.594 13.6049 25.7667 13.2922 25.888C12.9842 26.0093 12.6645 26.07 12.3332 26.07ZM12.3332 24.796C12.4779 24.796 12.6179 24.768 12.7532 24.712C12.8932 24.656 13.0145 24.5743 13.1172 24.467C13.2245 24.355 13.3085 24.2197 13.3692 24.061C13.4345 23.8977 13.4672 23.711 13.4672 23.501C13.4672 23.291 13.4345 23.1043 13.3692 22.941C13.3085 22.7777 13.2245 22.64 13.1172 22.528C13.0145 22.416 12.8932 22.332 12.7532 22.276C12.6179 22.2153 12.4779 22.185 12.3332 22.185C12.1885 22.185 12.0485 22.2153 11.9132 22.276C11.7779 22.332 11.6565 22.416 11.5492 22.528C11.4465 22.64 11.3625 22.7777 11.2972 22.941C11.2365 23.1043 11.2062 23.291 11.2062 23.501C11.2062 23.711 11.2365 23.8977 11.2972 24.061C11.3625 24.2197 11.4465 24.355 11.5492 24.467C11.6565 24.5743 11.7779 24.656 11.9132 24.712C12.0485 24.768 12.1885 24.796 12.3332 24.796ZM18.2304 26.07C17.8384 26.07 17.4767 26.0117 17.1454 25.895C16.8141 25.7737 16.5271 25.601 16.2844 25.377C16.0464 25.153 15.8597 24.8847 15.7244 24.572C15.5937 24.2547 15.5284 23.9 15.5284 23.508C15.5284 23.116 15.5961 22.7613 15.7314 22.444C15.8667 22.1267 16.0557 21.856 16.2984 21.632C16.5457 21.408 16.8374 21.2353 17.1734 21.114C17.5141 20.988 17.8874 20.925 18.2934 20.925C18.5874 20.925 18.8487 20.953 19.0774 21.009C19.3107 21.065 19.4904 21.1327 19.6164 21.212V22.479C19.4717 22.3903 19.2991 22.318 19.0984 22.262C18.8977 22.2013 18.6714 22.171 18.4194 22.171C18.2001 22.171 18.0017 22.2013 17.8244 22.262C17.6471 22.318 17.4931 22.4043 17.3624 22.521C17.2364 22.633 17.1384 22.773 17.0684 22.941C16.9984 23.1043 16.9634 23.291 16.9634 23.501C16.9634 23.921 17.0964 24.2453 17.3624 24.474C17.6284 24.7027 17.9831 24.817 18.4264 24.817C18.6644 24.817 18.8861 24.7843 19.0914 24.719C19.3014 24.6537 19.4764 24.5673 19.6164 24.46V25.678C19.4764 25.7947 19.2897 25.8903 19.0564 25.965C18.8231 26.035 18.5477 26.07 18.2304 26.07Z" fill="white"></path><path d="M13.7846 0L18.9538 5.16923L21.5385 7.75385L24.1231 10.3385H15.7538C14.6663 10.3385 13.7846 9.45681 13.7846 8.36923V0Z" fill="#F1F3F5"></path><defs><linearGradient id="paint0_linear_16718_396382" x1="12.0615" y1="0" x2="12.0615" y2="32" gradientUnits="userSpaceOnUse"><stop stop-color="white" stop-opacity="0"></stop><stop offset="1" stop-color="white"></stop></linearGradient></defs></svg>'},6766:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 33 32"><path fill="currentColor" fill-rule="evenodd" d="M23.441 27h-14a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h8v5a3 3 0 0 0 3 3h4v13a1 1 0 0 1-1 1Zm.137-16L19.44 6.677V10a1 1 0 0 0 1 1h3.137ZM6.44 6a3 3 0 0 1 3-3h7.969a3 3 0 0 1 2.167.926l6.032 6.304a3 3 0 0 1 .832 2.074V26a3 3 0 0 1-3 3h-14a3 3 0 0 1-3-3V6Z" clip-rule="evenodd"></path></svg>'},5724:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 32 32"><path fill="currentColor" d="M16 9.5a1 1 0 0 1 1 1V16a1 1 0 1 1-2 0v-5.5a1 1 0 0 1 1-1ZM16 22a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path fill="currentColor" fill-rule="evenodd" d="M5 16C5 9.925 9.925 5 16 5s11 4.925 11 11-4.925 11-11 11S5 22.075 5 16Zm11-9a9 9 0 1 0 0 18 9 9 0 0 0 0-18Z" clip-rule="evenodd"></path></svg>'},4692:t=>{t.exports='<svg viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.1378 8.75255L10.195 7.80974L8.66638 9.33834V1.89062H7.33305L7.33305 9.33834L5.80445 7.80975L4.86164 8.75255L7.99972 11.8906L11.1378 8.75255Z" fill="currentColor"></path><path d="M5.33301 13.8906H10.6663C11.3058 13.8906 11.7187 13.8899 12.0347 13.8683C12.3387 13.8476 12.4544 13.8121 12.5099 13.7891C12.8366 13.6538 13.0962 13.3942 13.2315 13.0675C13.2545 13.0121 13.29 12.8963 13.3107 12.5923C13.3323 12.2763 13.333 11.8635 13.333 11.224V7.89063H14.6663V11.224C14.6663 12.4665 14.6663 13.0877 14.4634 13.5778C14.1927 14.2312 13.6736 14.7503 13.0202 15.021C12.5301 15.224 11.9089 15.224 10.6663 15.224H5.33301C4.0905 15.224 3.46924 15.224 2.97919 15.021C2.32578 14.7503 1.80665 14.2312 1.536 13.5778C1.33301 13.0877 1.33301 12.4665 1.33301 11.224V7.89062H2.66634V11.224C2.66634 11.8635 2.66706 12.2763 2.68862 12.5923C2.70936 12.8963 2.74485 13.0121 2.76784 13.0675C2.90316 13.3942 3.16273 13.6538 3.48943 13.7891C3.54491 13.8121 3.66069 13.8476 3.96469 13.8683C4.28066 13.8899 4.69351 13.8906 5.33301 13.8906Z" fill="currentColor"></path></svg>'},9991:t=>{t.exports='<svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.99967 4.49984C8.64401 4.49984 9.16634 3.9775 9.16634 3.33317C9.16634 2.68884 8.64401 2.1665 7.99967 2.1665C7.35534 2.1665 6.83301 2.68884 6.83301 3.33317C6.83301 3.9775 7.35534 4.49984 7.99967 4.49984ZM7.99967 13.8332C8.64401 13.8332 9.16634 13.3108 9.16634 12.6665C9.16634 12.0222 8.64401 11.4998 7.99967 11.4998C7.35534 11.4998 6.83301 12.0222 6.83301 12.6665C6.83301 13.3108 7.35534 13.8332 7.99967 13.8332ZM9.16634 7.99984C9.16634 8.64417 8.64401 9.1665 7.99967 9.1665C7.35534 9.1665 6.83301 8.64417 6.83301 7.99984C6.83301 7.3555 7.35534 6.83317 7.99967 6.83317C8.64401 6.83317 9.16634 7.3555 9.16634 7.99984Z" fill="currentColor"></path></svg>'},6930:t=>{t.exports='<svg viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.4993 1.66699C5.89698 1.66699 2.16602 5.39795 2.16602 10.0003C2.16602 14.6027 5.89698 18.3337 10.4993 18.3337C15.1017 18.3337 18.8327 14.6027 18.8327 10.0003C18.8327 5.39795 15.1017 1.66699 10.4993 1.66699ZM11.3327 5.98991C11.3327 5.52967 10.9596 5.15658 10.4993 5.15658C10.0391 5.15658 9.66602 5.52967 9.66602 5.98991V10.0003C9.66602 10.4606 10.0391 10.8337 10.4993 10.8337C10.9596 10.8337 11.3327 10.4606 11.3327 10.0003V5.98991ZM11.6661 13.3337C11.6661 13.978 11.1438 14.5003 10.4994 14.5003C9.8551 14.5003 9.33276 13.978 9.33276 13.3337C9.33276 12.6893 9.8551 12.167 10.4994 12.167C11.1438 12.167 11.6661 12.6893 11.6661 13.3337Z" fill="rgba(255, 91, 91, 1)"></path></svg>'},2096:t=>{t.exports='<svg viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="10" cy="10" r="7.5" fill="white"></circle><path d="M18.3337 10.0003C18.3337 14.6027 14.6027 18.3337 10.0003 18.3337C5.39795 18.3337 1.66699 14.6027 1.66699 10.0003C1.66699 5.39795 5.39795 1.66699 10.0003 1.66699C14.6027 1.66699 18.3337 5.39795 18.3337 10.0003ZM14.304 6.46082C13.96 6.15505 13.4333 6.18604 13.1275 6.53002L8.73871 11.4674L6.8627 9.43478C6.55055 9.09658 6.02334 9.07545 5.68513 9.3876C5.34693 9.69975 5.3258 10.227 5.63795 10.5652L7.82596 12.9358C8.29418 13.4431 9.085 13.4748 9.59231 13.0066C9.61465 12.9853 9.62582 12.9746 9.63663 12.9636C9.64744 12.9526 9.65789 12.9412 9.67878 12.9185L14.3732 7.6373C14.6789 7.29331 14.6479 6.76658 14.304 6.46082Z" fill="#00B341"></path></svg>'},5158:t=>{t.exports='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.80926 3.48744C8.51415 3.42656 10.3765 4.27034 12.0001 6.19718C13.6237 4.27034 15.4861 3.42657 17.191 3.48745C19.0363 3.55334 20.596 4.67984 21.3221 6.42015C22.7844 9.92535 20.8446 15.5838 12.2505 20.4334C12.0952 20.521 11.9051 20.5211 11.75 20.4336C3.15563 15.5839 1.21577 9.92537 2.67816 6.42014C3.40423 4.67983 4.96394 3.55333 6.80926 3.48744Z" fill="url(#paint0_linear_20416_1136)"></path><defs><linearGradient id="paint0_linear_20416_1136" x1="2.23486" y1="14.2891" x2="21.7639" y2="14.4603" gradientUnits="userSpaceOnUse"><stop stop-color="#E459E8"></stop><stop offset="1" stop-color="#FF5F82"></stop></linearGradient></defs></svg>'},3931:t=>{t.exports='<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13.5 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3ZM8 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3ZM2.5 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill="currentColor"></path></svg>'},7298:t=>{t.exports='<svg viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 18C14.4183 18 18 14.4183 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 14.4183 5.58172 18 10 18ZM6.3224 6.32232C6.63482 6.0099 7.14135 6.0099 7.45377 6.32232L10.0001 8.86863L12.5464 6.32232C12.8588 6.0099 13.3654 6.0099 13.6778 6.32232C13.9902 6.63473 13.9902 7.14127 13.6778 7.45369L11.1315 10L13.6778 12.5463C13.9902 12.8587 13.9902 13.3653 13.6778 13.6777C13.3654 13.9901 12.8588 13.9901 12.5464 13.6777L10.0001 11.1314L7.45377 13.6777C7.14135 13.9901 6.63482 13.9901 6.3224 13.6777C6.00998 13.3653 6.00998 12.8587 6.3224 12.5463L8.86872 10L6.3224 7.45369C6.00998 7.14127 6.00998 6.63473 6.3224 6.32232Z" fill="#FF5B5B"></path><circle cx="10" cy="10" r="8" fill="#FF5B5B"></circle><path opacity="0.5" fill-rule="evenodd" clip-rule="evenodd" d="M15.9191 9.26362C14.6788 7.30236 12.4908 6 9.9986 6C7.50644 6 5.31846 7.30236 4.07812 9.26361L5.10112 10.082C6.09599 8.41584 7.91699 7.3 9.9986 7.3C12.0802 7.3 13.9012 8.41585 14.8961 10.082L15.9191 9.26362ZM13.5504 11.1585C12.8842 9.87605 11.5437 9 9.9986 9C8.45351 9 7.11303 9.87604 6.44676 11.1585L7.49197 11.9947C7.89071 11.0014 8.86275 10.3 9.9986 10.3C11.1345 10.3 12.1065 11.0014 12.5052 11.9947L13.5504 11.1585Z" fill="white"></path><circle cx="10" cy="13" r="1" fill="white"></circle></svg>'},7068:t=>{t.exports='<svg viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.5 4.16667H9.16667C9.6269 4.16667 10 3.79357 10 3.33333C10 2.8731 9.6269 2.5 9.16667 2.5H7.5C5.94686 2.5 5.17029 2.5 4.55772 2.75373C3.74096 3.09205 3.09205 3.74096 2.75373 4.55772C2.5 5.17029 2.5 5.94686 2.5 7.5V12.5C2.5 14.0531 2.5 14.8297 2.75373 15.4423C3.09205 16.259 3.74096 16.908 4.55772 17.2463C5.17029 17.5 5.94686 17.5 7.5 17.5H12.5C14.0531 17.5 14.8297 17.5 15.4423 17.2463C16.259 16.908 16.908 16.259 17.2463 15.4423C17.5 14.8297 17.5 14.0531 17.5 12.5V10.8333C17.5 10.3731 17.1269 10 16.6667 10C16.2064 10 15.8333 10.3731 15.8333 10.8333V12.5C15.8333 13.2994 15.8324 13.8154 15.8055 14.2104C15.7796 14.5904 15.7352 14.7351 15.7065 14.8045C15.5373 15.2129 15.2129 15.5373 14.8045 15.7065C14.7351 15.7352 14.5904 15.7796 14.2104 15.8055C13.8154 15.8324 13.2994 15.8333 12.5 15.8333H7.5C6.70063 15.8333 6.18457 15.8324 5.7896 15.8055C5.4096 15.7796 5.26488 15.7352 5.19553 15.7065C4.78715 15.5373 4.46269 15.2129 4.29353 14.8045C4.26481 14.7351 4.22044 14.5904 4.19452 14.2104C4.16757 13.8154 4.16667 13.2994 4.16667 12.5V7.5C4.16667 6.70063 4.16757 6.18457 4.19452 5.7896C4.22044 5.4096 4.26481 5.26488 4.29353 5.19553C4.46269 4.78715 4.78715 4.46269 5.19553 4.29353C5.26488 4.26481 5.4096 4.22044 5.7896 4.19452C6.18457 4.16757 6.70063 4.16667 7.5 4.16667Z" fill="currentColor"></path><path d="M12.4999 2.5008C12.0397 2.50067 11.6667 2.87364 11.6667 3.33376C11.6667 3.79382 12.0396 4.16676 12.4997 4.16672L14.6507 4.16652L8.65462 10.1626C8.32918 10.488 8.32918 11.0157 8.65462 11.3411C8.98006 11.6665 9.50769 11.6665 9.83313 11.3411L15.833 5.34122V7.50315C15.833 7.96166 16.2047 8.33335 16.6632 8.33335C17.1217 8.33335 17.4934 7.96166 17.4934 7.50315V2.50224L12.4999 2.5008Z" fill="currentColor"></path></svg>'},714:t=>{t.exports='<svg viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.86029 3.91182L3.28642 9.48494C3.16659 9.60475 3.0707 9.7463 3.00388 9.90202L1.85182 12.0131L4.09476 10.9928C4.25019 10.9259 4.39149 10.8302 4.51111 10.7105L10.0843 5.13623C9.95691 4.91642 9.77704 4.68848 9.54212 4.45356C9.3075 4.21894 9.07984 4.03923 8.86029 3.91182ZM9.82419 2.94805C10.0478 3.10594 10.2679 3.29377 10.4849 3.51075C10.7022 3.72798 10.8902 3.94836 11.0482 4.17224L12.0289 3.19128C12.1236 3.09657 12.1524 2.95437 12.1021 2.83026C12.031 2.65504 11.9036 2.47188 11.714 2.28226C11.5244 2.09265 11.3413 1.96533 11.166 1.89422C11.0419 1.84385 10.8997 1.87267 10.805 1.96737L9.82419 2.94805ZM1.7786 9.37622C1.91224 9.06479 2.10402 8.78169 2.34367 8.54207L9.86226 1.0245C10.3358 0.55098 11.0469 0.406916 11.6674 0.658745C12.018 0.801027 12.3473 1.02995 12.6568 1.33945C12.9663 1.64897 13.1953 1.97828 13.3376 2.3289C13.5894 2.94944 13.4453 3.66042 12.9718 4.134L5.45401 11.6532C5.21477 11.8925 4.93217 12.0841 4.6213 12.2177L2.32611 13.2043C1.73414 13.4588 1.04799 13.1851 0.793539 12.5932C0.667203 12.2993 0.667101 11.9664 0.793259 11.6724L1.7786 9.37622Z" fill="currentColor"></path></svg>'},6057:t=>{t.exports='<svg viewBox="0 0 25 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M13.7882 0H3C1.34315 0 0 1.34315 0 3V29C0 30.6569 1.34315 32 3 32H21C22.6569 32 24 30.6569 24 29V10.2118L13.7882 0Z" fill="#FFC555"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M13.7882 0H3C1.34315 0 0 1.34315 0 3V29C0 30.6569 1.34315 32 3 32H21C22.6569 32 24 30.6569 24 29V10.2118L13.7882 0Z" fill="url(#paint0_linear_16718_396418)" fill-opacity="0.4"></path><path d="M7.33337 20.8314C7.33334 20.8251 7.33333 20.8188 7.33333 20.8124C7.33333 18.1546 9.42267 16 12 16C14.115 16 15.9014 17.4509 16.4742 19.4402C18.434 19.5165 20 21.179 20 23.2186C20 25.3069 18.3584 26.9998 16.3333 26.9998L6.9984 27C5.34228 26.9991 4 25.6143 4 23.9062C4 22.1976 5.34314 20.8125 7 20.8125C7.11268 20.8125 7.22391 20.8189 7.33337 20.8314Z" fill="#FEFEFE"></path><path d="M7.33337 20.8314C7.33334 20.8251 7.33333 20.8188 7.33333 20.8124C7.33333 18.1546 9.42267 16 12 16C14.115 16 15.9014 17.4509 16.4742 19.4402C18.434 19.5165 20 21.179 20 23.2186C20 25.3069 18.3584 26.9998 16.3333 26.9998L6.9984 27C5.34228 26.9991 4 25.6143 4 23.9062C4 22.1976 5.34314 20.8125 7 20.8125C7.11268 20.8125 7.22391 20.8189 7.33337 20.8314Z" fill="url(#paint1_radial_16718_396418)" fill-opacity="0.5"></path><path d="M7.33337 20.8314C7.33334 20.8251 7.33333 20.8188 7.33333 20.8124C7.33333 18.1546 9.42267 16 12 16C14.115 16 15.9014 17.4509 16.4742 19.4402C18.434 19.5165 20 21.179 20 23.2186C20 25.3069 18.3584 26.9998 16.3333 26.9998L6.9984 27C5.34228 26.9991 4 25.6143 4 23.9062C4 22.1976 5.34314 20.8125 7 20.8125C7.11268 20.8125 7.22391 20.8189 7.33337 20.8314Z" fill="url(#paint2_linear_16718_396418)"></path><path d="M13.7847 0L18.9539 5.16923L21.5385 7.75385L24.1231 10.3385H15.7539C14.6663 10.3385 13.7847 9.45681 13.7847 8.36923V0Z" fill="#F1F3F5"></path><defs><linearGradient id="paint0_linear_16718_396418" x1="12" y1="0" x2="12" y2="29.5" gradientUnits="userSpaceOnUse"><stop stop-color="white" stop-opacity="0"></stop><stop offset="1" stop-color="white"></stop></linearGradient><radialGradient id="paint1_radial_16718_396418" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(12.2195 24.317) rotate(-130.423) scale(7.15519 10.4642)"><stop stop-color="white" stop-opacity="0"></stop><stop offset="1" stop-color="#F2F8FD" stop-opacity="0.5"></stop></radialGradient><linearGradient id="paint2_linear_16718_396418" x1="14.599" y1="21.671" x2="10.8448" y2="37.7805" gradientUnits="userSpaceOnUse"><stop stop-color="#FEFEFE"></stop><stop offset="1" stop-color="#D1E3F1"></stop></linearGradient></defs></svg>'},6869:t=>{t.exports='<svg viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.50804 10.4504C8.54318 11.2119 7.32474 11.6663 6.00016 11.6663C2.87055 11.6663 0.333496 9.12929 0.333496 5.99967C0.333496 2.87006 2.87055 0.333008 6.00016 0.333008C9.12978 0.333008 11.6668 2.87006 11.6668 5.99967C11.6668 7.32425 11.2124 8.54269 10.4508 9.50755L12.8049 11.8616C13.0653 12.122 13.0653 12.5441 12.8049 12.8044C12.5446 13.0648 12.1224 13.0648 11.8621 12.8044L9.50804 10.4504ZM10.3335 5.99967C10.3335 8.39291 8.3934 10.333 6.00016 10.333C3.60693 10.333 1.66683 8.39291 1.66683 5.99967C1.66683 3.60644 3.60693 1.66634 6.00016 1.66634C8.3934 1.66634 10.3335 3.60644 10.3335 5.99967Z" fill="currentColor" fill-opacity="0.8"></path></svg>'},9631:t=>{t.exports='<svg viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="28" height="28" rx="8" fill="url(#paint0_linear_14621_329684)"></rect><path d="M16.0948 19.0947C15.802 19.3876 15.802 19.8624 16.0948 20.1553C16.3877 20.4482 16.8626 20.4482 17.1555 20.1553L22.7752 14.5356C22.7792 14.5316 22.7832 14.5276 22.7871 14.5235C22.9188 14.3883 23 14.2036 23 14C23 13.7964 22.9188 13.6117 22.7871 13.4765C22.7832 13.4724 22.7792 13.4684 22.7752 13.4644L17.1555 7.84467C16.8626 7.55178 16.3877 7.55178 16.0948 7.84467C15.802 8.13756 15.802 8.61244 16.0948 8.90533L20.4395 13.25L5.75 13.25C5.33579 13.25 5 13.5858 5 14C5 14.4142 5.33579 14.75 5.75 14.75L20.4395 14.75L16.0948 19.0947Z" fill="white"></path><defs><linearGradient id="paint0_linear_14621_329684" x1="-5.20269e-08" y1="17.7805" x2="27.9984" y2="17.9944" gradientUnits="userSpaceOnUse"><stop stop-color="#E459E8"></stop><stop offset="1" stop-color="#FF5F82"></stop></linearGradient></defs></svg>'},4196:t=>{t.exports='<svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M16 5C18.1756 5 20.3023 5.64514 22.1113 6.85383C23.9202 8.06253 25.3301 9.7805 26.1627 11.7905C26.9952 13.8005 27.2131 16.0122 26.7886 18.146C26.3642 20.2798 25.3166 22.2398 23.7782 23.7782C22.2398 25.3166 20.2798 26.3642 18.146 26.7886C16.0122 27.2131 13.8005 26.9952 11.7905 26.1627C9.78049 25.3301 8.06253 23.9202 6.85383 22.1113C5.64514 20.3023 5 18.1756 5 16H7C7 17.78 7.52784 19.5201 8.51677 21.0001C9.50571 22.4802 10.9113 23.6337 12.5558 24.3149C14.2004 24.9961 16.01 25.1743 17.7558 24.8271C19.5016 24.4798 21.1053 23.6226 22.364 22.364C23.6226 21.1053 24.4798 19.5016 24.8271 17.7558C25.1743 16.01 24.9961 14.2004 24.3149 12.5558C23.6337 10.9113 22.4802 9.50571 21.0001 8.51677C19.5201 7.52784 17.78 7 16 7V5Z" fill="currentColor"></path></svg>'},9120:t=>{t.exports='<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.8.603a.5.5 0 0 0-.8.4v2H1a1 1 0 1 0 0 2h10v2a.5.5 0 0 0 .8.4l3.997-3a.5.5 0 0 0 0-.8l-3.997-3ZM5 13.003v2a.5.5 0 0 1-.8.4l-3.997-3a.5.5 0 0 1 0-.8l3.997-3a.5.5 0 0 1 .8.4v2h10a1 1 0 0 1 0 2H5Z" fill="currentColor"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h16v16H0z"></path></clipPath></defs></svg>'},4055:t=>{t.exports='<svg viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.529287 11.1441C0.529287 11.1441 0.425781 11.1002 0.425781 11.0002C0.425781 10.9002 0.529287 10.8563 0.529287 10.8563C4.5 8.5 6 5.5 5 0L13 0V5.5C12 9 4.66249 12.7109 0.529287 11.1441Z" fill="currentColor"></path></svg>'},4788:t=>{t.exports='<svg viewBox="0 0 25 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M13.7885 0H3C1.34315 0 0 1.34315 0 3V29C0 30.6569 1.34315 32 3 32H21.1231C22.7799 32 24.1231 30.6569 24.1231 29V10.3346L13.7885 0Z" fill="#D4D9DF"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M13.7885 0H3C1.34315 0 0 1.34315 0 3V29C0 30.6569 1.34315 32 3 32H21.1231C22.7799 32 24.1231 30.6569 24.1231 29V10.3346L13.7885 0Z" fill="url(#paint0_linear_16718_396338)" fill-opacity="0.5" style="mix-blend-mode:soft-light"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M9.63667 22.9998H11.5702L9.10933 16.0078H6.99024L4.50983 22.9998H6.15042L6.59962 21.6913H9.18746L9.63667 22.9998ZM8.67966 20.2069H7.10743L7.89842 17.9316L8.67966 20.2069ZM13 17.8C13 17.3582 13.3582 17 13.8 17H19.2C19.6418 17 20 17.3582 20 17.8C20 18.2418 19.6418 18.6 19.2 18.6H13.8C13.3582 18.6 13 18.2418 13 17.8ZM13.8 21C13.3582 21 13 21.3582 13 21.8C13 22.2418 13.3582 22.6 13.8 22.6H19.2C19.6418 22.6 20 22.2418 20 21.8C20 21.3582 19.6418 21 19.2 21H13.8ZM4.8 25C4.35817 25 4 25.3582 4 25.8C4 26.2418 4.35817 26.6 4.8 26.6H19.2C19.6418 26.6 20 26.2418 20 25.8C20 25.3582 19.6418 25 19.2 25H4.8Z" fill="#4B595C"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M9.63667 22.9998H11.5702L9.10933 16.0078H6.99024L4.50983 22.9998H6.15042L6.59962 21.6913H9.18746L9.63667 22.9998ZM8.67966 20.2069H7.10743L7.89842 17.9316L8.67966 20.2069ZM13 17.8C13 17.3582 13.3582 17 13.8 17H19.2C19.6418 17 20 17.3582 20 17.8C20 18.2418 19.6418 18.6 19.2 18.6H13.8C13.3582 18.6 13 18.2418 13 17.8ZM13.8 21C13.3582 21 13 21.3582 13 21.8C13 22.2418 13.3582 22.6 13.8 22.6H19.2C19.6418 22.6 20 22.2418 20 21.8C20 21.3582 19.6418 21 19.2 21H13.8ZM4.8 25C4.35817 25 4 25.3582 4 25.8C4 26.2418 4.35817 26.6 4.8 26.6H19.2C19.6418 26.6 20 26.2418 20 25.8C20 25.3582 19.6418 25 19.2 25H4.8Z" fill="url(#paint1_linear_16718_396338)" fill-opacity="0.3"></path><path d="M13.7846 0L18.9538 5.16923L21.5385 7.75385L24.1231 10.3385H15.7538C14.6663 10.3385 13.7846 9.45681 13.7846 8.36923V0Z" fill="#F1F3F5"></path><defs><linearGradient id="paint0_linear_16718_396338" x1="12.0615" y1="0" x2="12.0615" y2="32" gradientUnits="userSpaceOnUse"><stop stop-color="white" stop-opacity="0"></stop><stop offset="1" stop-color="white"></stop></linearGradient><linearGradient id="paint1_linear_16718_396338" x1="12" y1="15.0078" x2="12" y2="25.6" gradientUnits="userSpaceOnUse"><stop stop-color="white" stop-opacity="0.2"></stop><stop offset="1" stop-color="white"></stop></linearGradient></defs></svg>'},5794:t=>{t.exports='<svg viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.45616 8.95323L1.68248 5.87136C1.40538 5.56348 0.931165 5.53852 0.623283 5.81561C0.3154 6.09271 0.290442 6.56692 0.567536 6.87481L3.94254 10.6248C4.25561 10.9727 4.80731 10.952 5.09347 10.5817L11.4685 2.33167C11.7217 2.00391 11.6614 1.53289 11.3336 1.27962C11.0058 1.02635 10.5348 1.08674 10.2815 1.4145L4.45616 8.95323Z" fill="currentColor"></path></svg>'},8321:t=>{t.exports='<svg viewBox="0 0 12 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.44238 0H5.55827C4.84589 0 4.56514 0.0595653 4.27738 0.180118C3.98961 0.300671 3.74942 0.482212 3.55492 0.726162C3.36041 0.970113 3.2265 1.22395 3.03211 1.90929L2.91184 2.33333H1.70847H1.33366C0.965469 2.33333 0.666992 2.63181 0.666992 3C0.666992 3.36819 0.965469 3.66667 1.33366 3.66667H1.66719L2.22997 12.1108C2.28832 12.9863 3.01549 13.6667 3.89294 13.6667H8.10774C8.98518 13.6667 9.71235 12.9864 9.77072 12.1109L10.3337 3.66715V3.66667H10.667C11.0352 3.66667 11.3337 3.36819 11.3337 3C11.3337 2.63181 11.0352 2.33333 10.667 2.33333H10.3337H9.08881L8.96854 1.90929C8.77415 1.22395 8.64024 0.970113 8.44573 0.726162C8.25123 0.482212 8.01104 0.300671 7.72327 0.180118C7.43551 0.0595653 7.15476 0 6.44238 0ZM7.70288 2.33333H4.29777L4.31485 2.27312C4.45033 1.79548 4.5077 1.66993 4.59745 1.55737C4.65241 1.48844 4.71125 1.44396 4.79256 1.4099C4.92534 1.35427 5.06178 1.33333 5.55827 1.33333H6.44238C6.93887 1.33333 7.07531 1.35427 7.20809 1.4099C7.2894 1.44396 7.34824 1.48844 7.4032 1.55737C7.49295 1.66993 7.55032 1.79548 7.6858 2.27312L7.70288 2.33333ZM8.9974 3.66667L8.44034 12.0222C8.42866 12.1973 8.28323 12.3333 8.10774 12.3333H3.89294C3.71745 12.3333 3.57202 12.1973 3.56035 12.0222L3.00348 3.66667H8.9974ZM4.26677 5.42037L4.44825 10.6172C4.45917 10.93 4.72157 11.1747 5.03434 11.1637C5.34711 11.1528 5.59181 10.8904 5.58089 10.5777L5.39941 5.38082C5.38849 5.06805 5.12608 4.82335 4.81331 4.83427C4.50054 4.8452 4.25585 5.1076 4.26677 5.42037ZM7.18768 4.83427C6.87491 4.82335 6.6125 5.06805 6.60158 5.38082L6.4201 10.5777C6.40918 10.8904 6.65388 11.1528 6.96665 11.1637C7.27942 11.1747 7.54182 10.93 7.55274 10.6172L7.73422 5.42037C7.74514 5.1076 7.50045 4.8452 7.18768 4.83427Z" fill="currentColor"></path></svg>'},9199:t=>{t.exports='<svg viewBox="0 0 16 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.56522 0.308413C5.51742 0.780043 4.71955 2.19506 3.12381 5.02511L2.2084 6.64858C0.660841 9.39318 -0.112938 10.7655 0.0133295 11.8897C0.123487 12.8705 0.642628 13.7592 1.44287 14.3369C2.36015 14.9991 3.93556 14.9991 7.08639 14.9991H8.91721C12.068 14.9991 13.6435 14.9991 14.5607 14.3369C15.361 13.7592 15.8801 12.8705 15.9903 11.8897C16.1165 10.7655 15.3428 9.39318 13.7952 6.6486L13.7952 6.64858L12.8798 5.02511C11.2841 2.19506 10.4862 0.780043 9.43839 0.308413C8.5248 -0.102804 7.4788 -0.102804 6.56522 0.308413ZM8.81026 3.97935C8.81026 3.52218 8.44831 3.15157 8.00182 3.15157C7.55533 3.15157 7.19339 3.52218 7.19339 3.97935V7.96305C7.19339 8.42022 7.55533 8.79083 8.00182 8.79083C8.44831 8.79083 8.81026 8.42022 8.81026 7.96305V3.97935ZM9.13371 11.2742C9.13371 11.9142 8.62698 12.4331 8.0019 12.4331C7.37682 12.4331 6.87009 11.9142 6.87009 11.2742C6.87009 10.6341 7.37682 10.1153 8.0019 10.1153C8.62698 10.1153 9.13371 10.6341 9.13371 11.2742Z" fill="#FFB800"></path></svg>'},4224:t=>{t.exports='<svg viewBox="0 0 25 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M13.7885 0H3C1.34315 0 0 1.34315 0 3V29C0 30.6569 1.34315 32 3 32H21.1231C22.7799 32 24.1231 30.6569 24.1231 29V10.3346L13.7885 0Z" fill="#8E3EDE"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M13.7885 0H3C1.34315 0 0 1.34315 0 3V29C0 30.6569 1.34315 32 3 32H21.1231C22.7799 32 24.1231 30.6569 24.1231 29V10.3346L13.7885 0Z" fill="url(#paint0_linear_16718_396444)" fill-opacity="0.7" style="mix-blend-mode:soft-light"></path><path d="M12 27C15.866 27 19 23.866 19 20C19 16.134 15.866 13 12 13C8.13401 13 5 16.134 5 20C5 23.866 8.13401 27 12 27ZM17.5053 18.9563C17.4697 18.9612 17.434 18.969 17.3984 18.9797C16.7133 19.1857 15.96 19.3446 15.1387 19.4558C15.0548 17.4386 14.5124 15.7796 13.8555 14.6487C15.722 15.3121 17.1363 16.9482 17.5053 18.9563ZM17.5874 20.3828C17.4356 22.6882 15.9229 24.6165 13.8555 25.3513C14.4767 24.2818 14.9955 22.7401 15.121 20.8699C16.0085 20.759 16.8306 20.5968 17.5874 20.3828ZM13.7441 19.5946C13.1889 19.6315 12.6075 19.65 12.0001 19.65C11.3926 19.65 10.8112 19.6314 10.2559 19.5944C10.3428 16.6164 11.3673 14.4 12 14.4C12.6327 14.4 13.6573 16.6165 13.7441 19.5946ZM8.87894 20.8697C9.00442 22.74 9.52323 24.2818 10.1445 25.3513C8.07706 24.6165 6.56434 22.6882 6.41256 20.3828C7.1694 20.5966 7.99147 20.7588 8.87894 20.8697ZM8.86127 19.4556C8.03997 19.3443 7.28664 19.1855 6.60146 18.9796C6.56596 18.9689 6.53027 18.9612 6.49467 18.9563C6.86369 16.9482 8.27804 15.3121 10.1445 14.6487C9.48758 15.7796 8.94521 17.4385 8.86127 19.4556ZM13.714 20.9994C13.5203 23.6735 12.5898 25.6 12 25.6C11.4101 25.6 10.4796 23.6734 10.286 20.9992C10.8356 21.0331 11.4069 21.05 11.9999 21.05C12.593 21.05 13.1644 21.0332 13.714 20.9994Z" fill="white"></path><rect x="3" y="3" width="4" height="4" rx="2" fill="white"></rect><rect x="8" y="3" width="4" height="4" rx="2" fill="white"></rect><rect x="13" y="3" width="4" height="4" rx="2" fill="white"></rect><path d="M13.7847 0L18.9539 5.16923L21.5385 7.75385L24.1231 10.3385H15.7539C14.6663 10.3385 13.7847 9.45681 13.7847 8.36923V0Z" fill="#F1F3F5"></path><defs><linearGradient id="paint0_linear_16718_396444" x1="12.0615" y1="0" x2="12.0615" y2="32" gradientUnits="userSpaceOnUse"><stop stop-color="white" stop-opacity="0"></stop><stop offset="1" stop-color="white"></stop></linearGradient></defs></svg>'},7352:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M12.805 4.138a.667.667 0 1 0-.943-.943L8 7.057 4.138 3.195a.667.667 0 1 0-.943.943L7.057 8l-3.862 3.862a.667.667 0 1 0 .943.943L8 8.943l3.862 3.862a.667.667 0 1 0 .943-.943L8.943 8l3.862-3.862Z"></path></svg>'},7737:t=>{t.exports='<svg viewBox="0 0 65 64" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="0.5" width="64" height="63.9999" rx="31.9999" fill="url(#paint0_linear_13965_277429)"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M49.2204 33.0924C48.2327 30.8649 46.3884 29.0986 44.0794 28.1691C44.3946 26.7478 44.5888 25.3038 44.6602 23.8516H40.4259C40.3644 24.9275 40.2211 25.9976 39.997 27.053C36.4179 26.6342 32.7875 27.0547 29.4109 28.2797C29.044 26.2419 28.783 24.1876 28.6291 22.1244C41.3215 21.4293 48.8077 18.523 49.1552 18.3861L47.5266 14.7002C47.4506 14.7318 40.3607 17.4592 28.4609 18.1279C28.4609 15.3635 28.3523 15.3793 28.5043 14.4421L24.2645 14.3999C24.194 15.1792 24.2102 15.9797 24.2265 18.2544H23.8356C20.0355 18.2544 16.5177 17.9857 15.6925 17.912L14.9 21.977C16.1431 22.0823 19.9432 22.2719 23.3687 22.2719H24.4165C24.6109 24.8835 24.9606 27.4818 25.4643 30.0542C19.8455 33.2135 15.3885 39.3795 17.6577 44.387C18.105 45.4042 18.8198 46.2896 19.7306 46.9549C20.6413 47.6201 21.7161 48.042 22.8476 48.1782C23.2574 48.2358 23.6712 48.2639 24.0853 48.2624C26.5065 48.2624 29.2806 47.3356 31.9244 45.7507C32.8745 47.1363 33.9657 48.4259 35.1816 49.5998L38.0861 46.6827C37.0374 45.6483 36.0988 44.514 35.2847 43.297C35.9871 42.6947 36.6508 42.0512 37.2717 41.3699C39.7304 38.6515 41.6483 35.5146 42.9284 32.1183C43.9919 32.6595 44.8356 33.5334 45.3225 34.5983C47.0108 38.5895 44.568 43.2022 42.2933 45.2031L45.1651 48.1518C48.9272 44.8135 51.5493 38.5738 49.2204 33.0924ZM23.4556 44.2027C23.0297 44.1664 22.6226 44.0149 22.281 43.7655C21.9393 43.516 21.6768 43.1786 21.523 42.7916C20.4752 40.48 22.7445 36.7203 26.4414 34.2139C27.2417 37.0177 28.3519 39.7294 29.7529 42.3018C27.4728 43.6919 25.182 44.4449 23.4556 44.2027ZM34.0417 38.7476C33.7431 39.0793 33.4281 39.3847 33.1132 39.6901C31.895 37.3207 30.9414 34.8319 30.2686 32.2658C32.5123 31.3843 34.9054 30.9147 37.3259 30.8811C37.83 30.879 38.3338 30.9034 38.8351 30.9546C37.7358 33.8118 36.1117 36.4521 34.0417 38.7476Z" fill="white"></path><defs><linearGradient id="paint0_linear_13965_277429" x1="0.5" y1="40.6411" x2="64.4963" y2="41.13" gradientUnits="userSpaceOnUse"><stop stop-color="#E459E8"></stop><stop offset="1" stop-color="#FF5F82"></stop></linearGradient></defs></svg>'},1127:t=>{t.exports='<svg viewBox="0 0 192 28" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.364 22h2.884V5.44H8.054c-4.218 0-6.434 2.168-6.434 5.36 0 2.55 1.216 4.051 3.384 5.6L1.239 22h3.122l4.193-6.267-1.453-.977c-1.763-1.191-2.621-2.12-2.621-4.122 0-1.763 1.239-2.955 3.598-2.955h1.287V22Zm37.864-.81v-2.312c-.882.596-2.36 1.12-3.742 1.12-2.072 0-2.859-.977-2.978-2.978h6.839v-1.501c0-4.17-1.835-5.743-4.67-5.743-3.456 0-5.1 2.645-5.1 6.267 0 4.17 2.05 6.195 5.671 6.195 1.811 0 3.146-.476 3.98-1.048Zm17.728 1.048c1.31 0 2.24-.238 2.93-.738v-2.312c-.714.5-1.572.81-2.763.81-2.026 0-2.86-1.572-2.86-4.05 0-2.598 1.025-3.932 2.883-3.932 1.097 0 2.169.381 2.74.739v-2.407c-.595-.334-1.643-.572-3.05-.572-3.621 0-5.504 2.597-5.504 6.243 0 4.003 1.835 6.22 5.624 6.22ZM21.255 10.014v4.742h-3.789v-4.742H14.63V22h2.836v-5.004h3.789V22h2.835V10.014h-2.835Zm15.631 9.746h-1.263v-9.746h-8.268v1.025c0 2.93-.19 6.72-1.192 8.721h-.881v4.98h2.62V22h6.363v2.74h2.621v-4.98ZM56.282 22H59.5l-4.551-6.457 4.003-5.529h-2.86l-4.002 5.529v-5.529h-2.836V22h2.836v-5.886L56.282 22ZM42.63 12.016c1.406 0 1.835 1.168 1.835 2.669v.238h-3.956c.072-1.906.762-2.907 2.12-2.907Zm-9.841 7.744h-4.003c.786-1.81 1-5.075 1-7.148v-.358h3.003v7.506ZM75.191 5.44V22h2.884V7.68h5.147V22h2.883V5.44H75.19ZM97.652 21.19v-2.312c-.881.596-2.359 1.12-3.74 1.12-2.074 0-2.86-.977-2.98-2.978h6.84v-1.501c0-4.17-1.835-5.743-4.67-5.743-3.456 0-5.1 2.645-5.1 6.267 0 4.17 2.05 6.195 5.671 6.195 1.81 0 3.145-.476 3.98-1.048Zm-4.599-9.174c1.406 0 1.835 1.168 1.835 2.669v.238h-3.955c.071-1.906.762-2.907 2.12-2.907ZM102.292 10.014h-2.62v15.441h2.835v-4.86c.715 1.071 1.763 1.643 2.978 1.643 2.764 0 4.671-2.216 4.671-6.243 0-4.003-1.859-6.219-4.528-6.219-1.334 0-2.43.62-3.193 1.787l-.143-1.549Zm2.478 9.984c-1.501 0-2.263-1.215-2.263-3.979 0-2.788.81-4.003 2.406-4.003 1.549 0 2.312 1.215 2.312 3.98 0 2.787-.81 4.002-2.455 4.002ZM121.225 21.19v-2.312c-.882.596-2.359 1.12-3.741 1.12-2.074 0-2.86-.977-2.979-2.978h6.839v-1.501c0-4.17-1.835-5.743-4.671-5.743-3.455 0-5.099 2.645-5.099 6.267 0 4.17 2.049 6.195 5.671 6.195 1.811 0 3.146-.476 3.98-1.048Zm-4.599-9.174c1.406 0 1.835 1.168 1.835 2.669v.238h-3.956c.072-1.906.763-2.907 2.121-2.907ZM127.961 22c2.812 0 4.48-1.191 4.48-3.479 0-1.573-.953-2.478-2.549-2.764 1.286-.357 2.096-1.263 2.096-2.693 0-2.049-1.358-3.05-3.979-3.05h-4.766V22h4.718Zm-.357-9.841c1.025 0 1.597.429 1.597 1.334 0 .834-.62 1.335-1.692 1.335h-1.43v-2.67h1.525Zm.048 4.742c1.215 0 1.858.429 1.858 1.43 0 1.096-.715 1.524-1.858 1.524h-1.573v-2.954h1.573ZM138.947 9.776c-3.121 0-5.29 2.216-5.29 6.243 0 4.003 2.169 6.22 5.29 6.22 3.122 0 5.29-2.217 5.29-6.244 0-4.003-2.168-6.219-5.29-6.219Zm0 10.222c-1.573 0-2.359-1.215-2.359-3.979 0-2.788.786-4.003 2.359-4.003s2.359 1.215 2.359 3.98c0 2.787-.786 4.002-2.359 4.002ZM156.277 19.76h-1.262v-9.746h-8.269v1.025c0 2.93-.191 6.72-1.191 8.721h-.882v4.98h2.621V22h6.362v2.74h2.621v-4.98Zm-4.098 0h-4.003c.786-1.81 1.001-5.075 1.001-7.148v-.358h3.002v7.506ZM161.903 15.852c-1.168 0-1.716-.62-1.716-2.073v-3.765h-2.836v3.741c0 2.908 1.382 4.29 3.861 4.29 1.024 0 1.882-.263 2.549-.668V22h2.836V10.014h-2.836v5.314c-.5.357-1.144.524-1.858.524ZM168.969 10.014V22h2.454l4.384-7.41V22h2.764V10.014h-2.454l-4.384 7.411v-7.41h-2.764ZM187.982 22h3.217l-4.552-6.457 4.004-5.529h-2.86l-4.003 5.529v-5.529h-2.836V22h2.836v-5.886L187.982 22Z" fill="currentColor"></path></svg>'},3657:t=>{t.exports='<svg viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.5604 5.89062H13.9997V7.22391L9.33301 7.22391V2.55729H10.6663V4.99636L13.7722 1.89062L14.6663 2.78482L11.5604 5.89062Z" fill="currentColor"></path><path d="M4.43101 11.2319H1.99973L1.99973 9.89062H6.66639V14.5572H5.32524V12.126L2.22711 15.224L1.33301 14.3298L4.43101 11.2319Z" fill="currentColor"></path></svg>'},4212:t=>{t.exports='<svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.99967 1.33301V2.66634L12.431 2.6743L9.33301 5.77214L10.2271 6.66634L13.3269 3.56666L13.333 5.99967H14.6663V1.33301H9.99967Z" fill="currentColor"></path><path d="M5.99967 14.6663V13.325H3.56835L6.66634 10.2272L5.77224 9.33301L2.67241 12.4327V9.99967H1.33301V14.6663H5.99967Z" fill="currentColor"></path></svg>'},8714:()=>{"use strict";"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("./service-worker.js").then((()=>{})).catch((()=>{}))}))}},e={};function i(n){var s=e[n];if(void 0!==s)return s.exports;var r=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}i.amdO={},i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";var t={};i.r(t),i.d(t,{hasBrowserEnv:()=>xo,hasStandardBrowserEnv:()=>bo,hasStandardBrowserWebWorkerEnv:()=>_o,origin:()=>Co});
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const e=globalThis,n=e.ShadowRoot&&(void 0===e.ShadyCSS||e.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s=Symbol(),r=new WeakMap;class a{constructor(t,e,i){if(this._$cssResult$=!0,i!==s)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(n&&void 0===t){const i=void 0!==e&&1===e.length;i&&(t=r.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&r.set(e,t))}return t}toString(){return this.cssText}}const o=(t,...e)=>{const i=1===t.length?t[0]:e.reduce(((e,i,n)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[n+1]),t[0]);return new a(i,t,s)},l=(t,i)=>{if(n)t.adoptedStyleSheets=i.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const n of i){const i=document.createElement("style"),s=e.litNonce;void 0!==s&&i.setAttribute("nonce",s),i.textContent=n.cssText,t.appendChild(i)}},c=n?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const i of t.cssRules)e+=i.cssText;return(t=>new a("string"==typeof t?t:t+"",void 0,s))(e)})(t):t,{is:h,defineProperty:d,getOwnPropertyDescriptor:p,getOwnPropertyNames:u,getOwnPropertySymbols:g,getPrototypeOf:f}=Object,m=globalThis,v=m.trustedTypes,y=v?v.emptyScript:"",x=m.reactiveElementPolyfillSupport,b=(t,e)=>t,w={toAttribute(t,e){switch(e){case Boolean:t=t?y:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let i=t;switch(e){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},_=(t,e)=>!h(t,e),C={attribute:!0,type:String,converter:w,reflect:!1,hasChanged:_};Symbol.metadata??=Symbol("metadata"),m.litPropertyMetadata??=new WeakMap;class S extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,e=C){if(e.state&&(e.attribute=!1),this._$Ei(),this.elementProperties.set(t,e),!e.noAccessor){const i=Symbol(),n=this.getPropertyDescriptor(t,i,e);void 0!==n&&d(this.prototype,t,n)}}static getPropertyDescriptor(t,e,i){const{get:n,set:s}=p(this.prototype,t)??{get(){return this[e]},set(t){this[e]=t}};return{get(){return n?.call(this)},set(e){const r=n?.call(this);s.call(this,e),this.requestUpdate(t,r,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??C}static _$Ei(){if(this.hasOwnProperty(b("elementProperties")))return;const t=f(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(b("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(b("properties"))){const t=this.properties,e=[...u(t),...g(t)];for(const i of e)this.createProperty(i,t[i])}const t=this[Symbol.metadata];if(null!==t){const e=litPropertyMetadata.get(t);if(void 0!==e)for(const[t,i]of e)this.elementProperties.set(t,i)}this._$Eh=new Map;for(const[t,e]of this.elementProperties){const i=this._$Eu(t,e);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const i=new Set(t.flat(1/0).reverse());for(const t of i)e.unshift(c(t))}else void 0!==t&&e.push(c(t));return e}static _$Eu(t,e){const i=e.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,e=this.constructor.elementProperties;for(const i of e.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return l(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,e,i){this._$AK(t,i)}_$EC(t,e){const i=this.constructor.elementProperties.get(t),n=this.constructor._$Eu(t,i);if(void 0!==n&&!0===i.reflect){const s=(void 0!==i.converter?.toAttribute?i.converter:w).toAttribute(e,i.type);this._$Em=t,null==s?this.removeAttribute(n):this.setAttribute(n,s),this._$Em=null}}_$AK(t,e){const i=this.constructor,n=i._$Eh.get(t);if(void 0!==n&&this._$Em!==n){const t=i.getPropertyOptions(n),s="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:w;this._$Em=n,this[n]=s.fromAttribute(e,t.type),this._$Em=null}}requestUpdate(t,e,i){if(void 0!==t){if(i??=this.constructor.getPropertyOptions(t),!(i.hasChanged??_)(this[t],e))return;this.P(t,e,i)}!1===this.isUpdatePending&&(this._$ES=this._$ET())}P(t,e,i){this._$AL.has(t)||this._$AL.set(t,e),!0===i.reflect&&this._$Em!==t&&(this._$Ej??=new Set).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,e]of this._$Ep)this[t]=e;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[e,i]of t)!0!==i.wrapped||this._$AL.has(e)||void 0===this[e]||this.P(e,this[e],i)}let t=!1;const e=this._$AL;try{t=this.shouldUpdate(e),t?(this.willUpdate(e),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(e)):this._$EU()}catch(e){throw t=!1,this._$EU(),e}t&&this._$AE(e)}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&=this._$Ej.forEach((t=>this._$EC(t,this[t]))),this._$EU()}updated(t){}firstUpdated(t){}}S.elementStyles=[],S.shadowRootOptions={mode:"open"},S[b("elementProperties")]=new Map,S[b("finalized")]=new Map,x?.({ReactiveElement:S}),(m.reactiveElementVersions??=[]).push("2.0.4");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const T=globalThis,k=T.trustedTypes,E=k?k.createPolicy("lit-html",{createHTML:t=>t}):void 0,P="$lit$",L=`lit$${Math.random().toFixed(9).slice(2)}$`,I="?"+L,M=`<${I}>`,A=document,O=()=>A.createComment(""),R=t=>null===t||"object"!=typeof t&&"function"!=typeof t,D=Array.isArray,j=t=>D(t)||"function"==typeof t?.[Symbol.iterator],$="[ \t\n\f\r]",F=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,z=/-->/g,B=/>/g,N=RegExp(`>|${$}(?:([^\\s"'>=/]+)(${$}*=${$}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),V=/'/g,H=/"/g,U=/^(?:script|style|textarea|title)$/i,q=t=>(e,...i)=>({_$litType$:t,strings:e,values:i}),W=q(1),Z=(q(2),Symbol.for("lit-noChange")),K=Symbol.for("lit-nothing"),G=new WeakMap,Y=A.createTreeWalker(A,129);function X(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==E?E.createHTML(e):e}const J=(t,e)=>{const i=t.length-1,n=[];let s,r=2===e?"<svg>":"",a=F;for(let e=0;e<i;e++){const i=t[e];let o,l,c=-1,h=0;for(;h<i.length&&(a.lastIndex=h,l=a.exec(i),null!==l);)h=a.lastIndex,a===F?"!--"===l[1]?a=z:void 0!==l[1]?a=B:void 0!==l[2]?(U.test(l[2])&&(s=RegExp("</"+l[2],"g")),a=N):void 0!==l[3]&&(a=N):a===N?">"===l[0]?(a=s??F,c=-1):void 0===l[1]?c=-2:(c=a.lastIndex-l[2].length,o=l[1],a=void 0===l[3]?N:'"'===l[3]?H:V):a===H||a===V?a=N:a===z||a===B?a=F:(a=N,s=void 0);const d=a===N&&t[e+1].startsWith("/>")?" ":"";r+=a===F?i+M:c>=0?(n.push(o),i.slice(0,c)+P+i.slice(c)+L+d):i+L+(-2===c?e:d)}return[X(t,r+(t[i]||"<?>")+(2===e?"</svg>":"")),n]};class Q{constructor({strings:t,_$litType$:e},i){let n;this.parts=[];let s=0,r=0;const a=t.length-1,o=this.parts,[l,c]=J(t,e);if(this.el=Q.createElement(l,i),Y.currentNode=this.el.content,2===e){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(n=Y.nextNode())&&o.length<a;){if(1===n.nodeType){if(n.hasAttributes())for(const t of n.getAttributeNames())if(t.endsWith(P)){const e=c[r++],i=n.getAttribute(t).split(L),a=/([.?@])?(.*)/.exec(e);o.push({type:1,index:s,name:a[2],strings:i,ctor:"."===a[1]?st:"?"===a[1]?rt:"@"===a[1]?at:nt}),n.removeAttribute(t)}else t.startsWith(L)&&(o.push({type:6,index:s}),n.removeAttribute(t));if(U.test(n.tagName)){const t=n.textContent.split(L),e=t.length-1;if(e>0){n.textContent=k?k.emptyScript:"";for(let i=0;i<e;i++)n.append(t[i],O()),Y.nextNode(),o.push({type:2,index:++s});n.append(t[e],O())}}}else if(8===n.nodeType)if(n.data===I)o.push({type:2,index:s});else{let t=-1;for(;-1!==(t=n.data.indexOf(L,t+1));)o.push({type:7,index:s}),t+=L.length-1}s++}}static createElement(t,e){const i=A.createElement("template");return i.innerHTML=t,i}}function tt(t,e,i=t,n){if(e===Z)return e;let s=void 0!==n?i._$Co?.[n]:i._$Cl;const r=R(e)?void 0:e._$litDirective$;return s?.constructor!==r&&(s?._$AO?.(!1),void 0===r?s=void 0:(s=new r(t),s._$AT(t,i,n)),void 0!==n?(i._$Co??=[])[n]=s:i._$Cl=s),void 0!==s&&(e=tt(t,s._$AS(t,e.values),s,n)),e}class et{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:e},parts:i}=this._$AD,n=(t?.creationScope??A).importNode(e,!0);Y.currentNode=n;let s=Y.nextNode(),r=0,a=0,o=i[0];for(;void 0!==o;){if(r===o.index){let e;2===o.type?e=new it(s,s.nextSibling,this,t):1===o.type?e=new o.ctor(s,o.name,o.strings,this,t):6===o.type&&(e=new ot(s,this,t)),this._$AV.push(e),o=i[++a]}r!==o?.index&&(s=Y.nextNode(),r++)}return Y.currentNode=A,n}p(t){let e=0;for(const i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,e),e+=i.strings.length-2):i._$AI(t[e])),e++}}class it{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,e,i,n){this.type=2,this._$AH=K,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=i,this.options=n,this._$Cv=n?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t?.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=tt(this,t,e),R(t)?t===K||null==t||""===t?(this._$AH!==K&&this._$AR(),this._$AH=K):t!==this._$AH&&t!==Z&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):j(t)?this.k(t):this._(t)}S(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.S(t))}_(t){this._$AH!==K&&R(this._$AH)?this._$AA.nextSibling.data=t:this.T(A.createTextNode(t)),this._$AH=t}$(t){const{values:e,_$litType$:i}=t,n="number"==typeof i?this._$AC(t):(void 0===i.el&&(i.el=Q.createElement(X(i.h,i.h[0]),this.options)),i);if(this._$AH?._$AD===n)this._$AH.p(e);else{const t=new et(n,this),i=t.u(this.options);t.p(e),this.T(i),this._$AH=t}}_$AC(t){let e=G.get(t.strings);return void 0===e&&G.set(t.strings,e=new Q(t)),e}k(t){D(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let i,n=0;for(const s of t)n===e.length?e.push(i=new it(this.S(O()),this.S(O()),this,this.options)):i=e[n],i._$AI(s),n++;n<e.length&&(this._$AR(i&&i._$AB.nextSibling,n),e.length=n)}_$AR(t=this._$AA.nextSibling,e){for(this._$AP?.(!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class nt{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,e,i,n,s){this.type=1,this._$AH=K,this._$AN=void 0,this.element=t,this.name=e,this._$AM=n,this.options=s,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=K}_$AI(t,e=this,i,n){const s=this.strings;let r=!1;if(void 0===s)t=tt(this,t,e,0),r=!R(t)||t!==this._$AH&&t!==Z,r&&(this._$AH=t);else{const n=t;let a,o;for(t=s[0],a=0;a<s.length-1;a++)o=tt(this,n[i+a],e,a),o===Z&&(o=this._$AH[a]),r||=!R(o)||o!==this._$AH[a],o===K?t=K:t!==K&&(t+=(o??"")+s[a+1]),this._$AH[a]=o}r&&!n&&this.j(t)}j(t){t===K?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class st extends nt{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===K?void 0:t}}class rt extends nt{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==K)}}class at extends nt{constructor(t,e,i,n,s){super(t,e,i,n,s),this.type=5}_$AI(t,e=this){if((t=tt(this,t,e,0)??K)===Z)return;const i=this._$AH,n=t===K&&i!==K||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,s=t!==K&&(i===K||n);n&&this.element.removeEventListener(this.name,this,i),s&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class ot{constructor(t,e,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){tt(this,t)}}const lt={P,A:L,C:I,M:1,L:J,R:et,D:j,V:tt,I:it,H:nt,N:rt,U:at,B:st,F:ot},ct=T.litHtmlPolyfillSupport;ct?.(Q,it),(T.litHtmlVersions??=[]).push("3.1.4");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class ht extends S{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=((t,e,i)=>{const n=i?.renderBefore??e;let s=n._$litPart$;if(void 0===s){const t=i?.renderBefore??null;n._$litPart$=s=new it(e.insertBefore(O(),t),t,void 0,i??{})}return s._$AI(t),s})(e,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return Z}}ht._$litElement$=!0,ht.finalized=!0,globalThis.litElementHydrateSupport?.({LitElement:ht});const dt=globalThis.litElementPolyfillSupport;dt?.({LitElement:ht});(globalThis.litElementVersions??=[]).push("4.0.6");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const pt=t=>(e,i)=>{void 0!==i?i.addInitializer((()=>{customElements.define(t,e)})):customElements.define(t,e)},ut={attribute:!0,type:String,converter:w,reflect:!1,hasChanged:_},gt=(t=ut,e,i)=>{const{kind:n,metadata:s}=i;let r=globalThis.litPropertyMetadata.get(s);if(void 0===r&&globalThis.litPropertyMetadata.set(s,r=new Map),r.set(i.name,t),"accessor"===n){const{name:n}=i;return{set(i){const s=e.get.call(this);e.set.call(this,i),this.requestUpdate(n,s,t)},init(e){return void 0!==e&&this.P(n,void 0,t),e}}}if("setter"===n){const{name:n}=i;return function(i){const s=this[n];e.call(this,i),this.requestUpdate(n,s,t)}}throw Error("Unsupported decorator location: "+n)};function ft(t){return(e,i)=>"object"==typeof i?gt(t,e,i):((t,e,i)=>{const n=e.hasOwnProperty(i);return e.constructor.createProperty(i,n?{...t,wrapped:!0}:t),n?Object.getOwnPropertyDescriptor(e,i):void 0})(t,e,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
function mt(t){return ft({...t,state:!0,attribute:!1})}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const vt=(t,e,i)=>(i.configurable=!0,i.enumerable=!0,Reflect.decorate&&"object"!=typeof e&&Object.defineProperty(t,e,i),i);
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
function yt(t,e){return(i,n,s)=>{const r=e=>e.renderRoot?.querySelector(t)??null;if(e){const{get:t,set:e}="object"==typeof n?i:s??(()=>{const t=Symbol();return{get(){return this[t]},set(e){this[t]=e}}})();return vt(i,n,{get(){let i=t.call(this);return void 0===i&&(i=r(this),(null!==i||this.hasUpdated)&&e.call(this,i)),i}})}return vt(i,n,{get(){return r(this)}})}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
let xt;const bt=o`
    :host {
        display: flex;
    }

    /* direction */

    :host([direction='column']) {
        flex-direction: column;
    }

    /* justify */

    :host([justify='start']) {
        justify-content: start;
    }

    :host([justify='center']) {
        justify-content: center;
    }

    :host([justify='end']) {
        justify-content: end;
    }

    :host([justify='space-between']) {
        justify-content: space-between;
    }

    :host([justify='space-around']) {
        justify-content: space-around;
    }

    /* align */

    :host([align='center']) {
        align-items: center;
    }

    :host([align='start']) {
        align-items: start;
    }

    :host([align='end']) {
        align-items: end;
    }

    /* wrap */

    :host([wrap='wrap']) {
        flex-wrap: wrap;
    }

    /* gap */

    :host([gap='none']) {
        gap: 0;
    }

    :host([gap='3xs']) {
        gap: var(--space_3xs);
    }

    :host([gap='2xs']) {
        gap: var(--space_2xs);
    }

    :host([gap='xs']) {
        gap: var(--space_xs);
    }

    :host([gap='s']) {
        gap: var(--space_s);
    }

    :host([gap='m']) {
        gap: var(--space_m);
    }

    :host([gap='l']) {
        gap: var(--space_l);
    }

    :host([gap='xl']) {
        gap: var(--space_xl);
    }

    :host([gap='2xl']) {
        gap: var(--space_2xl);
    }

    :host([gap='3xl']) {
        gap: var(--space_3xl);
    }

    :host([gap='4xl']) {
        gap: var(--space_4xl);
    }

    :host([gap='5xl']) {
        gap: var(--space_5xl);
    }

    :host([gap='6xl']) {
        gap: var(--space_6xl);
    }
`;var wt=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let _t=class extends ht{constructor(){super(...arguments),this.direction="row",this.justify="center",this.align="center",this.wrap="nowrap",this.gap="none"}render(){return W`<slot></slot>`}};_t.styles=bt,wt([ft({attribute:"direction",type:String})],_t.prototype,"direction",void 0),wt([ft({attribute:"justify",type:String})],_t.prototype,"justify",void 0),wt([ft({attribute:"align",type:String})],_t.prototype,"align",void 0),wt([ft({attribute:"wrap",type:String})],_t.prototype,"wrap",void 0),wt([ft({attribute:"gap",type:String})],_t.prototype,"gap",void 0),_t=wt([pt("flex-container")],_t);const Ct=o`
    /* font-size */

    :host {
        /*   ios        */
        -webkit-text-size-adjust: none;
    }

    :host([font-size='6xl']) {
        font-size: var(--size_6xl);
    }

    :host([font-size='5xl']) {
        font-size: var(--size_5xl);
    }

    :host([font-size='4xl']) {
        font-size: var(--size_4xl);
    }

    :host([font-size='3xl']) {
        font-size: var(--size_3xl);
    }

    :host([font-size='2xl']) {
        font-size: var(--size_2xl);
    }

    :host([font-size='xl']) {
        font-size: var(--size_xl);
    }

    :host([font-size='l']) {
        font-size: var(--size_l);
    }

    :host([font-size='m']) {
        font-size: var(--size_m);
    }

    :host([font-size='s']) {
        font-size: var(--size_s);
    }

    :host([font-size='xs']) {
        font-size: var(--size_xs);
    }

    :host([font-size='2xs']) {
        font-size: var(--size_2xs);
    }

    /* line-height */

    :host([line-height='xl']) {
        line-height: var(--line-height_xl);
    }
    :host([line-height='l']) {
        line-height: var(--line-height_l);
    }

    :host([line-height='m']) {
        line-height: var(--line-height_m);
    }

    :host([line-height='s']) {
        line-height: var(--line-height_s);
    }

    :host([line-height='xs']) {
        line-height: var(--line-height_xs);
    }

    :host([line-height='2xs']) {
        line-height: var(--line-height_2xs);
    }

    /* font-weight */

    :host([font-weight='regular']) {
        font-weight: var(--font-weight_regular);
    }

    :host([font-weight='medium']) {
        font-weight: var(--font-weight_medium);
    }

    :host([font-weight='semibold']) {
        font-weight: var(--font-weight_semibold);
    }

    :host([font-weight='bold']) {
        font-weight: var(--font-weight_bold);
    }

    :host([font-weight='black']) {
        font-weight: var(--font-weight_black);
    }

    /* text-align */

    :host([text-align='start']) {
        text-align: left;
    }

    :host([text-align='center']) {
        text-align: center;
    }

    :host([text-align='end']) {
        text-align: right;
    }

    /* color */
    :host([color='primary']) {
        color: var(--text-primary);
    }

    :host([color='tertiary']) {
        color: var(--text-tertiary);
    }

    :host([color='secondary']) {
        color: var(--text-secondary);
    }

    :host([color='control-primary']) {
        color: var(--control-primary-text);
    }

    :host([color='link']) {
        color: var(--text-link);
    }

    :host([color='graphite']) {
        color: var(--accents-graphite);
    }

    :host([color='disabled']) {
        color: var(--bg-disabled);
    }

    /* font-style */

    :host([font-style='normal']) {
        font-style: normal;
    }

    :host([font-style='italic']) {
        font-style: italic;
    }

    :host([font-style='oblique']) {
        font-style: oblique;
    }

    /* cursor */

    :host {
        cursor: default;
    }

    /* direction */

    :host([direction='rtl']) {
        direction: rtl;
        text-align: right;
    }

    /* no-wrap */

    :host([no-wrap]) {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    /* word-wrap */

    :host([word-wrap]) ::slotted(*) {
        white-space: pre-wrap;
        word-wrap: break-word;
    }
`;var St=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let Tt=class extends ht{constructor(){super(...arguments),this["font-size"]="m",this["line-height"]="m",this["font-weight"]="regular",this["text-align"]="start",this.color="primary",this["font-style"]="normal",this.direction="ltr",this["word-wrap"]=!1,this["no-wrap"]=!1}render(){return W`<slot></slot>`}};Tt.styles=Ct,St([ft({attribute:"font-size",reflect:!0,type:String})],Tt.prototype,"font-size",void 0),St([ft({attribute:"line-height",reflect:!0,type:String})],Tt.prototype,"line-height",void 0),St([ft({attribute:"font-weight",reflect:!0,type:String})],Tt.prototype,"font-weight",void 0),St([ft({attribute:"text-align",reflect:!0,type:String})],Tt.prototype,"text-align",void 0),St([ft({attribute:"color",reflect:!0,type:String})],Tt.prototype,"color",void 0),St([ft({attribute:"font-style",reflect:!0,type:String})],Tt.prototype,"font-style",void 0),St([ft({attribute:"direction",reflect:!0,type:String})],Tt.prototype,"direction",void 0),St([ft({attribute:"word-wrap",type:Boolean})],Tt.prototype,"word-wrap",void 0),St([ft({attribute:"no-wrap",reflect:!0,type:Boolean})],Tt.prototype,"no-wrap",void 0),Tt=St([pt("ya-text")],Tt);
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const kt=1,Et=2,Pt=t=>(...e)=>({_$litDirective$:t,values:e});class Lt{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class It extends Lt{constructor(t){if(super(t),this.it=K,t.type!==Et)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(t){if(t===K||null==t)return this._t=void 0,this.it=t;if(t===Z)return t;if("string"!=typeof t)throw Error(this.constructor.directiveName+"() called with a non-string value");if(t===this.it)return this._t;this.it=t;const e=[t];return e.raw=e,this._t={_$litType$:this.constructor.resultType,strings:e,values:[]}}}It.directiveName="unsafeHTML",It.resultType=1;const Mt=Pt(It),At=o`
    :host {
        --svg-width: 0;
        --svg-height: 0;
    }

    :host ::slotted(svg) {
        vertical-align: middle;
        width: var(--svg-width);
        height: var(--svg-height);
    }

    .wrap {
        height: 100%;
    }

    /* size */

    :host([size='auto']) {
        width: auto;
        height: auto;
    }

    :host([size='auto']) ::slotted(svg) {
        width: 100%;
        height: 100%;
    }

    :host([size='s']),
    :host([size='s']) ::slotted(svg) {
        width: var(--space_s);
        height: var(--space_s);
    }

    :host([size='m']),
    :host([size='m']) ::slotted(svg) {
        width: var(--space_m);
        height: var(--space_m);
    }

    :host([size='l']),
    :host([size='l']) ::slotted(svg) {
        width: var(--space_l);
        height: var(--space_l);
    }

    :host([size='xl']),
    :host([size='xl']) ::slotted(svg) {
        width: var(--space_xl);
        height: var(--space_xl);
    }

    :host([size='2xl']),
    :host([size='2xl']) ::slotted(svg) {
        width: var(--space_2xl);
        height: var(--space_2xl);
    }

    :host([size='3xl']),
    :host([size='3xl']) ::slotted(svg) {
        width: var(--space_3xl);
        height: var(--space_3xl);
    }

    :host([size='4xl']),
    :host([size='4xl']) ::slotted(svg) {
        width: var(--space_4xl);
        height: var(--space_4xl);
    }

    :host([size='5xl']),
    :host([size='5xl']) ::slotted(svg) {
        width: var(--space_5xl);
        height: var(--space_5xl);
    }

    /* color */

    :host([color='primary']) {
        color: var(--text-primary);
    }

    :host([color='secondary']) {
        color: var(--text-secondary);
    }

    :host([color='tertiary']) {
        color: var(--text-tertiary);
    }

    :host([color='active']) {
        color: var(--control-primary-bg);
    }

    :host([color='control-primary']) {
        color: var(--control-primary-text);
    }

    :host([color='white']) {
        color: var(--white);
    }

    :host([color='disabled']) {
        color: var(--bg-disabled);
    }

    :host([color='graphite']) {
        color: var(--accents-graphite);
    }
`;var Ot=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};function Rt(t){return W`${Mt(t)}`}let Dt=class extends ht{constructor(){super(...arguments),this.size="m",this.color="primary"}render(){return W`
            <flex-container class="wrap" justify="center" align="center">
                <slot></slot>
            </flex-container>
        `}};Dt.styles=At,Ot([ft({attribute:"size",reflect:!0,type:String})],Dt.prototype,"size",void 0),Ot([ft({attribute:"color",reflect:!0,type:String})],Dt.prototype,"color",void 0),Dt=Ot([pt("ya-icon")],Dt);var jt=i(5822),$t=i.n(jt),Ft=i(5653),zt=i.n(Ft),Bt=i(9631),Nt=i.n(Bt),Vt=i(1691),Ht=i.n(Vt),Ut=(i(9226),i(8838)),qt=i.n(Ut),Wt=i(3931),Zt=i.n(Wt),Kt=i(9120),Gt=i.n(Kt),Yt=(i(7737),i(1127),i(4692)),Xt=i.n(Yt),Jt=i(2096),Qt=i.n(Jt),te=i(6930),ee=i.n(te),ie=i(5794),ne=i.n(ie),se=(i(1053),i(9991)),re=i.n(se),ae=i(8321),oe=i.n(ae),le=i(9199),ce=i.n(le),he=i(7298),de=i.n(he),pe=i(6869),ue=i.n(pe),ge=i(714),fe=i.n(ge),me=i(3e3),ve=i.n(me),ye=i(5158),xe=i.n(ye),be=i(8391),we=i.n(be),_e=i(7068),Ce=i.n(_e),Se=(i(6766),i(7250)),Te=i.n(Se),ke=i(4224),Ee=i.n(ke),Pe=i(4788),Le=i.n(Pe),Ie=i(6057),Me=i.n(Ie),Ae=i(4196),Oe=i.n(Ae),Re=i(5724),De=i.n(Re),je=i(7352),$e=i.n(je),Fe=i(655),ze=i.n(Fe),Be=i(4055),Ne=i.n(Be);const Ve=t=>{const e=t?.getBoundingClientRect();return[e?.left??0,e?.top??0]};class He{constructor(t){this.host=t,this.host.addController(this)}calculateYOffset(t){const{parent:e,element:i,vertical:n,yShift:s=0}=t,r=Ve(e);let a="";if("top"===this.getActualVerticalPosition({parent:e,element:i,vertical:n,yShift:s})){const t=r[1]-i.clientHeight-s;a=`${Math.max(0,t)}px`}else a=`${r[1]+e.offsetHeight+s}px`;return a}calculateXOffset(t){const{parent:e,element:i,horizontal:n,xShift:s=0,needUpdateElementWidth:r}=t;let a="",o="auto";const l=Ve(e);switch(n){case"center":{const t=(e.offsetWidth-i.clientWidth)/2;a=t+l[0]-s>=0?l[0]+t-s+"px":"0";break}case"right":if(a=l[0]+e.offsetWidth/2-s+"px",r){o=`${window.innerWidth-l[0]-e.offsetWidth/2+s-16}px`}i.style.maxWidth=o;break;case"parent-right":a=l[0]+e.offsetWidth-i.clientWidth+"px"}return{xOffset:a,maxWidth:o}}calculatePosition(t){const{xOffset:e,maxWidth:i}=this.calculateXOffset(t);return{xOffset:e,yOffset:this.calculateYOffset(t),maxWidth:i}}getActualVerticalPosition(t){const{parent:e,element:i,vertical:n,yShift:s=0}=t,r=Ve(e),a=r[1]>=i.clientHeight+s,o=window.innerHeight-e.offsetHeight-r[1]-s>=i.clientHeight;return a&&"top"===n||!o&&"bottom"===n?"top":"bottom"}hostUpdated(){}}function Ue(t,e,i){const n=i.value,s=Symbol(`__${e}`);return{configurable:!0,get(){return this[s]||Object.defineProperty(this,s,{value:n.bind(this),writable:!1,enumerable:!1,configurable:!1}),this[s]}}}async function qe(t){return new Promise((e=>setTimeout(e,t)))}
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const We=Pt(class extends Lt{constructor(t){if(super(t),t.type!==kt||"class"!==t.name||t.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter((e=>t[e])).join(" ")+" "}update(t,[e]){if(void 0===this.st){this.st=new Set,void 0!==t.strings&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter((t=>""!==t))));for(const t in e)e[t]&&!this.nt?.has(t)&&this.st.add(t);return this.render(e)}const i=t.element.classList;for(const t of this.st)t in e||(i.remove(t),this.st.delete(t));for(const t in e){const n=!!e[t];n===this.st.has(t)||this.nt?.has(t)||(n?(i.add(t),this.st.add(t)):(i.remove(t),this.st.delete(t)))}return Z}}),Ze=o`
    :host {
        height: fit-content;
        min-width: fit-content;
        overflow: hidden;
        display: flex;
    }

    :host([shape='default']) {
        border-radius: var(--border-radius_m);
    }

    :host([shape='round']) {
        border-radius: var(--border-radius_max);
    }

    :host([shape='angular']) {
        border-radius: var(--border-radius_xs);
    }

    :host([shape='brick']) {
        border-radius: 0;
    }

    .tooltip {
        max-width: 520px;
        box-sizing: border-box;
        padding: calc(var(--space_xs) - var(--space_3xs)) var(--space_s);
        border-radius: var(--border-radius_xl);

        position: fixed;

        color: var(--control-primary-text);
        background-color: var(--bg-tooltip);

        opacity: 0;
        pointer-events: none;
        z-index: calc(var(--layer_overlay) + 1);
    }

    .tail {
        display: none;
    }

    .tooltip.visible {
        opacity: 1;
    }

    :host([show-tail][horizontal-position='right']) .tooltip.top {
        border-bottom-left-radius: var(--border-radius_3xs);
    }

    :host([show-tail][horizontal-position='right']) .tooltip.bottom {
        border-top-left-radius: var(--border-radius_3xs);
    }

    /* mobile */
    @media (pointer: coarse) and (max-width: 900px) {
        .tooltip {
            display: none;
        }

        :host([show-by-touch]) .tooltip {
            display: initial;
        }

        :host([show-tail][horizontal-position='right']) .tooltip {
            border-radius: calc(
                var(--border-radius_m) + var(--border-radius_3xs)
            ) !important;
            padding: var(--space_xs) var(--space_s);
            border: none;
        }

        :host([show-tail][horizontal-position='right']) .tail {
            display: initial;
            color: var(--bg-tooltip);

            position: absolute;
            left: 0;
        }

        .tooltip.top .tail {
            top: 100%;
            transform: translateY(-60%);
        }

        .tooltip.bottom .tail {
            bottom: 100%;
            transform: translateY(60%) scale(1, -1);
        }
    }
`;var Ke=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};const Ge=["pointerenter","focus"],Ye=["pointerleave","blur","keydown","click"],Xe="tooltip";let Je=class extends ht{constructor(){super(...arguments),this.actualVerticalPosition="top",this.tooltipPosition=null,this.visible=!1,this["horizontal-position"]="center",this["show-tail"]=!1,this["y-shift"]=0,this["x-shift"]=0,this["show-by-touch"]=!1,this.shape="default",this.text="",this["preferred-vertical-position"]="top",this.disabled=!1,this.elementPositionController=new He(this)}async updateTooltipPosition(){await qe(0);const t=this.tooltipElement;if(!t)return;const e=this["preferred-vertical-position"],i=this["horizontal-position"],n=this["show-by-touch"],s=this["y-shift"],r=this["x-shift"];this.tooltipPosition=this.elementPositionController.calculatePosition({vertical:e,horizontal:i,parent:this,element:t,yShift:s,xShift:r,needUpdateElementWidth:n}),this.actualVerticalPosition=this.elementPositionController.getActualVerticalPosition({vertical:e,parent:this,element:t,yShift:s})}handleClick(){this["show-by-touch"]&&(this.visible=!this.visible,this.visible?this.updateTooltipPosition():this.tooltipPosition=null)}hideTooltipShowedByTouch(){this["show-by-touch"]&&(this.visible=!1,this.tooltipPosition=null)}hide(){this["show-by-touch"]||(this.visible=!1,this.tooltipPosition=null)}show(){this.disabled||this["show-by-touch"]||(this.visible=!0,this.updateTooltipPosition())}handleOrientationChange(){this.hideTooltipShowedByTouch()}connectedCallback(){super.connectedCallback(),Ge.forEach((t=>this.addEventListener(t,this.show))),Ye.forEach((t=>this.addEventListener(t,this.hide))),this.addEventListener("click",this.handleClick),this.addEventListener("blur",this.hideTooltipShowedByTouch),window.addEventListener("touchmove",this.hideTooltipShowedByTouch),window.addEventListener("orientationchange",this.handleOrientationChange),window.addEventListener("resize",this.hide)}disconnectedCallback(){super.disconnectedCallback(),Ge.forEach((t=>this.removeEventListener(t,this.show))),Ye.forEach((t=>this.removeEventListener(t,this.hide))),this.removeEventListener("click",this.handleClick),this.removeEventListener("blur",this.hideTooltipShowedByTouch),window.removeEventListener("touchmove",this.hideTooltipShowedByTouch),window.removeEventListener("orientationchange",this.handleOrientationChange),window.removeEventListener("resize",this.hide)}renderTooltip(){if(!this.visible)return K;const t=We({[Xe]:!0,[this.actualVerticalPosition]:!0,visible:Boolean(this.tooltipPosition)});return W`<ya-text
            font-size="xs"
            class=${t}
            style="left: ${this.tooltipPosition?.xOffset}; top: ${this.tooltipPosition?.yOffset}; max-width: ${this.tooltipPosition?.maxWidth}"
        >
            ${this.text}
            <slot name="title"></slot>
            <ya-icon class="tail">${Rt(Ne())}</ya-icon>
        </ya-text>`}render(){return W`${this.renderTooltip()}<slot></slot>`}};Je.styles=Ze,Ke([yt(`.${Xe}`)],Je.prototype,"tooltipElement",void 0),Ke([mt()],Je.prototype,"actualVerticalPosition",void 0),Ke([mt()],Je.prototype,"tooltipPosition",void 0),Ke([ft({reflect:!0,type:Boolean,attribute:"visible"})],Je.prototype,"visible",void 0),Ke([ft({reflect:!0,type:String,attribute:"horizontal-position"})],Je.prototype,"horizontal-position",void 0),Ke([ft({type:Boolean,attribute:"show-tail"})],Je.prototype,"show-tail",void 0),Ke([ft({type:Number,attribute:"y-shift"})],Je.prototype,"y-shift",void 0),Ke([ft({type:Number,attribute:"x-shift"})],Je.prototype,"x-shift",void 0),Ke([ft({type:Boolean,attribute:"show-by-touch"})],Je.prototype,"show-by-touch",void 0),Ke([ft({type:String,reflect:!0})],Je.prototype,"shape",void 0),Ke([ft({type:String,attribute:"text"})],Je.prototype,"text",void 0),Ke([ft({type:String,attribute:"preferred-vertical-position"})],Je.prototype,"preferred-vertical-position",void 0),Ke([ft({reflect:!0,type:Boolean,attribute:"disabled"})],Je.prototype,"disabled",void 0),Ke([Ue],Je.prototype,"hideTooltipShowedByTouch",null),Ke([Ue],Je.prototype,"hide",null),Ke([Ue],Je.prototype,"show",null),Ke([Ue],Je.prototype,"handleOrientationChange",null),Je=Ke([pt("nt-tooltip")],Je);const Qe="en",ti=JSON.parse('{"main_input_placeholder":"Text for translation","main_input_placeholder_short":"Text or link","add_new_history_tab":"Create","new_history_tab_name":"New chat","empty_messages_list_placeholder_dnd":"Drag and drop a pdf, txt, or docx file","drop_zone_title":"Drop your file here","drop_zone_subtitle":"Browser will translate","show_original_btn":"Original","show_translate_btn":"Translation","translated":"Translated","thread_renamed":"hat renamed","preview":"Preview","translation_into":"Translation into","go_to_translated_site":"Open translated site","text_copied":"Text copied","retry":"Try again","autodetect":"Language autodetect","header_text":"Translator","image_input_loader_text":"Loading","image_downloaded":"The image has been downloaded","download_file_loader_translate_text":"Translating","download_file_loader_recognize_text":"Recognizing","download_file_loader_send_text":"Sending","synonyms_header":"Alternatives","examples_header":"Usage examples","swap_langs":"Switch direction","attach_file":"Attach file","voice_recognition":"Voice input","enable_voice_input":"Allow the browser to access the microphone","voice_input_disabled":"There is no voice input for this language yet","good_translation":"Good translation","bad_translation":"Bad translation","download":"Download","download_image":"Download image","vocalize":"Vocalize","copy":"Copy","copy_text":"Copy text","delete":"Delete","deleted":"Deleted","chat_cleared":"Cleared","default_error_text":"Something went wrong","undo":"Undo","clear_messages":"Clear the chat","delete_warning_title":"Delete chat?","untitled":"Untitled {0}","delete_warning_content":"Chat and all translations in it will be permanently deleted.","rename":"Rename","not_found":"Nothing was found","cancel":"Cancel","search":"Search","send":"Send","send_cancel":"Cancel","appreciate_notification":"Appreciate your help!","offline_banner_title":"No internet connection","offline_banner_text":"You won\'t be able to translate without the Internet, but you can view the history. Check your Internet connection and","reload_page":"reload the page","document_download_error":"Failed to load document","image_download_error":"Failed to load image","image_no_text_error":"No text detected","image_no_text_by_rotation_error":"The text could not be recognized.\\nPerhaps the image is lying on its side.","file_translate_error":"Failed to translate file","network_recognition_error":"The voice could not be recognized due to network problems. Check your internet connection.","offline_warning":"Translator needs the Internet to be enabled","file_size_warning":"File is too big","file_format_warning":"File format is not supported","text_limit_warning":"Number of characters limit is 10000","empty_recognition_warning":"We didn\'t hear you, try again.","clear":"Clear","clear_chat_title":"Clear chat?","clear_chat_content":"All translations in the chat will be permanently deleted.","disclaimer_text":"There may be errors in neural network\'s responses.","disclaimer_link":"Learn more","idiom_example_explanation":"This is a definition from our bot","example_ref_translator":"Translator: {0}","example_ref_site_title":"Example from the site","reference_auto_translated":"Automatically translated","reference_book":"{0}, {1}.","reference_movie":"From the movie {0} Director  {1}.","reference_show":"From the TV show {0} Director  {1}.","document_footer_title":"The translation is made from {0}","document_footer_description":"If the source language is different, select it from the list of languages.","empty_messages_list_placeholder":"Translate in the chat","empty_messages_list_text":"Text","empty_messages_list_popup_text":"Vocabulary, pronunciation and usage examples","empty_messages_list_pictures":"Pictures","empty_messages_list_popup_pictures":"jpg, png up to 5 MB","empty_messages_list_documents":"Documents","empty_messages_list_popup_documents":"doc, docx, pdf, xls, xlsx, ppt, pptx up to 15 MB","empty_messages_list_websites":"Websites","empty_messages_list_popup_websites":"We will translate any website into the selected language","yandex_gpt_translate":"YandexGPT translation","yandex_gpt_translate__short":"YaGPT","yandex_gpt_tooltip":"We translate using the YandexGPT neural network","feedback_title":"What\'s wrong?","feedback_textarea_placeholder":"Tell us more about the problem","feedback_accuracy":"Error in translation accuracy","feedback_unnatural":"Unnatural translation","feedback_background_information_error":"Error in the reference information","feedback_hard_to_read":"It\'s hard to read","feedback_insufficient_background_information":"Insufficient background information","feedback_not_all_text":"Not all the text has been translated","feedback_other":"Other","feedback_tell_about_problem":"Tell us more about the problem","translate":"Translate","close":"Close","open_fullscreen":"Open in full-screen mode","lang_af":"Afrikaans","lang_am":"Amharic","lang_ar":"Arabic","lang_az":"Azerbaijani","lang_ba":"Bashkir","lang_be":"Belarusian","lang_bg":"Bulgarian","lang_bn":"Bengali","lang_bs":"Bosnian","lang_ca":"Catalan","lang_ceb":"Cebuano","lang_cs":"Czech","lang_cv":"Chuvash","lang_cy":"Welsh","lang_da":"Danish","lang_de":"German","lang_el":"Greek","lang_emj":"Emoji","lang_en":"English","lang_eo":"Esperanto","lang_es":"Spanish","lang_et":"Estonian","lang_eu":"Basque","lang_fa":"Persian","lang_fi":"Finnish","lang_fr":"French","lang_ga":"Irish","lang_gd":"Scottish Gaelic","lang_gl":"Galician","lang_gu":"Gujarati","lang_he":"Hebrew","lang_hi":"Hindi","lang_hr":"Croatian","lang_ht":"Haitian","lang_hu":"Hungarian","lang_hy":"Armenian","lang_id":"Indonesian","lang_is":"Icelandic","lang_it":"Italian","lang_ja":"Japanese","lang_jv":"Javanese","lang_ka":"Georgian","lang_kazlat":"Kazakh (Latin)","lang_kk":"Kazakh","lang_km":"Khmer","lang_kn":"Kannada","lang_ko":"Korean","lang_kv":"Komi","lang_ky":"Kyrgyz","lang_la":"Latin","lang_lb":"Luxembourgish","lang_lo":"Lao","lang_lt":"Lithuanian","lang_lv":"Latvian","lang_mg":"Malagasy","lang_mhr":"Meadow Mari","lang_mi":"Maori","lang_mk":"Macedonian","lang_ml":"Malayalam","lang_mn":"Mongolian","lang_mr":"Marathi","lang_mrj":"Hill Mari","lang_ms":"Malay","lang_mt":"Maltese","lang_my":"Burmese","lang_ne":"Nepali","lang_nl":"Dutch","lang_no":"Norwegian","lang_pa":"Punjabi","lang_pap":"Papiamento","lang_pl":"Polish","lang_pt":"Portuguese","lang_pt-BR":"Portuguese (Brazilian)","lang_ro":"Romanian","lang_ru":"Russian","lang_sah":"Sakha","lang_si":"Sinhala","lang_sjn":"Elvish (Sindarin)","lang_sk":"Slovak","lang_sl":"Slovenian","lang_sq":"Albanian","lang_sr":"Serbian","lang_sr-Latn":"Serbian (Latin)","lang_su":"Sundanese","lang_sv":"Swedish","lang_sw":"Swahili","lang_ta":"Tamil","lang_te":"Telugu","lang_tg":"Tajik","lang_th":"Thai","lang_tl":"Tagalog","lang_tr":"Turkish","lang_tt":"Tatar","lang_tyv":"Tuvan","lang_udm":"Udmurt","lang_uk":"Ukrainian","lang_ur":"Urdu","lang_uz":"Uzbek","lang_uzbcyr":"Uzbek (Cyrillic)","lang_vi":"Vietnamese","lang_xh":"Xhosa","lang_yi":"Yiddish","lang_zh":"Chinese","lang_zu":"Zulu","a11y_swap_button":"Swap translation direction","a11y_clip_btn":"Attach file","a11y_close_btn":"Close","a11y_copy_btn":"Copy","a11y_create_chat":"Create new chat","a11y_tts_btn":"Vocalize","a11y_asr_btn":"Voice input","a11y_download_btn":"Download","a11y_like_btn":"Good translation","a11y_dislike_btn":"Bad translation","a11y_synonyms_list":"Synonyms: ","a11y_examples_list":"Usage examples: ","a11y_expand_btn":"Expand","a11y_collapse_btn":"Collapse","a11y_translated_image":"Translated image","a11y_translated_image_size":"Size","a11y_translated_image_pxl":"pixels","a11y_actions_btn":"Actions","a11y_actions_panel":"Select action","a11y_lang_select_panel":"Language selection panel","a11y_image_viewer":"Image viewer","a11y_btn_selected":"Selected","a11y_btn_not_selected":"Not selected","a11y_empty_messages_cards":"Text Pictures Websites","a11y_original_lang_btn":"Original language","a11y_translation_lang_btn":"Translation language","a11y_lang":"Language","a11y_message":"Text of the message","a11y_close_translator":"Close translator","part_of_speech_cnj":"conj","part_of_speech_pdv":"predicative","part_of_speech_ptp":"part","part_of_speech_inj":"interjection","part_of_speech_det":"determiner","part_of_speech_adv":"adverb","part_of_speech_pnt":"punctuation","part_of_speech_dee":"adv part","part_of_speech_prn":"pronoun","part_of_speech_dtn":"det","part_of_speech_adj":"adj","part_of_speech_prp":"prep","part_of_speech_postp":"postp","part_of_speech_pth":"parenthetic","part_of_speech_nn":"noun","part_of_speech_pt":"part","part_of_speech_vrb":"verb","part_of_speech_dgt":"digits","part_of_speech_num":"numeral","part_of_speech_inv":"invariable","part_of_speech_frn":"foreign word"}'),ei=JSON.parse('{"main_input_placeholder":"   "," main_input_placeholder_short":"  ","add_new_history_tab":"","new_history_tab_name":" ","empty_messages_list_placeholder_dnd":"  pdf, txt  docx","drop_zone_title":"","drop_zone_subtitle":"  ","show_original_btn":"","show_translate_btn":"","translated":"","thread_renamed":" ","preview":"","translation_into":" ","go_to_translated_site":"  ","text_copied":" ","retry":" ","autodetect":" ","header_text":"","image_input_loader_text":"","image_downloaded":" ","download_file_loader_translate_text":"","download_file_loader_recognize_text":"","download_file_loader_send_text":"","offline_banner_title":"   ","offline_banner_text":"      ,     .   ","reload_page":" ","synonyms_header":" ","examples_header":" ","swap_langs":" ","attach_file":" ","voice_recognition":" ","enable_voice_input":"    ","voice_input_disabled":"      ","good_translation":" ","bad_translation":" ","download":"","download_image":" ","vocalize":"","copy":"","copy_text":" ","delete":"","deleted":"","chat_cleared":" ","default_error_text":"-   ","undo":"","clear_messages":" ","delete_warning_title":" ?","untitled":"  {0}","delete_warning_content":"          .","rename":"","not_found":"  ","cancel":"","search":"","send":"","send_cancel":"","appreciate_notification":"  !","file_translate_error":"   ","image_download_error":"   ","image_no_text_error":"  ","image_no_text_by_rotation_error":"   .\\n,    .","document_download_error":"   ","network_recognition_error":"    -   .    .","offline_warning":"    ","file_size_warning":"  ","file_format_warning":"   ","text_limit_warning":"   - 10000","empty_recognition_warning":"   ,   .","clear":"","clear_chat_title":" ?","clear_chat_content":"        .","disclaimer_text":"     .","disclaimer_link":"","idiom_example_explanation":"    ","example_ref_translator":": {0}","example_ref_site_title":"  ","reference_auto_translated":" ","reference_book":"{0}, {1}.","reference_movie":"  {0}.   {1}.","reference_show":"  {0}.   {1}.","document_footer_title":"   {0}","document_footer_description":"         .","empty_messages_list_placeholder":"  ","empty_messages_list_text":"","empty_messages_list_popup_text":",    ","empty_messages_list_pictures":"","empty_messages_list_popup_pictures":"jpg, png  5 ","empty_messages_list_documents":"","empty_messages_list_popup_documents":"doc, docx, pdf, xls, xlsx, ppt, pptx  15 ","empty_messages_list_websites":"","empty_messages_list_popup_websites":"     ","yandex_gpt_translate":" YandexGPT","yandex_gpt_translate__short":"YaGPT","yandex_gpt_tooltip":"    YandexGPT","feedback_title":"  ?","feedback_textarea_placeholder":"   ","feedback_accuracy":"   ","feedback_unnatural":" ","feedback_background_information_error":"   ","feedback_hard_to_read":" ","feedback_insufficient_background_information":"  ","feedback_not_all_text":"   ","feedback_other":"","feedback_tell_about_problem":"   ","translate":"","close":"","open_fullscreen":"   ","lang_af":"","lang_am":"","lang_ar":"","lang_az":"","lang_ba":"","lang_be":"","lang_bg":"","lang_bn":"","lang_bs":"","lang_ca":"","lang_ceb":"","lang_cs":"","lang_cv":"","lang_cy":"","lang_da":"","lang_de":"","lang_el":"","lang_emj":"","lang_en":"","lang_eo":"","lang_es":"","lang_et":"","lang_eu":"","lang_fa":"","lang_fi":"","lang_fr":"","lang_ga":"","lang_gd":" ()","lang_gl":"","lang_gu":"","lang_he":"","lang_hi":"","lang_hr":"","lang_ht":"","lang_hu":"","lang_hy":"","lang_id":"","lang_is":"","lang_it":"","lang_ja":"","lang_jv":"","lang_ka":"","lang_kazlat":" ()","lang_kk":"","lang_km":"","lang_kn":"","lang_ko":"","lang_kv":"","lang_ky":"","lang_la":"","lang_lb":"","lang_lo":"","lang_lt":"","lang_lv":"","lang_mg":"","lang_mhr":"","lang_mi":"","lang_mk":"","lang_ml":"","lang_mn":"","lang_mr":"","lang_mrj":"","lang_ms":"","lang_mt":"","lang_my":"","lang_ne":"","lang_nl":"","lang_no":"","lang_pa":"","lang_pap":"","lang_pl":"","lang_pt":"","lang_pt-BR":" ()","lang_ro":"","lang_ru":"","lang_sah":"","lang_si":"","lang_sjn":" ()","lang_sk":"","lang_sl":"","lang_sq":"","lang_sr":"","lang_sr-Latn":" ()","lang_su":"","lang_sv":"","lang_sw":"","lang_ta":"","lang_te":"","lang_tg":"","lang_th":"","lang_tl":"","lang_tr":"","lang_tt":"","lang_tyv":"","lang_udm":"","lang_uk":"","lang_ur":"","lang_uz":"","lang_uzbcyr":" ()","lang_vi":"","lang_xh":"","lang_yi":"","lang_zh":"","lang_zu":"","lang_genitive_af":"","lang_genitive_am":"","lang_genitive_ar":"","lang_genitive_az":"","lang_genitive_ba":"","lang_genitive_be":"","lang_genitive_bg":"","lang_genitive_bn":"","lang_genitive_bs":"","lang_genitive_ca":"","lang_genitive_ceb":"","lang_genitive_cs":"","lang_genitive_cv":"","lang_genitive_cy":"","lang_genitive_da":"","lang_genitive_de":"","lang_genitive_el":"","lang_genitive_emj":"","lang_genitive_en":"","lang_genitive_eo":"","lang_genitive_es":"","lang_genitive_et":"","lang_genitive_eu":"","lang_genitive_fa":"","lang_genitive_fi":"","lang_genitive_fr":"","lang_genitive_ga":"","lang_genitive_gd":" ()","lang_genitive_gl":"","lang_genitive_gu":"","lang_genitive_he":"","lang_genitive_hi":"","lang_genitive_hr":"","lang_genitive_ht":"","lang_genitive_hu":"","lang_genitive_hy":"","lang_genitive_id":"","lang_genitive_is":"","lang_genitive_it":"","lang_genitive_ja":"","lang_genitive_jv":"","lang_genitive_ka":"","lang_genitive_kazlat":" ()","lang_genitive_kk":"","lang_genitive_km":"","lang_genitive_kn":"","lang_genitive_ko":"","lang_genitive_kv":"","lang_genitive_ky":"","lang_genitive_la":"","lang_genitive_lb":"","lang_genitive_lo":"","lang_genitive_lt":"","lang_genitive_lv":"","lang_genitive_mg":"","lang_genitive_mhr":"","lang_genitive_mi":"","lang_genitive_mk":"","lang_genitive_ml":"","lang_genitive_mn":"","lang_genitive_mr":"","lang_genitive_mrj":"","lang_genitive_ms":"","lang_genitive_mt":"","lang_genitive_my":"","lang_genitive_ne":"","lang_genitive_nl":"","lang_genitive_no":"","lang_genitive_pa":"","lang_genitive_pap":"","lang_genitive_pl":"","lang_genitive_pt":"","lang_genitive_pt-BR":" ()","lang_genitive_ro":"","lang_genitive_ru":"","lang_genitive_sah":"","lang_genitive_si":"","lang_genitive_sjn":" ()","lang_genitive_sk":"","lang_genitive_sl":"","lang_genitive_sq":"","lang_genitive_sr":"","lang_genitive_sr-Latn":" ()","lang_genitive_su":"","lang_genitive_sv":"","lang_genitive_sw":"","lang_genitive_ta":"","lang_genitive_te":"","lang_genitive_tg":"","lang_genitive_th":"","lang_genitive_tl":"","lang_genitive_tr":"","lang_genitive_tt":"","lang_genitive_tyv":"","lang_genitive_udm":"","lang_genitive_uk":"","lang_genitive_ur":"","lang_genitive_uz":"","lang_genitive_uzbcyr":" ()","lang_genitive_vi":"","lang_genitive_xh":"","lang_genitive_zh":"","a11y_swap_button":"  ","a11y_clip_btn":" ","a11y_close_btn":"","a11y_copy_btn":"","a11y_create_chat":"  ","a11y_tts_btn":"","a11y_asr_btn":" ","a11y_download_btn":"","a11y_like_btn":" ","a11y_dislike_btn":" ","a11y_synonyms_list":": ","a11y_examples_list":" : ","a11y_expand_btn":"","a11y_collapse_btn":"","a11y_translated_image":" ","a11y_translated_image_size":"","a11y_translated_image_pxl":"","a11y_actions_btn":"","a11y_actions_panel":" ","a11y_lang_select_panel":"  ","a11y_image_viewer":" ","a11y_btn_selected":"","a11y_btn_not_selected":" ","a11y_empty_messages_cards":"  ","a11y_original_lang_btn":" ","a11y_translation_lang_btn":" ","a11y_lang":"","a11y_message":" ","a11y_close_translator":" ","part_of_speech_cnj":"","part_of_speech_pdv":"","part_of_speech_ptp":"","part_of_speech_inj":"","part_of_speech_det":"","part_of_speech_adv":"","part_of_speech_pnt":" ","part_of_speech_dee":"","part_of_speech_prn":"","part_of_speech_dtn":"","part_of_speech_adj":"","part_of_speech_prp":"","part_of_speech_postp":"","part_of_speech_pth":" ","part_of_speech_nn":"","part_of_speech_pt":"","part_of_speech_vrb":"","part_of_speech_dgt":"","part_of_speech_num":"","part_of_speech_inv":"","part_of_speech_frn":" "}'),ii={ru:ei,en:ti,kk:ei,uk:ei,uz:ei,be:ei};class ni{constructor(t){this.yandexApiService=t,this.userLocale=Qe,this.isLocalesReady=!1}async initLocalesSystem(){const t=await this.yandexApiService.getApplicationLocale();Object.keys(ii).includes(t)?this.userLocale=t:this.userLocale=Qe,this.isLocalesReady=!0;const e=document.querySelector("html");e&&(e.lang=this.userLocale)}async getCurrentLocale(){return this.userLocale}getText(t){return ii[this.userLocale][t]}getLangName(t){return ii[this.userLocale][`lang_${t}`]}getLangNameGenitive(t){return ii[this.userLocale][`lang_genitive_${t}`]}}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class si extends Event{constructor(t,e,i){super("context-request",{bubbles:!0,composed:!0}),this.context=t,this.callback=e,this.subscribe=i??!1}}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class ri{constructor(t,e,i,n){if(this.subscribe=!1,this.provided=!1,this.value=void 0,this.t=(t,e)=>{this.unsubscribe&&(this.unsubscribe!==e&&(this.provided=!1,this.unsubscribe()),this.subscribe||this.unsubscribe()),this.value=t,this.host.requestUpdate(),this.provided&&!this.subscribe||(this.provided=!0,this.callback&&this.callback(t,e)),this.unsubscribe=e},this.host=t,void 0!==e.context){const t=e;this.context=t.context,this.callback=t.callback,this.subscribe=t.subscribe??!1}else this.context=e,this.callback=i,this.subscribe=n??!1;this.host.addController(this)}hostConnected(){this.dispatchRequest()}hostDisconnected(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}dispatchRequest(){this.host.dispatchEvent(new si(this.context,this.t,this.subscribe))}}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class ai{get value(){return this.o}set value(t){this.setValue(t)}setValue(t,e=!1){const i=e||!Object.is(t,this.o);this.o=t,i&&this.updateObservers()}constructor(t){this.subscriptions=new Map,this.updateObservers=()=>{for(const[t,{disposer:e}]of this.subscriptions)t(this.o,e)},void 0!==t&&(this.value=t)}addCallback(t,e,i){if(!i)return void t(this.value);this.subscriptions.has(t)||this.subscriptions.set(t,{disposer:()=>{this.subscriptions.delete(t)},consumerHost:e});const{disposer:n}=this.subscriptions.get(t);t(this.value,n)}clearCallbacks(){this.subscriptions.clear()}}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class oi extends Event{constructor(t){super("context-provider",{bubbles:!0,composed:!0}),this.context=t}}class li extends ai{constructor(t,e,i){super(void 0!==e.context?e.initialValue:i),this.onContextRequest=t=>{const e=t.composedPath()[0];t.context===this.context&&e!==this.host&&(t.stopPropagation(),this.addCallback(t.callback,e,t.subscribe))},this.onProviderRequest=t=>{const e=t.composedPath()[0];if(t.context!==this.context||e===this.host)return;const i=new Set;for(const[t,{consumerHost:e}]of this.subscriptions)i.has(t)||(i.add(t),e.dispatchEvent(new si(this.context,t,!0)));t.stopPropagation()},this.host=t,void 0!==e.context?this.context=e.context:this.context=e,this.attachListeners(),this.host.addController?.(this)}attachListeners(){this.host.addEventListener("context-request",this.onContextRequest),this.host.addEventListener("context-provider",this.onProviderRequest)}hostConnected(){this.host.dispatchEvent(new oi(this.context))}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
function ci({context:t}){return(e,i)=>{const n=new WeakMap;if("object"==typeof i)return i.addInitializer((function(){n.set(this,new li(this,{context:t}))})),{get(){return e.get.call(this)},set(t){return n.get(this)?.setValue(t),e.set.call(this,t)},init(t){return n.get(this)?.setValue(t),t}};{e.constructor.addInitializer((e=>{n.set(e,new li(e,{context:t}))}));const s=Object.getOwnPropertyDescriptor(e,i);let r;if(void 0===s){const t=new WeakMap;r={get(){return t.get(this)},set(e){n.get(this).setValue(e),t.set(this,e)},configurable:!0,enumerable:!0}}else{const t=s.set;r={...s,set(e){n.get(this).setValue(e),t?.call(this,e)}}}return void Object.defineProperty(e,i,r)}}}
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
function hi({context:t,subscribe:e}){return(i,n)=>{"object"==typeof n?n.addInitializer((function(){new ri(this,{context:t,callback:t=>{i.set.call(this,t)},subscribe:e})})):i.constructor.addInitializer((i=>{new ri(i,{context:t,callback:t=>{i[n]=t},subscribe:e})}))}}const di="locales",pi="settings";var ui=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};class gi{constructor(t,e){this.getSettingsContext=t,this.setSettingsContext=e,this.settingsStorage=of.resolve(rf.SettingsStorage),this.setSettingsContext(this.getInitialSettingsContext()),this.settingsStorage.attachOptionChangeListener("autodetect",this.handleSettingsAutodetectOptionChange),this.settingsStorage.attachOptionChangeListener("showOnboarding",this.handleSettingsShowOnboardingOptionChange)}disconnect(){this.settingsStorage.detachOptionChangeListener("autodetect",this.handleSettingsAutodetectOptionChange),this.settingsStorage.detachOptionChangeListener("showOnboarding",this.handleSettingsShowOnboardingOptionChange)}getInitialSettingsContext(){return{isAutodetectEnabled:this.settingsStorage.isOptionEnabled("autodetect"),setIsAutodetectEnabled:t=>{this.settingsStorage.setIsOptionEnabled("autodetect",t)},getBannedExamplesIds:()=>this.settingsStorage.getBannedExamplesIds(),isShowOnboardingEnabled:this.settingsStorage.isOptionEnabled("showOnboarding"),setIsShowOnboardingEnabled:t=>{this.settingsStorage.setIsOptionEnabled("showOnboarding",t)}}}handleSettingsAutodetectOptionChange(t){this.setSettingsContext({...this.getSettingsContext(),isAutodetectEnabled:t??!1})}handleSettingsShowOnboardingOptionChange(t){this.setSettingsContext({...this.getSettingsContext(),isShowOnboardingEnabled:t??!1})}}ui([Ue],gi.prototype,"handleSettingsAutodetectOptionChange",null),ui([Ue],gi.prototype,"handleSettingsShowOnboardingOptionChange",null);class fi{constructor(){this.state={},this.listeners=new Map}getState(t){return this.state[t]}getListeners(t){return this.listeners.get(t)??[]}attachStateChangeListener(t,e){const i=this.listeners.get(t)??[];this.listeners.set(t,[...i,e])}detachStateChangeListener(t,e){const i=(this.listeners.get(t)??[]).filter((t=>t!==e));this.listeners.set(t,i)}setState(t,e){this.state[t]!==e&&(this.state[t]=e,this.listeners.get(t)?.forEach((t=>t(e))))}}function mi(t,e={}){try{return JSON.parse(t)??e}catch{return e}}function vi(t){return JSON.stringify(t).replace(/</g,"\\u003c").replace(/>/g,"\\u003e")}const yi=["autodetect","showOnboarding"],xi=new Set(["f176b811351dccf4c7ef26b04dec68e1"]);class bi extends fi{constructor(){super();const t=this.getRestoredSettings();for(const e of yi)this.setState(e,t[e])}isOptionEnabled(t){return"familyMode"===t||(this.getState(t)??!1)}setIsOptionEnabled(t,e){this.setState(t,e),this.saveSettingsToLS()}getBannedExamplesIds(){return xi}attachOptionChangeListener(t,e){this.attachStateChangeListener(t,e)}detachOptionChangeListener(t,e){this.detachStateChangeListener(t,e)}saveSettingsToLS(){const t=bi.DEFAULT_SETTINGS;for(const e of yi){const i=this.getState(e);void 0!==i&&(t[e]=i)}const e=vi(t);localStorage.setItem(bi.LS_KEY_SETTINGS,e)}getRestoredSettings(){const t=mi(localStorage.getItem(bi.LS_KEY_SETTINGS)??"",bi.DEFAULT_SETTINGS);for(const e of yi)void 0===t[e]&&(t[e]=bi.DEFAULT_SETTINGS[e]);return t}}var wi;function _i(t){return t instanceof Error?t.message:""}bi.LS_KEY_SETTINGS="yaTrSettings",bi.DEFAULT_SETTINGS={autodetect:!0,showOnboarding:!0,familyMode:!0},function(t){t.Files="MessagesPairsFiles",t.Threads="ThreadList",t.MessagesPairs="MessagesPairsList",t.MessagesPairsVotes="MessagesPairsVotes"}(wi||(wi={}));const Ci=(t,e)=>e.some((e=>t instanceof e));let Si,Ti;const ki=new WeakMap,Ei=new WeakMap,Pi=new WeakMap;let Li={get(t,e,i){if(t instanceof IDBTransaction){if("done"===e)return ki.get(t);if("store"===e)return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Oi(t[e])},set:(t,e,i)=>(t[e]=i,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Ii(t){Li=t(Li)}function Mi(t){return(Ti||(Ti=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(Ri(this),e),Oi(this.request)}:function(...e){return Oi(t.apply(Ri(this),e))}}function Ai(t){return"function"==typeof t?Mi(t):(t instanceof IDBTransaction&&function(t){if(ki.has(t))return;const e=new Promise(((e,i)=>{const n=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",r),t.removeEventListener("abort",r)},s=()=>{e(),n()},r=()=>{i(t.error||new DOMException("AbortError","AbortError")),n()};t.addEventListener("complete",s),t.addEventListener("error",r),t.addEventListener("abort",r)}));ki.set(t,e)}(t),Ci(t,Si||(Si=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,Li):t)}function Oi(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,i)=>{const n=()=>{t.removeEventListener("success",s),t.removeEventListener("error",r)},s=()=>{e(Oi(t.result)),n()},r=()=>{i(t.error),n()};t.addEventListener("success",s),t.addEventListener("error",r)}));return Pi.set(e,t),e}(t);if(Ei.has(t))return Ei.get(t);const e=Ai(t);return e!==t&&(Ei.set(t,e),Pi.set(e,t)),e}const Ri=t=>Pi.get(t);const Di=["get","getKey","getAll","getAllKeys","count"],ji=["put","add","delete","clear"],$i=new Map;function Fi(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if($i.get(e))return $i.get(e);const i=e.replace(/FromIndex$/,""),n=e!==i,s=ji.includes(i);if(!(i in(n?IDBIndex:IDBObjectStore).prototype)||!s&&!Di.includes(i))return;const r=async function(t,...e){const r=this.transaction(t,s?"readwrite":"readonly");let a=r.store;return n&&(a=a.index(e.shift())),(await Promise.all([a[i](...e),s&&r.done]))[0]};return $i.set(e,r),r}Ii((t=>({...t,get:(e,i,n)=>Fi(e,i)||t.get(e,i,n),has:(e,i)=>!!Fi(e,i)||t.has(e,i)})));const zi=["continue","continuePrimaryKey","advance"],Bi={},Ni=new WeakMap,Vi=new WeakMap,Hi={get(t,e){if(!zi.includes(e))return t[e];let i=Bi[e];return i||(i=Bi[e]=function(...t){Ni.set(this,Vi.get(this)[e](...t))}),i}};async function*Ui(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;const i=new Proxy(e,Hi);for(Vi.set(i,e),Pi.set(i,Ri(e));e;)yield i,e=await(Ni.get(i)||e.continue()),Ni.delete(i)}function qi(t,e){return e===Symbol.asyncIterator&&Ci(t,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===e&&Ci(t,[IDBIndex,IDBObjectStore])}Ii((t=>({...t,get:(e,i,n)=>qi(e,i)?Ui:t.get(e,i,n),has:(e,i)=>qi(e,i)||t.has(e,i)})));class Wi extends Error{constructor(t){super(""),this.payload=t}}class Zi extends Wi{constructor(t){super({message:t}),this.source="indexedDB",this.name="IndexedDBException"}}class Ki extends Zi{constructor(){super(...arguments),this.name="IndexedDBInitializationException"}}class Gi{constructor(){this.dbPromise=this.initDB()}getDBInstance(){return this.dbPromise}async initDB(){try{let t=6;const e=await function(t,e,{blocked:i,upgrade:n,blocking:s,terminated:r}={}){const a=indexedDB.open(t,e),o=Oi(a);return n&&a.addEventListener("upgradeneeded",(t=>{n(Oi(a.result),t.oldVersion,t.newVersion,Oi(a.transaction),t)})),i&&a.addEventListener("blocked",(t=>i(t.oldVersion,t.newVersion,t))),o.then((t=>{r&&t.addEventListener("close",(()=>r())),s&&t.addEventListener("versionchange",(t=>s(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),o}("ya_bro_chat",6,{blocked:t=>{this.trackingService.trackEvent("tech.db_blocked",{old_version:t,blocked_version:6})},upgrade:(e,i,n,s)=>{if(this.trackingService.trackEvent("tech.db_upgrade",{old_version:i,new_version:6}),t=i,i<5){e.createObjectStore(wi.Threads,{keyPath:"id"});e.createObjectStore(wi.MessagesPairs,{keyPath:"id"}).createIndex("by_thread_id","threadId",{unique:!1});e.createObjectStore(wi.MessagesPairsVotes,{keyPath:"id"}).createIndex("by_messagePair_id","messagePairId",{unique:!1}),e.createObjectStore(wi.Files,{keyPath:"id"})}if(i<6){const t=s.objectStore(wi.Files);t.indexNames.contains("by_messagePair_id")||t.createIndex("by_messagePair_id","messagePairId",{unique:!1})}}});return this.trackingService.trackEvent("tech.db_open",{version:t}),e}catch(t){const e=_i(t);throw new Ki(e)}}get trackingService(){return of.resolve(rf.TrackingService)}}class Yi extends Wi{constructor(t){super({message:t}),this.source="files-repository",this.name="FileRepositoryException"}}class Xi extends Yi{constructor(){super(...arguments),this.name="GetByIdFilesRepositoryException"}}class Ji extends Yi{constructor(){super(...arguments),this.name="GetAllFilesRepositoryException"}}class Qi extends Yi{constructor(){super(...arguments),this.name="GetFilesRepositoryException"}}class tn extends Yi{constructor(){super(...arguments),this.name="AddFilesRepositoryException"}}class en extends Yi{constructor(){super(...arguments),this.name="UpdateFilesRepositoryException"}}class nn extends Yi{constructor(){super(...arguments),this.name="DeleteFilesRepositoryException"}}function sn(t){return{id:t.id,file:t.file,type:t.type,messagePairId:t.messagePairId}}class rn{constructor(t){this.indexedDbStorage=t}async getById(t){try{return this.getByIdInternal(t)}catch(t){const e=t instanceof Error?t.message:"";throw new Xi(e)}}async getByIdInternal(t){const e=await this.indexedDbStorage.getDBInstance(),i=await e.get(wi.Files,t);return i?sn(i):void 0}async getAll(){try{return this.getAllInternal()}catch(t){const e=t instanceof Error?t.message:"";throw new Ji(e)}}async getAllInternal(){const t=await this.indexedDbStorage.getDBInstance();return(await t.getAll(wi.Files)).map((t=>sn(t)))}async get(t,e){try{return this.getInternal(t,e)}catch(t){const e=t instanceof Error?t.message:"";throw new Qi(e)}}async getInternal(t,e){const i=await this.indexedDbStorage.getDBInstance();return(await i.getAllFromIndex(wi.Files,t,IDBKeyRange.only(e))).map((t=>sn(t)))}async add(t,e){try{await this.addInternal(t,e)}catch(t){const e=t instanceof Error?t.message:"";throw new tn(e)}}async addInternal(t,e){const i=await this.indexedDbStorage.getDBInstance(),n=e??i.transaction(wi.Files,"readwrite"),s=n.objectStore(wi.Files);await s.add({id:t.id,file:t.file,type:t.type,messagePairId:t.messagePairId}),e||await n.done}async update(t,e){try{await this.updateInternal(t,e)}catch(t){const e=t instanceof Error?t.message:"";throw new en(e)}}async updateInternal(t,e){const i=await this.indexedDbStorage.getDBInstance(),n=e??i.transaction(wi.Files,"readwrite"),s=n.objectStore(wi.Files);await s.put({id:t.id,file:t.file,type:t.type,messagePairId:t.messagePairId}),e||await n.done}async delete(t,e,i){try{await this.deleteInternal(t,e,i)}catch(t){const e=t instanceof Error?t.message:"";throw new nn(e)}}async deleteInternal(t,e,i){const n=await this.indexedDbStorage.getDBInstance(),s=i??n.transaction(wi.Files,"readwrite"),r=s.objectStore(wi.Files);if("id"===t){const t=await r.get(e);t&&await r.delete(t.id)}if("by_messagePair_id"===t){const t=await r.index("by_messagePair_id").getAll(IDBKeyRange.only(e));for(const e of t)await(r?.delete(e.id))}i||await s.done}}function an(t,e){const i=t.srcLang,n=t.dstLang,s=e.srcLang,r=e.dstLang;return!s&&r===i||!r&&s===n?{srcLang:n,dstLang:i}:{srcLang:s??i,dstLang:r??n}}const on="sjn",ln={srcLang:"en",dstLang:"ru"},cn="langs";var hn,dn,pn,un,gn=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};class fn{constructor(t,e){this.getLangsContext=t,this.setLangsContext=e,this.langsStorage=of.resolve(rf.LangsStorage),this.setLangsContext(this.getInitialLangsContext()),this.langsStorage.attachLangsChangeListener(this.handleLangsChange),this.langsStorage.attachLangsHistoryChangeListener("src",this.handleSrcLangsHistoryChange),this.langsStorage.attachLangsHistoryChangeListener("dst",this.handleDstLangsHistoryChange)}disconnect(){this.langsStorage.detachLangsChangeListener(this.handleLangsChange),this.langsStorage.detachLangsHistoryChangeListener("src",this.handleSrcLangsHistoryChange),this.langsStorage.detachLangsHistoryChangeListener("dst",this.handleDstLangsHistoryChange)}getInitialLangsContext(){return{langsPair:this.langsStorage.getLangsPair(),activeMessagePopup:void 0,setActiveMessagePopup:t=>{this.setLangsContext({...this.getLangsContext(),activeMessagePopup:t})},setSrcLang:t=>this.langsStorage.setSrcLang(t),setDstLang:t=>this.langsStorage.setDstLang(t),swapLangs:()=>this.langsStorage.swapLangs(),dstLangsHistory:this.langsStorage.getLangsHistory("dst"),srcLangsHistory:this.langsStorage.getLangsHistory("src"),addLangToHistory:(t,e)=>this.langsStorage.addLangToHistory(t,e)}}handleLangsChange(t){t&&this.setLangsContext({...this.getLangsContext(),langsPair:t})}handleSrcLangsHistoryChange(t){t&&this.setLangsContext({...this.getLangsContext(),srcLangsHistory:t})}handleDstLangsHistoryChange(t){t&&this.setLangsContext({...this.getLangsContext(),dstLangsHistory:t})}}gn([Ue],fn.prototype,"handleLangsChange",null),gn([Ue],fn.prototype,"handleSrcLangsHistoryChange",null),gn([Ue],fn.prototype,"handleDstLangsHistoryChange",null);class mn extends fi{constructor(){super();const t=this.restoreLangsFromLS();this.setLangsPair(t);const e=this.restoreLangsHistoryFromLS("src");this.setState(mn.SRC_LANGS_HISTORY_STATE_KEY,e);const i=this.restoreLangsHistoryFromLS("dst");this.setState(mn.DST_LANGS_HISTORY_STATE_KEY,i)}getLangsPair(){return this.getState(mn.LANGS_PAIR_STATE_KEY)}swapLangs(){const{srcLang:t,dstLang:e}=this.getLangsPair(),i={srcLang:e,dstLang:t};this.setLangsPair(i)}setSrcLang(t){const e=this.getLangsPair();t!==e.srcLang&&this.setLangsPair(an(e,{srcLang:t}))}setDstLang(t){const e=this.getLangsPair();t!==e.dstLang&&this.setLangsPair(an(e,{dstLang:t}))}getLangsHistory(t){const e=this.getLangsHistoryKey(t),i=this.getState(e);return i?.length?i:["en","ru"]}addLangToHistory(t,e){const i=this.getLangsHistory(t).filter((t=>t!==e));i.unshift(e);const n=i.slice(0,mn.MAX_LANGS_HISTORY_CAPACITY),s=this.getLangsHistoryKey(t);this.setState(s,n),this.saveLangsHistoryToLS(t)}attachLangsChangeListener(t){this.attachStateChangeListener(mn.LANGS_PAIR_STATE_KEY,t)}detachLangsChangeListener(t){this.detachStateChangeListener(mn.LANGS_PAIR_STATE_KEY,t)}attachLangsHistoryChangeListener(t,e){const i=this.getLangsHistoryKey(t);this.attachStateChangeListener(i,e)}detachLangsHistoryChangeListener(t,e){const i=this.getLangsHistoryKey(t);this.detachStateChangeListener(i,e)}getLangsHistoryKey(t){return"src"===t?mn.SRC_LANGS_HISTORY_STATE_KEY:mn.DST_LANGS_HISTORY_STATE_KEY}getLangsHistoryLSKey(t){return"src"===t?mn.LS_KEY_SRC_LANGS_HISTORY:mn.LS_KEY_DST_LANGS_HISTORY}setLangsPair(t){this.setState(mn.LANGS_PAIR_STATE_KEY,t),this.saveLangsToLS()}saveLangsToLS(){const t=vi(this.getLangsPair());localStorage.setItem(mn.LS_KEY_LANGS,t)}restoreLangsFromLS(){return mi(localStorage.getItem(mn.LS_KEY_LANGS)??"",ln)}saveLangsHistoryToLS(t){const e=this.getLangsHistoryLSKey(t),i=vi(this.getLangsHistory(t));localStorage.setItem(e,i)}restoreLangsHistoryFromLS(t){const e=this.getLangsHistoryLSKey(t);return mi(localStorage.getItem(e)??"",[])}}function vn(t){return t.type===un.Text}function yn(t){return t.type===un.Image}function xn(t){return t.type===un.Site}function bn(t){return t.type===un.Document}mn.LANGS_PAIR_STATE_KEY="langsPair",mn.SRC_LANGS_HISTORY_STATE_KEY="srcLangsHistory",mn.DST_LANGS_HISTORY_STATE_KEY="dstLangsHistory",mn.MAX_LANGS_HISTORY_CAPACITY=5,mn.LS_KEY_LANGS="yaTrLangs",mn.LS_KEY_SRC_LANGS_HISTORY="yaTrSrcLangsHistory",mn.LS_KEY_DST_LANGS_HISTORY="yaTrDstLangsHistory",function(t){t.Pending="Pending",t.Rewriting="Rewriting",t.Ready="Ready",t.Error="Error"}(hn||(hn={})),function(t){t.UploadingPending="UploadingPending",t.UploadingSuccess="UploadingSuccess",t.UploadingError="UploadingError",t.TranslationPending="TranslationPending",t.TranslationRewriting="TranslationRewriting",t.TranslationSuccess="TranslationSuccess",t.TranslationError="TranslationError"}(dn||(dn={})),function(t){t.RecognizePending="RecognizePending",t.RecognizeRewriting="RecognizeRewriting",t.RecognizeSuccess="RecognizeSuccess",t.RecognizeNoTextError="RecognizeNoTextError",t.RecognizeNoTextAfterRotationError="RecognizeNoTextAfterRotationError",t.RecognizeError="RecognizeError",t.TranslationPending="TranslationPending",t.TranslationRewriting="TranslationRewriting",t.TranslationSuccess="TranslationSuccess",t.TranslationError="TranslationError"}(pn||(pn={})),function(t){t.Text="text",t.Image="image",t.Site="site",t.Document="document"}(un||(un={}));const wn=t=>t===hn.Ready,_n=t=>t===hn.Pending,Cn=t=>t===hn.Rewriting,Sn=t=>t===hn.Error,Tn=t=>t===pn.TranslationPending,kn=t=>t===pn.RecognizeRewriting,En=t=>t===pn.TranslationRewriting,Pn=t=>t===pn.RecognizeError,Ln=t=>t===pn.RecognizeNoTextError,In=t=>t===pn.RecognizeNoTextAfterRotationError,Mn=t=>t===pn.TranslationError,An=t=>t===dn.UploadingPending,On=t=>t===dn.TranslationPending,Rn=t=>t===dn.TranslationRewriting,Dn=t=>t===dn.TranslationError,jn=t=>t===dn.UploadingError,$n="messagesPairs";var Fn,zn=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};class Bn{constructor(t,e){this.getMessagesPairsContext=t,this.setMessagesPairsContext=e,this.messagesPairsStorage=of.resolve(rf.MessagesPairsStorage),this.firstRenderMessagesPairsIds=new Set,this.setMessagesPairsContext(this.getInitialMessagesPairsContext()),this.messagesPairsStorage.attachMessagesPairsChangeListener(this.handleMessagesPairsChange)}disconnect(){this.messagesPairsStorage.detachMessagesPairsChangeListener(this.handleMessagesPairsChange)}getInitialMessagesPairsContext(){return{isMessagesPairsListReady:!1,isMessagesPairFirstRender:this.isMessagesPairFirstRender,setMessagesPairRendered:this.setMessagesPairRendered,messagesPairs:this.messagesPairsStorage.getMessagesPairs(),loadMessagesPairFiles:async t=>await this.messagesPairsStorage.loadMessagesPairFiles(t),deleteMessagesPairsByThread:async t=>await this.messagesPairsStorage.deleteMessagesPairsByThread(t)}}isMessagesPairFirstRender(t){return this.firstRenderMessagesPairsIds.has(t)}setMessagesPairRendered(t){this.firstRenderMessagesPairsIds.delete(t)}handleMessagesPairsChange(t){const{messagesPairs:e,isMessagesPairsListReady:i}=this.getMessagesPairsContext(),n=(t?.length??0)-e.length;if(t&&1===n&&i){const e=t[t.length-1];this.firstRenderMessagesPairsIds.add(e.id)}this.setMessagesPairsContext({...this.getMessagesPairsContext(),isMessagesPairsListReady:!0,messagesPairs:t||[]})}}function Nn(t="xxxx-xxxx-xxxx-xxxx"){return t.replace(/[xy]/g,(t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}zn([Ue],Bn.prototype,"isMessagesPairFirstRender",null),zn([Ue],Bn.prototype,"setMessagesPairRendered",null),zn([Ue],Bn.prototype,"handleMessagesPairsChange",null);class Vn{constructor(t){this.threadsStorage=t}createTextMessagesPair(t){return{id:this.createMessagesPairId(),threadId:this.threadsStorage.getActiveThread().id,type:un.Text,status:hn.Pending,creationTimestamp:Date.now(),input:{srcLang:t.srcLang,dstLang:t.dstLang,text:t.text}}}createImageMessagesPair(t){return{id:this.createMessagesPairId(),threadId:this.threadsStorage.getActiveThread().id,type:un.Image,status:hn.Pending,creationTimestamp:Date.now(),input:{srcLang:t.srcLang,dstLang:t.dstLang,file:t.file,fileName:t.fileName,fileSize:t.fileSize,fileType:t.fileType}}}createSiteMessagesPair(t){return{id:this.createMessagesPairId(),threadId:this.threadsStorage.getActiveThread().id,type:un.Site,status:hn.Pending,input:t,creationTimestamp:Date.now()}}createDocumentMessagesPair(t){return{id:this.createMessagesPairId(),threadId:this.threadsStorage.getActiveThread().id,type:un.Document,status:hn.Pending,creationTimestamp:Date.now(),input:{srcLang:t.srcLang,dstLang:t.dstLang,file:t.file,fileName:t.fileName,fileSize:t.fileSize,fileType:t.fileType}}}createOnboardingMessagesPair(t,e,i=0){return{id:this.createMessagesPairId(),threadId:this.threadsStorage.getActiveThread().id,type:un.Text,status:hn.Ready,creationTimestamp:Date.now()+i,input:{srcLang:t.srcLang,dstLang:t.dstLang,text:t.text},output:{text:e.text,dictionary:e.dictionary,examples:e.examples}}}createMessagesPairId(){return`${this.threadsStorage.getActiveThread().id}-${Nn("xxxxxxxx")}`}}!function(t){t.Success="Success",t.Warning="Warning",t.Error="Error",t.Offline="Offline",t.Trobber="Trobber",t.Like="Like",t.DeleteThread="DeleteThread",t.ClearThread="ClearThread"}(Fn||(Fn={}));const Hn="notifications";class Un{constructor(t,e){this.getNotificationsContext=t,this.setNotificationsContext=e,this.setNotificationsContext(this.getInitialNotificationsContext())}disconnect(){}getInitialNotificationsContext(){return{showSuccessNotification:t=>this.updateCurrentNotification({type:Fn.Success,payload:t}),showWarningNotification:t=>this.updateCurrentNotification({type:Fn.Warning,payload:t}),showErrorNotification:t=>this.updateCurrentNotification({type:Fn.Error,payload:t}),showOfflineNotification:t=>this.updateCurrentNotification({type:Fn.Offline,payload:t}),showTrobberNotification:t=>this.updateCurrentNotification({type:Fn.Trobber,payload:t}),showLikeNotification:t=>this.updateCurrentNotification({type:Fn.Like,payload:t}),showDeleteThreadNotification:t=>this.updateCurrentNotification({type:Fn.DeleteThread,payload:t}),showClearThreadNotification:t=>this.updateCurrentNotification({type:Fn.ClearThread,payload:t}),clearNotification:()=>this.clearNotification()}}updateCurrentNotification(t){this.setNotificationsContext({...this.getNotificationsContext(),currentNotification:t}),clearTimeout(this.notificationHideTimeoutId),t?.payload.autoHide&&(this.notificationHideTimeoutId=window.setTimeout((()=>this.clearNotification()),Un.NOTIFICATION_HIDE_TIMEOUT_MS))}clearNotification(){this.setNotificationsContext({...this.getNotificationsContext(),currentNotification:void 0})}}Un.NOTIFICATION_HIDE_TIMEOUT_MS=5e3;const qn="show-error";function Wn(){const t=new CustomEvent(qn,{detail:{},bubbles:!0,composed:!0});document.dispatchEvent(t)}const Zn=o`
    :host {
        overflow: hidden;
        display: inline-block;

        height: calc(var(--size_xl) + var(--size_m));
        width: fit-content;

        border-radius: var(--border-radius_max);
    }

    .container {
        height: 100%;
        box-sizing: border-box;
        padding: var(--space_2xs) var(--space_m) var(--space_2xs)
            var(--space_xs);

        background-color: var(--bg-notification);

        cursor: default;
    }

    .toast-text {
        color: var(--white);
    }

    /* mobile */
    @media (max-width: 900px) {
        :host {
            height: var(--space_4xl);

            border-radius: var(--border-radius_l);
            box-shadow: var(--shadow-elevation-3);
        }

        .container {
            padding: var(--space_s) var(--space_m) var(--space_s)
                var(--space_xs);
        }
    }
`;var Kn=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let Gn=class extends ht{constructor(){super(...arguments),this.type=Fn.Success}render(){return W`
            <flex-container
                gap="xs"
                direction="row"
                align="center"
                class="container"
            >
                <ya-icon size="l">${Rt(this.getIcon())}</ya-icon>
                <ya-text class="toast-text" font-size="s" line-height="s">
                    <slot></slot>
                </ya-text>
            </flex-container>
        `}getIcon(){switch(this.type){case Fn.Success:return Qt();case Fn.Warning:return ce();case Fn.Offline:return de();case Fn.Like:return xe();default:return ee()}}};Gn.styles=Zn,Kn([ft({attribute:"type",type:String})],Gn.prototype,"type",void 0),Gn=Kn([pt("nt-toast")],Gn);const Yn=o`
    .timer-container {
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
        width: var(--size, 20px);
        height: var(--size, 20px);
    }

    .timer-svg {
        transform: rotate(90deg) scale(-1, 1);
    }

    circle {
        fill: none;
        stroke: var(--white);
    }

    .text-container {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .counter-text {
        color: var(--white);
    }
`;var Xn=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};const Jn=20;let Qn=class extends ht{constructor(){super(...arguments),this["max-duration"]=0,this["seconds-left"]=0}get remainingSecondsToShow(){return this["seconds-left"]>this["max-duration"]?this["max-duration"]:this["seconds-left"]<1?1:this["seconds-left"]}connectedCallback(){super.connectedCallback(),this.radius=9.5,this.circumference=2*Math.PI*this.radius,this.resetCircleProgress()}updateCircle(){if(!this.circleElement)return;const t=this.circumference-this["seconds-left"]/this["max-duration"]*this.circumference;requestAnimationFrame((()=>{if(!this.circleElement)return;const e=this["max-duration"]===this["seconds-left"];this.circleElement.style.transition=e?"none":"stroke-dasharray 1s linear",this.circleElement.style.strokeDasharray=`${this.circumference-t} ${this.circumference}`}))}updated(t){(t.has("seconds-left")||t.has("max-duration"))&&this.updateCircle()}resetCircleProgress(){this.circleElement&&(this.circleElement.style.strokeDasharray=`${this.circumference} ${this.circumference}`,this.circleElement.style.strokeDashoffset="0")}render(){return W`
            <div class="timer-container" style="--size: ${Jn}px;">
                <svg class="timer-svg" width="${Jn}" height="${Jn}">
                    <circle
                        class="circle"
                        cx="${10}"
                        cy="${10}"
                        r="${this.radius}"
                        stroke-width="${1}"
                        stroke-dasharray="${this.circumference} ${this.circumference}"
                    />
                </svg>
                <flex-container
                    align="center"
                    justify="center"
                    class="text-container"
                >
                    <ya-text
                        class="counter-text"
                        font-size="xs"
                        line-height="2xs"
                    >
                        ${this.remainingSecondsToShow}
                    </ya-text>
                </flex-container>
            </div>
        `}};Qn.styles=Yn,Xn([ft({attribute:"max-duration",type:Number})],Qn.prototype,"max-duration",void 0),Xn([ft({attribute:"seconds-left",type:Number})],Qn.prototype,"seconds-left",void 0),Xn([yt(".circle")],Qn.prototype,"circleElement",void 0),Qn=Xn([pt("countdown-timer")],Qn);const ts=o`
    :host {
        user-select: none;
        overflow: hidden;
        display: inline-block;

        height: calc(var(--size_xl) + var(--size_m));
        width: fit-content;

        border-radius: var(--border-radius_max);

        --link-color: rgba(98, 170, 253, 1);
        --link-clicked-color: rgba(255, 51, 51, 1);
    }

    .container {
        height: 100%;
        box-sizing: border-box;
        padding: var(--space_2xs) var(--space_xs);

        background-color: var(--bg-notification);

        cursor: default;
    }

    .timer-container {
        padding-right: var(--space_xs);
    }

    .toast-text {
        color: var(--white);
    }

    .toast-action {
        padding: 0 var(--space_xs);

        color: var(--link-color);
    }

    .toast-action:hover {
        color: var(--white);
    }

    .toast-action:active {
        color: var(--link-clicked-color);
    }
`;var es=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let is=class extends ht{constructor(){super(...arguments),this.countdownSecondsLeft=5,this.countdownIntervalId=0}async firstUpdated(){await this.updateComplete,this.toastAction?.focus()}async connectedCallback(){super.connectedCallback(),await this.updateComplete,await qe(100),this.countdownSecondsLeft--,this.countdownIntervalId=window.setInterval((()=>{this.countdownSecondsLeft--}),1e3)}disconnectedCallback(){super.disconnectedCallback(),clearInterval(this.countdownIntervalId)}resetCountDown(){this.startCountDown()}render(){const t=this.localesContext.getText("undo");return W`
            <flex-container
                gap="xs"
                direction="row"
                align="center"
                class="container"
            >
                <flex-container
                    gap="xs"
                    direction="row"
                    align="center"
                    class="timer-container"
                >
                    <countdown-timer
                        max-duration=${5}
                        seconds-left=${this.countdownSecondsLeft}
                    ></countdown-timer>
                    <ya-text class="toast-text" font-size="s" line-height="s">
                        <slot></slot>
                    </ya-text>
                </flex-container>
                <ya-text
                    tabindex="0"
                    class="toast-action"
                    font-size="s"
                    line-height="s"
                    color="link"
                    aria-label=${t}
                    @keypress=${this.handleButtonClick}
                    @click=${this.handleButtonClick}
                >
                    ${t}
                </ya-text>
            </flex-container>
        `}handleButtonClick(){const t=new CustomEvent("button-click",{bubbles:!0});this.dispatchEvent(t)}startCountDown(){this.countdownSecondsLeft=5}};is.styles=ts,es([hi({context:di}),mt()],is.prototype,"localesContext",void 0),es([yt(".toast-action")],is.prototype,"toastAction",void 0),es([mt()],is.prototype,"countdownSecondsLeft",void 0),is=es([pt("nt-action-toast")],is);var ns=i(5816),ss=i.n(ns);const rs={nm:"Flow 7",ddd:0,h:28,w:119,meta:{g:"LottieFiles Figma v59"},layers:[{ty:0,nm:"trobber5",sr:1,st:0,op:97.24,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[59.5,14]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[59.5,14]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},w:119,h:28,refId:"1",ind:1}],v:"5.7.0",fr:60,op:96.24,ip:0,assets:[{nm:"[Asset] trobber5",id:"1",layers:[{ty:0,nm:"fix wide",sr:1,st:0,op:97.24,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[59.5,8],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[59.5,8],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[59.5,8],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[59.5,8],t:72},{s:[59.5,8],t:96}]},s:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:72},{s:[100,100],t:96}]},sk:{a:0,k:0},p:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[59.5,14],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[59.5,14],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[59.5,14],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[59.5,14],t:72},{s:[59.5,14],t:96}]},r:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:72},{s:[0],t:96}]},sa:{a:0,k:0},o:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:72},{s:[100],t:96}]}},ef:[],w:119,h:28,refId:"2",ind:1},{ty:4,nm:"trobber5 Bg",sr:1,st:0,op:97.24,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[59.5,14],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[59.5,14],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[59.5,14],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[59.5,14],t:72},{s:[59.5,14],t:96}]},s:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:72},{s:[100,100],t:96}]},sk:{a:0,k:0},p:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[59.5,14],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[59.5,14],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[59.5,14],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[59.5,14],t:72},{s:[59.5,14],t:96}]},r:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:72},{s:[0],t:96}]},sa:{a:0,k:0},o:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:72},{s:[100],t:96}]}},ef:[],shapes:[{ty:"sh",bm:0,hd:!1,nm:"",d:1,ks:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[119,0],[119,28],[0,28],[0,0]]}],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[119,0],[119,28],[0,28],[0,0]]}],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[119,0],[119,28],[0,28],[0,0]]}],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[119,0],[119,28],[0,28],[0,0]]}],t:72},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[119,0],[119,28],[0,28],[0,0]]}],t:96}]}}],ind:2}]},{nm:"[Asset] fix wide",id:"2",layers:[{ty:0,nm:"container",sr:1,st:0,op:97.24,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[54,2],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[60,6],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[59.5,2],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[55.5,6],t:72},{s:[54,2],t:96}]},s:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:72},{s:[100,100],t:96}]},sk:{a:0,k:0},p:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[60,8],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[59,8],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[59.5,8],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[63.5,8],t:72},{s:[60,8],t:96}]},r:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:72},{s:[0],t:96}]},sa:{a:0,k:0},o:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:72},{s:[100],t:96}]}},ef:[],w:119,h:28,refId:"3",ind:1},{ty:4,nm:"fix wide Bg",sr:1,st:0,op:97.24,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[59.5,8],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[59.5,8],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[59.5,8],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[59.5,8],t:72},{s:[59.5,8],t:96}]},s:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:72},{s:[100,100],t:96}]},sk:{a:0,k:0},p:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[59.5,8],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[59.5,8],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[59.5,8],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[59.5,8],t:72},{s:[59.5,8],t:96}]},r:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:72},{s:[0],t:96}]},sa:{a:0,k:0},o:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:72},{s:[100],t:96}]}},ef:[],shapes:[{ty:"sh",bm:0,hd:!1,nm:"",d:1,ks:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[119,0],[119,16],[0,16],[0,0]]}],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[119,0],[119,16],[0,16],[0,0]]}],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[119,0],[119,16],[0,16],[0,0]]}],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[119,0],[119,16],[0,16],[0,0]]}],t:72},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[119,0],[119,16],[0,16],[0,0]]}],t:96}]}}],ind:2}]},{nm:"[Asset] container",id:"3",layers:[{ty:4,nm:"01",sr:1,st:0,op:97.24,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[2,2],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[6,6],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[2,2],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[6,6],t:72},{s:[2,2],t:96}]},s:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:72},{s:[100,100],t:96}]},sk:{a:0,k:0},p:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[98,2],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[18,6],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[103.5,2],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[93,6],t:72},{s:[98,2],t:96}]},r:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:72},{s:[0],t:96}]},sa:{a:0,k:0},o:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:72},{s:[100],t:96}]}},ef:[],shapes:[{ty:"sh",bm:0,hd:!1,nm:"",d:1,ks:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[{c:!0,i:[[0,0],[1.1,0],[0,1.1],[-1.1,0],[0,-1.1]],o:[[0,1.1],[-1.1,0],[0,-1.1],[1.1,0],[0,0]],v:[[4,2],[2,4],[0,2],[2,0],[4,2]]}],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[{c:!0,i:[[0,0],[3.31,0],[0,3.31],[-3.31,0],[0,-3.31]],o:[[0,3.31],[-3.31,0],[0,-3.31],[3.31,0],[0,0]],v:[[12,6],[6,12],[0,6],[6,0],[12,6]]}],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[{c:!0,i:[[0,0],[1.1,0],[0,1.1],[-1.1,0],[0,-1.1]],o:[[0,1.1],[-1.1,0],[0,-1.1],[1.1,0],[0,0]],v:[[4,2],[2,4],[0,2],[2,0],[4,2]]}],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[{c:!0,i:[[0,0],[3.31,0],[0,3.31],[-3.31,0],[0,-3.31]],o:[[0,3.31],[-3.31,0],[0,-3.31],[3.31,0],[0,0]],v:[[12,6],[6,12],[0,6],[6,0],[12,6]]}],t:72},{s:[{c:!0,i:[[0,0],[1.1,0],[0,1.1],[-1.1,0],[0,-1.1]],o:[[0,1.1],[-1.1,0],[0,-1.1],[1.1,0],[0,0]],v:[[4,2],[2,4],[0,2],[2,0],[4,2]]}],t:96}]}},{ty:"fl",bm:0,hd:!1,nm:"",c:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[.8941,.349,.9059],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[.8941,.349,.9059],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[.8941,.349,.9059],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[.8941,.349,.9059],t:72},{s:[.8941,.349,.9059],t:96}]},r:1,o:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:72},{s:[100],t:96}]}}],ind:1},{ty:4,nm:"02",sr:1,st:0,op:97.24,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[2,2],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[6,6],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[2,2],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[6,6],t:72},{s:[2,2],t:96}]},s:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:72},{s:[100,100],t:96}]},sk:{a:0,k:0},p:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[76,2],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[18,6],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[81.5,2],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[93,6],t:72},{s:[76,2],t:96}]},r:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:72},{s:[0],t:96}]},sa:{a:0,k:0},o:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:72},{s:[100],t:96}]}},ef:[],shapes:[{ty:"sh",bm:0,hd:!1,nm:"",d:1,ks:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[{c:!0,i:[[0,0],[1.1,0],[0,1.1],[-1.1,0],[0,-1.1]],o:[[0,1.1],[-1.1,0],[0,-1.1],[1.1,0],[0,0]],v:[[4,2],[2,4],[0,2],[2,0],[4,2]]}],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[{c:!0,i:[[0,0],[3.31,0],[0,3.31],[-3.31,0],[0,-3.31]],o:[[0,3.31],[-3.31,0],[0,-3.31],[3.31,0],[0,0]],v:[[12,6],[6,12],[0,6],[6,0],[12,6]]}],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[{c:!0,i:[[0,0],[1.1,0],[0,1.1],[-1.1,0],[0,-1.1]],o:[[0,1.1],[-1.1,0],[0,-1.1],[1.1,0],[0,0]],v:[[4,2],[2,4],[0,2],[2,0],[4,2]]}],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[{c:!0,i:[[0,0],[3.31,0],[0,3.31],[-3.31,0],[0,-3.31]],o:[[0,3.31],[-3.31,0],[0,-3.31],[3.31,0],[0,0]],v:[[12,6],[6,12],[0,6],[6,0],[12,6]]}],t:72},{s:[{c:!0,i:[[0,0],[1.1,0],[0,1.1],[-1.1,0],[0,-1.1]],o:[[0,1.1],[-1.1,0],[0,-1.1],[1.1,0],[0,0]],v:[[4,2],[2,4],[0,2],[2,0],[4,2]]}],t:96}]}},{ty:"fl",bm:0,hd:!1,nm:"",c:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[.9294,.3569,.7608],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[.9294,.3569,.7608],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[.9294,.3569,.7608],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[.9294,.3569,.7608],t:72},{s:[.9294,.3569,.7608],t:96}]},r:1,o:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:72},{s:[100],t:96}]}}],ind:2},{ty:4,nm:"03",sr:1,st:0,op:97.24,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[2,2],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[6,6],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[2,2],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[6,6],t:72},{s:[2,2],t:96}]},s:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:72},{s:[100,100],t:96}]},sk:{a:0,k:0},p:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[54,2],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[18,6],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[59.5,2],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[93,6],t:72},{s:[54,2],t:96}]},r:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:72},{s:[0],t:96}]},sa:{a:0,k:0},o:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:72},{s:[100],t:96}]}},ef:[],shapes:[{ty:"sh",bm:0,hd:!1,nm:"",d:1,ks:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[{c:!0,i:[[0,0],[1.1,0],[0,1.1],[-1.1,0],[0,-1.1]],o:[[0,1.1],[-1.1,0],[0,-1.1],[1.1,0],[0,0]],v:[[4,2],[2,4],[0,2],[2,0],[4,2]]}],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[{c:!0,i:[[0,0],[3.31,0],[0,3.31],[-3.31,0],[0,-3.31]],o:[[0,3.31],[-3.31,0],[0,-3.31],[3.31,0],[0,0]],v:[[12,6],[6,12],[0,6],[6,0],[12,6]]}],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[{c:!0,i:[[0,0],[1.1,0],[0,1.1],[-1.1,0],[0,-1.1]],o:[[0,1.1],[-1.1,0],[0,-1.1],[1.1,0],[0,0]],v:[[4,2],[2,4],[0,2],[2,0],[4,2]]}],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[{c:!0,i:[[0,0],[3.31,0],[0,3.31],[-3.31,0],[0,-3.31]],o:[[0,3.31],[-3.31,0],[0,-3.31],[3.31,0],[0,0]],v:[[12,6],[6,12],[0,6],[6,0],[12,6]]}],t:72},{s:[{c:!0,i:[[0,0],[1.1,0],[0,1.1],[-1.1,0],[0,-1.1]],o:[[0,1.1],[-1.1,0],[0,-1.1],[1.1,0],[0,0]],v:[[4,2],[2,4],[0,2],[2,0],[4,2]]}],t:96}]}},{ty:"fl",bm:0,hd:!1,nm:"",c:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[.949,.3608,.6941],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[.949,.3608,.6941],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[.949,.3608,.6941],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[.949,.3608,.6941],t:72},{s:[.949,.3608,.6941],t:96}]},r:1,o:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:72},{s:[100],t:96}]}}],ind:3},{ty:4,nm:"04",sr:1,st:0,op:97.24,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[2,2],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[6,6],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[2,2],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[6,6],t:72},{s:[2,2],t:96}]},s:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:72},{s:[100,100],t:96}]},sk:{a:0,k:0},p:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[32,2],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[18,6],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[37.5,2],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[93,6],t:72},{s:[32,2],t:96}]},r:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:72},{s:[0],t:96}]},sa:{a:0,k:0},o:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:72},{s:[100],t:96}]}},ef:[],shapes:[{ty:"sh",bm:0,hd:!1,nm:"",d:1,ks:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[{c:!0,i:[[0,0],[1.1,0],[0,1.1],[-1.1,0],[0,-1.1]],o:[[0,1.1],[-1.1,0],[0,-1.1],[1.1,0],[0,0]],v:[[4,2],[2,4],[0,2],[2,0],[4,2]]}],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[{c:!0,i:[[0,0],[3.31,0],[0,3.31],[-3.31,0],[0,-3.31]],o:[[0,3.31],[-3.31,0],[0,-3.31],[3.31,0],[0,0]],v:[[12,6],[6,12],[0,6],[6,0],[12,6]]}],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[{c:!0,i:[[0,0],[1.1,0],[0,1.1],[-1.1,0],[0,-1.1]],o:[[0,1.1],[-1.1,0],[0,-1.1],[1.1,0],[0,0]],v:[[4,2],[2,4],[0,2],[2,0],[4,2]]}],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[{c:!0,i:[[0,0],[3.31,0],[0,3.31],[-3.31,0],[0,-3.31]],o:[[0,3.31],[-3.31,0],[0,-3.31],[3.31,0],[0,0]],v:[[12,6],[6,12],[0,6],[6,0],[12,6]]}],t:72},{s:[{c:!0,i:[[0,0],[1.1,0],[0,1.1],[-1.1,0],[0,-1.1]],o:[[0,1.1],[-1.1,0],[0,-1.1],[1.1,0],[0,0]],v:[[4,2],[2,4],[0,2],[2,0],[4,2]]}],t:96}]}},{ty:"fl",bm:0,hd:!1,nm:"",c:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[.9686,.3647,.6196],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[.9686,.3647,.6196],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[.9686,.3647,.6196],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[.9686,.3647,.6196],t:72},{s:[.9686,.3647,.6196],t:96}]},r:1,o:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:72},{s:[100],t:96}]}}],ind:4},{ty:4,nm:"05",sr:1,st:0,op:97.24,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[2,2],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[6,6],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[2,2],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[6,6],t:72},{s:[2,2],t:96}]},s:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:72},{s:[100,100],t:96}]},sk:{a:0,k:0},p:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[10,2],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[18,6],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[15.5,2],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[93,6],t:72},{s:[10,2],t:96}]},r:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:72},{s:[0],t:96}]},sa:{a:0,k:0},o:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:72},{s:[100],t:96}]}},ef:[],shapes:[{ty:"sh",bm:0,hd:!1,nm:"",d:1,ks:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[{c:!0,i:[[0,0],[1.1,0],[0,1.1],[-1.1,0],[0,-1.1]],o:[[0,1.1],[-1.1,0],[0,-1.1],[1.1,0],[0,0]],v:[[4,2],[2,4],[0,2],[2,0],[4,2]]}],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[{c:!0,i:[[0,0],[3.31,0],[0,3.31],[-3.31,0],[0,-3.31]],o:[[0,3.31],[-3.31,0],[0,-3.31],[3.31,0],[0,0]],v:[[12,6],[6,12],[0,6],[6,0],[12,6]]}],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[{c:!0,i:[[0,0],[1.1,0],[0,1.1],[-1.1,0],[0,-1.1]],o:[[0,1.1],[-1.1,0],[0,-1.1],[1.1,0],[0,0]],v:[[4,2],[2,4],[0,2],[2,0],[4,2]]}],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[{c:!0,i:[[0,0],[3.31,0],[0,3.31],[-3.31,0],[0,-3.31]],o:[[0,3.31],[-3.31,0],[0,-3.31],[3.31,0],[0,0]],v:[[12,6],[6,12],[0,6],[6,0],[12,6]]}],t:72},{s:[{c:!0,i:[[0,0],[1.1,0],[0,1.1],[-1.1,0],[0,-1.1]],o:[[0,1.1],[-1.1,0],[0,-1.1],[1.1,0],[0,0]],v:[[4,2],[2,4],[0,2],[2,0],[4,2]]}],t:96}]}},{ty:"fl",bm:0,hd:!1,nm:"",c:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[.9961,.3725,.5137],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[.9961,.3725,.5137],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[.9961,.3725,.5137],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[.9961,.3725,.5137],t:72},{s:[.9961,.3725,.5137],t:96}]},r:1,o:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:72},{s:[100],t:96}]}}],ind:5},{ty:4,nm:"container Bg",sr:1,st:0,op:97.24,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[54,2],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[60,6],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[59.5,2],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[55.5,6],t:72},{s:[54,2],t:96}]},s:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100,100],t:72},{s:[100,100],t:96}]},sk:{a:0,k:0},p:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[54,2],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[60,6],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[59.5,2],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[55.5,6],t:72},{s:[54,2],t:96}]},r:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[0],t:72},{s:[0],t:96}]},sa:{a:0,k:0},o:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[100],t:72},{s:[100],t:96}]}},ef:[],shapes:[{ty:"sh",bm:0,hd:!1,nm:"",d:1,ks:{a:1,k:[{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[108,0],[108,4],[0,4],[0,0]]}],t:0},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[120,0],[120,12],[0,12],[0,0]]}],t:24},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[119,0],[119,4],[0,4],[0,0]]}],t:48},{o:{x:.34,y:1.56},i:{x:.64,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[111,0],[111,12],[0,12],[0,0]]}],t:72},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[108,0],[108,4],[0,4],[0,0]]}],t:96}]}}],ind:6}]}]},as=o`
    :host {
        display: block;
    }

    .container {
        width: 135px;
        height: 36px;
        background: var(--bg-secondary);
        border: 1px solid var(--bg-border);
        border-radius: 36px;
        padding: 3px 7px;
        box-sizing: border-box;
        align-items: center;
        margin: 0 auto;
    }

    /* mobile */
    @media (pointer: coarse) and (max-width: 900px) {
        .container {
            background: none;
            border: none;
        }
    }
`;var os=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let ls=class extends ht{disconnectedCallback(){super.disconnectedCallback(),this.animation?.destroy()}firstUpdated(){this.animation=ss().loadAnimation({container:this.container,renderer:"svg",loop:!0,autoplay:!0,animationData:rs})}render(){return W`<div class="container"></div>`}};ls.styles=as,os([yt(".container")],ls.prototype,"container",void 0),ls=os([pt("nt-trobber")],ls);const cs="threads";var hs=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};class ds{constructor(t,e){this.getThreadContext=t,this.setThreadContext=e,this.threadStorage=of.resolve(rf.ThreadsStorage),this.messagesPairsStorage=of.resolve(rf.MessagesPairsStorage),this.trackingService=of.resolve(rf.TrackingService),this.threadClearTimeout=0,this.threadDeleteTimeout=0,this.setThreadContext(this.getInitialThreadsContext()),this.threadStorage.attachThreadsListChangeListener(this.handleThreadsListChange),this.threadStorage.attachActiveThreadChangeListener(this.handleActiveThreadChange),this.messagesPairsStorage.attachMessagesPairPreAddListener(this.handleMessagesPairPreAdd)}disconnect(){this.threadStorage.detachThreadsListChangeListener(this.handleThreadsListChange),this.threadStorage.detachActiveThreadChangeListener(this.handleActiveThreadChange),this.messagesPairsStorage.detachMessagesPairPreAddListener(this.handleMessagesPairPreAdd)}getInitialThreadsContext(){return{threads:this.threadStorage.getThreadsList(),activeThread:this.threadStorage.getThreadsList()[0]||void 0,addNewThread:async()=>await this.threadStorage.addNewThread(),setActiveThread:t=>this.threadStorage.setActiveThread(t),getThreadsList:()=>this.threadStorage.getThreadsList(),updateThreadTitle:async(t,e)=>await this.threadStorage.updateThreadTitle(t,e),updateThreadLangsPair:async(t,e)=>await this.threadStorage.updateThreadLangsPair(t,e),updateThreadIsEmpty:async(t,e)=>await this.threadStorage.updateThreadIsEmpty(t,e),updateThreadIsRenamed:async(t,e)=>await this.threadStorage.updateThreadIsRenamed(t,e),requestClearThread:this.requestClearThread,cancelClearThread:this.cancelClearThread,clearThread:this.clearThread,deleteThread:this.deleteThread,requestDeleteThread:this.requestDeleteThread,cancelDeleteThread:this.cancelDeleteThread}}async handleMessagesPairPreAdd(t){if(!t)return;await this.threadStorage.syncThread(t.threadId);const e=t.threadId===this.activePreClearedThreadId,i=this.activePreClearedThreadId;i&&e&&(await this.clearThread(i),await this.threadStorage.updateThreadIsEmpty(i,!1))}async requestClearThread(t){this.activePreClearedThreadId&&(clearTimeout(this.threadClearTimeout),await this.clearThread(this.activePreClearedThreadId)),this.activePreClearedThreadId=t,await this.threadStorage.preClearThread(t),this.threadClearTimeout=window.setTimeout((()=>{this.clearThread(t)}),5e3)}async cancelClearThread(){this.activePreClearedThreadId&&(this.trackingService.trackEvent("chat_cleared_undo",{chatId:this.activePreClearedThreadId}),clearTimeout(this.threadClearTimeout),await this.threadStorage.cancelClearThread(this.activePreClearedThreadId),this.activePreClearedThreadId=void 0)}async clearThread(t){clearTimeout(this.threadClearTimeout),await this.threadStorage.clearThread(t),this.activePreClearedThreadId=void 0}async requestDeleteThread(t){this.activePreDeletedThreadId&&(clearTimeout(this.threadDeleteTimeout),await this.deleteThread(this.activePreDeletedThreadId)),this.activePreDeletedThreadId=t,await this.threadStorage.preDeleteThread(t),this.threadDeleteTimeout=window.setTimeout((()=>{this.deleteThread(t)}),5e3)}async cancelDeleteThread(){this.activePreDeletedThreadId&&(this.trackingService.trackEvent("chat_deleted_undo",{chatId:this.activePreDeletedThreadId}),clearTimeout(this.threadDeleteTimeout),await this.threadStorage.cancelDeleteThread(this.activePreDeletedThreadId),this.activePreDeletedThreadId=void 0)}async deleteThread(t){clearTimeout(this.threadDeleteTimeout),await this.threadStorage.deleteThread(t),this.activePreDeletedThreadId=void 0}handleThreadsListChange(t){t&&t.length&&this.setThreadContext({...this.getThreadContext(),threads:t,activeThread:t.find((t=>t.id===this.getThreadContext().activeThread?.id))})}handleActiveThreadChange(t){t&&this.setThreadContext({...this.getThreadContext(),threads:this.getThreadContext().getThreadsList(),activeThread:t})}}hs([Ue],ds.prototype,"getInitialThreadsContext",null),hs([Ue],ds.prototype,"handleMessagesPairPreAdd",null),hs([Ue],ds.prototype,"requestClearThread",null),hs([Ue],ds.prototype,"cancelClearThread",null),hs([Ue],ds.prototype,"clearThread",null),hs([Ue],ds.prototype,"requestDeleteThread",null),hs([Ue],ds.prototype,"cancelDeleteThread",null),hs([Ue],ds.prototype,"deleteThread",null),hs([Ue],ds.prototype,"handleThreadsListChange",null),hs([Ue],ds.prototype,"handleActiveThreadChange",null);class ps{constructor(t){this.localesService=t}createThread(t){return{id:Nn("xxxxxxxx"),name:t?.name??this.localesService.getText("new_history_tab_name"),langsPair:t?.langsPair??ln,creationTimestamp:Date.now(),lastOpenedTimestamp:Date.now(),isEmpty:!0,isRenamed:!1}}}function us(t){if(t instanceof Wi){const e=t.payload??{};Ya.Rum.logError({message:t.name,additional:e,source:t.source},t)}else"string"!=typeof t?t instanceof Error&&Ya.Rum.logError({message:t.message},t):Ya.Rum.logError({message:t})}class gs extends fi{constructor(t,e,i,n){super(),this.threadsFactory=t,this.threadRepository=e,this.localesService=i,this.config=n,this.preDeletedThreads=[],this.restoreThreadsList()}async addNewThread(){const t=this.getThreadsList();if(t.some((t=>t.isEmpty)))return;const e=this.threadsFactory.createThread();await this.handleThreadAddition(e);const i=[...t,e];this.setThreadsList(i),this.setActiveThread(e.id)}async syncThread(t){if(!(this.threadIdToSync===t))return;this.threadIdToSync=void 0;const e=this.getActiveThread();await this.handleThreadAddition(e)}async handleThreadAddition(t){try{await this.threadRepository.add(t)}catch(t){throw us(t),Wn(),new fs}}async updateThreadIsEmpty(t,e){const i=this.getThreadsList(),n=i.find((e=>e.id===t));if(!n)throw new fs;const s={...n,isEmpty:e,lastOpenedTimestamp:Date.now()};await this.updateThread(s);const r=i.map((e=>e.id===t?s:e));this.setThreadsList(r),this.setActiveThread(s.id)}async preClearThread(t){const e=this.getThreadsList(),i=e.find((e=>e.id===t));if(!i)throw new fs;const n=ks(e,this.localesService.getText("untitled")),s={...i,isEmpty:!0,name:n,lastOpenedTimestamp:Date.now()},r=e.map((e=>e.id===t?s:e));this.setThreadsList(r)}async cancelClearThread(t){let e;try{e=await this.threadRepository.getById(t)}catch(t){throw us(t),Wn(),new fs}if(!e)throw new fs;const i=this.getThreadsList().map((i=>i.id===t?e:i));this.setThreadsList(i)}async clearThread(t){const e=this.getThreadsList();let i=e.find((e=>e.id===t));if(i){if(i.isEmpty||await this.preClearThread(t),await this.messagesPairsStorage.deleteMessagesPairsByThread(t),i=e.find((e=>e.id===t)),!i)throw new fs;await this.updateThread(i)}}async updateThreadIsRenamed(t,e){const i=this.getThreadsList(),n=this.getActiveThread(),s=i.find((e=>e.id===t));if(!s)throw new fs;const r={...s,isRenamed:e,lastOpenedTimestamp:Date.now()};await this.updateThread(r);const a=i.map((e=>e.id===t?r:e));this.setThreadsList(a),n.id===t&&this.setActiveThread(t)}sortThreads(t){return[...t].sort(((t,e)=>{if(t.isEmpty&&!e.isEmpty)return 1;if(!t.isEmpty&&e.isEmpty)return-1;const i=t.lastOpenedTimestamp||t.creationTimestamp,n=e.lastOpenedTimestamp||e.creationTimestamp;return new Date(i).getTime()-new Date(n).getTime()}))}setThreadsList(t){const e=this.sortThreads(t).reverse();this.setState(gs.THREADS_LIST_STATE_KEY,e)}async updateThreadLangsPair(t,e){const i=this.getActiveThread();if(!i)return;const n={...i,langsPair:{srcLang:t,dstLang:e}};await this.updateThread(n);const s=this.getThreadsList().map((t=>t.id===i.id?n:t));this.setThreadsList(s),this.setActiveThread(n.id)}async updateThreadTitle(t,e){const i=this.getActiveThread(),n=this.getThreadsList(),s=n.find((e=>e.id===t));if(!s)throw new fs;const r={...s,name:e.slice(0,40).trim(),lastOpenedTimestamp:Date.now()};await this.updateThread(r);const a=n.map((t=>t.id===r.id?r:t));e!==i.name&&this.setThreadsList(a),i.id===t&&this.setActiveThread(t)}async updateThread(t){this.threadIdToSync===t.id&&(this.threadIdToSync=void 0,await this.handleThreadAddition(t));try{await this.threadRepository.update(t)}catch(t){throw us(t),Wn(),new fs}}setActiveThread(t){const e=this.getThreadsList().find((e=>e.id===t));this.setState(gs.ACTIVE_THREAD_ID_STATE_KEY,e),this.persistActiveThreadId(t)}persistActiveThreadId(t){const e="desktop"===this.config.platform,i=t===this.threadIdToSync;if(e){const e=new URL(window.location.href);return i?e.searchParams.delete(gs.ACTIVE_THREAD_ID_QUERY_KEY):e.searchParams.set(gs.ACTIVE_THREAD_ID_QUERY_KEY,t),void window.history.pushState({},"",e.toString())}localStorage.setItem(gs.ACTIVE_THREAD_ID_PERSIST_KEY,t)}getActiveThread(){return this.getState(gs.ACTIVE_THREAD_ID_STATE_KEY)}getThreadsList(){const t=this.getState(gs.THREADS_LIST_STATE_KEY)??[];return this.sortThreads(t).reverse()}async preDeleteThread(t){const e=this.getThreadsList(),i=e.find((e=>e.id===t));if(e.length<=1||!i)throw new fs;this.preDeletedThreads.push(i);const n=e.filter((e=>e.id!==t));this.setThreadsList(n);this.getActiveThread().id===t&&this.chooseNewActiveThread(n)}async cancelDeleteThread(t){const e=this.preDeletedThreads.find((({id:e})=>e===t));if(!e)throw new fs;const i=[...this.getThreadsList(),e];this.setThreadsList(i),this.preDeletedThreads=this.preDeletedThreads.filter((({id:e})=>e!==t))}async deleteThread(t){if(t===this.threadIdToSync)return void(this.threadIdToSync=void 0);this.preDeletedThreads=this.preDeletedThreads.filter((({id:e})=>e!==t));const e=this.getThreadsList(),i=await this.threadRepository.getById(t);if(!i)throw new fs;try{await this.threadRepository.delete("id",i.id)}catch(t){throw us(t),Wn(),new fs}const n=e.filter((e=>e.id!==t));this.setThreadsList(n);this.getActiveThread().id===t&&this.chooseNewActiveThread(n)}chooseNewActiveThread(t){const e=this.sortThreads(t)[t.length-1];e&&this.setActiveThread(e.id)}attachThreadsListChangeListener(t){this.attachStateChangeListener(gs.THREADS_LIST_STATE_KEY,t)}detachThreadsListChangeListener(t){this.detachStateChangeListener(gs.THREADS_LIST_STATE_KEY,t)}attachActiveThreadChangeListener(t){this.attachStateChangeListener(gs.ACTIVE_THREAD_ID_STATE_KEY,t)}detachActiveThreadChangeListener(t){this.detachStateChangeListener(gs.ACTIVE_THREAD_ID_STATE_KEY,t)}async restoreThreadsList(){let t=[];try{t=await this.threadRepository.getAll()}catch(t){throw us(t),Wn(),new fs}let e=this.restoreActiveThread(t);if(!t.length||!e){const i=this.threadsFactory.createThread();this.threadIdToSync=i.id,t.push(i),e=i}this.setThreadsList(t),this.setActiveThread(e.id)}restoreActiveThread(t){const e=this.getPersistedThreadId();return t.find((t=>t.id===e))}getPersistedThreadId(){if("desktop"===this.config.platform){return new URLSearchParams(window.location.search).get(gs.ACTIVE_THREAD_ID_QUERY_KEY)}return localStorage.getItem(gs.ACTIVE_THREAD_ID_PERSIST_KEY)}get messagesPairsStorage(){return of.resolve(rf.MessagesPairsStorage)}}gs.ACTIVE_THREAD_ID_STATE_KEY="activeThreadId",gs.THREADS_LIST_STATE_KEY="threadsList",gs.ACTIVE_THREAD_ID_PERSIST_KEY="active-thread-id",gs.ACTIVE_THREAD_ID_QUERY_KEY="threadId";class fs extends Wi{constructor(){super(...arguments),this.name="ThreadsStorageException"}}class ms extends Wi{constructor(t){super({message:t}),this.source="thread-repository",this.name="ThreadRepositoryException"}}class vs extends ms{constructor(){super(...arguments),this.name="GetByIdThreadRepositoryException"}}class ys extends ms{constructor(){super(...arguments),this.name="GetAlThreadRepositoryException"}}class xs extends ms{constructor(){super(...arguments),this.name="AddThreadRepositoryException"}}class bs extends ms{constructor(){super(...arguments),this.name="UpdateThreadRepositoryException"}}class ws extends ms{constructor(){super(...arguments),this.name="DeleteThreadRepositoryException"}}function _s(t){return{id:t.id,name:t.name,langsPair:t.langsPair,creationTimestamp:t.creationTimestamp,lastOpenedTimestamp:t.lastOpenedTimestamp,isEmpty:t.isEmpty,isRenamed:t.isRenamed}}function Cs(t){return{id:t.id,name:t.name,creationTimestamp:t.creationTimestamp,langsPair:t.langsPair,isEmpty:t.isEmpty,isRenamed:t.isRenamed,lastOpenedTimestamp:t.lastOpenedTimestamp}}class Ss{constructor(t,e){this.indexedDbStorage=t,this.messagesPairRepository=e}async getById(t){try{return this.getByIdInternal(t)}catch(t){const e=_i(t);throw new vs(e)}}async getByIdInternal(t){const e=await this.indexedDbStorage.getDBInstance(),i=await e.get(wi.Threads,t);if(i)return _s(i)}async getAll(){try{return this.getAllInternal()}catch(t){const e=_i(t);throw new ys(e)}}async getAllInternal(){const t=await this.indexedDbStorage.getDBInstance();return(await t.getAll(wi.Threads)).map(_s)}async get(){throw new Error("ThreadRepositoryImpl: get method is not supported")}async add(t,e){try{await this.addInternal(t,e)}catch(t){const e=_i(t);throw new xs(e)}}async addInternal(t,e){const i=e??await this.createReadWriteTransaction(),n=i.objectStore(wi.Threads),s=Cs(t);await n.add(s),e||await i.done}async update(t,e){try{await this.updateInternal(t,e)}catch(t){const e=_i(t);throw new bs(e)}}async updateInternal(t,e){const i=e??await this.createReadWriteTransaction(),n=i.objectStore(wi.Threads),s=Cs(t);await n.put(s),e||await i.done}async delete(t,e,i){try{await this.deleteInternal(t,e,i)}catch(t){const e=_i(t);throw new ws(e)}}async deleteInternal(t,e,i){const n=i??await this.createReadWriteTransaction(),s=n.objectStore(wi.Threads);await s.delete(e);try{await this.messagesPairRepository.delete("by_thread_id",e,n)}catch(t){throw us(t),t}i||await n.done}async createReadWriteTransaction(){return(await this.indexedDbStorage.getDBInstance()).transaction([wi.Threads,wi.MessagesPairs,wi.Files,wi.MessagesPairsVotes],"readwrite")}}function Ts(t,...e){if(!t)return"";const i=e.filter(Boolean);return 0===i.length?t:t.replace(/{(\d)+}/g,((t,e)=>i[e]))}function ks(t,e){const i=new RegExp(`${e}\\s?(\\d+)?$`),n=t.filter((t=>!t.isRenamed&&i.test(t.name))).map((t=>{const e=t.name.match(i);return e&&e[1]?parseInt(e[1],10):0}));if(0===n.length)return e.replace("{0}","");const s=n.length>0?Math.max(...n)+1:1;return Ts(e,String(s))}const Es=o`
    :host {
        --bottom-offset: 120px;
    }

    :host {
        position: absolute;
        z-index: var(--layer_overlay);
        bottom: var(--bottom-offset);
        left: 0;

        width: 100%;
        pointer-events: none;
    }

    :host([platform='mobile']) {
        bottom: var(--space_xs);
    }

    :host([platform='mobile']) .trobber {
        margin-bottom: var(--space_5xl);
    }

    :host([ignore-input-field]) {
        --bottom-offset: 40px;
    }

    .sidebar {
        position: relative;
        top: 100px;
    }

    .toast {
        margin: auto;
        pointer-events: auto;
    }

    :host([platform='mobile']) .toast {
        width: calc(100% - var(--size_3xl));
    }
`;var Ps=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let Ls=class extends ht{constructor(){super(...arguments),this.platform="desktop",this["ignore-input-field"]=!1}connectedCallback(){super.connectedCallback(),document.addEventListener(qn,this.handleGlobalError)}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener(qn,this.handleGlobalError)}updated(t){t.has("appNotificationsContext")&&this.actionToastElement&&this.actionToastElement.resetCountDown()}render(){if(!this.appNotificationsContext?.currentNotification)return K;const{payload:{position:t}}=this.appNotificationsContext.currentNotification;return W`
            ${this.position===t?this.renderNotification():K}
        `}renderNotification(){if(!this.appNotificationsContext?.currentNotification)return K;const{type:t,payload:{text:e}}=this.appNotificationsContext.currentNotification,i=We({toast:!0,sidebar:"sidebar"===this.position});return t===Fn.Trobber?W`<nt-trobber class="trobber"></nt-trobber>`:t===Fn.DeleteThread?W`
                <nt-action-toast
                    class="${i}"
                    @button-click=${this.handleCancelDeleteThread}
                >
                    ${this.localesContext.getText("deleted")}
                </nt-action-toast>
            `:t===Fn.ClearThread?W`
                <nt-action-toast
                    class="${i}"
                    @button-click=${this.handleCancelClearThread}
                >
                    ${this.localesContext.getText("chat_cleared")}
                </nt-action-toast>
            `:W` <nt-toast
            type=${t}
            class="${i}"
            @click=${this.handleNotificationClick}
        >
            ${e}
        </nt-toast>`}handleNotificationClick(){this.appNotificationsContext?.clearNotification()}handleCancelDeleteThread(){this.threadsContext.cancelDeleteThread();this.appNotificationsContext.currentNotification?.type===Fn.DeleteThread&&this.appNotificationsContext.clearNotification()}handleCancelClearThread(){this.threadsContext.cancelClearThread();this.appNotificationsContext.currentNotification?.type===Fn.ClearThread&&this.appNotificationsContext.clearNotification()}handleGlobalError(t){const e=t.detail.text??this.localesContext.getText("default_error_text");this.appNotificationsContext?.showErrorNotification({text:e,position:"center",autoHide:!0})}};function Is(t){return t.replaceAll("","")}Ls.styles=Es,Ps([hi({context:Hn,subscribe:!0}),mt()],Ls.prototype,"appNotificationsContext",void 0),Ps([hi({context:di,subscribe:!0}),mt()],Ls.prototype,"localesContext",void 0),Ps([hi({context:cs,subscribe:!0}),mt()],Ls.prototype,"threadsContext",void 0),Ps([yt("nt-action-toast")],Ls.prototype,"actionToastElement",void 0),Ps([ft({type:String})],Ls.prototype,"platform",void 0),Ps([ft({type:String})],Ls.prototype,"position",void 0),Ps([ft({type:Boolean})],Ls.prototype,"ignore-input-field",void 0),Ps([Ue],Ls.prototype,"handleGlobalError",null),Ls=Ps([pt("nt-app-notification")],Ls);var Ms=i(179),As=i.n(Ms);class Os extends Wi{constructor(){super(...arguments),this.name="MessagesPairsStorageException"}}class Rs extends fi{constructor(t,e,i,n){super(),this.threadsStorage=t,this.messagesPairRepository=e,this.filesRepository=i,this.trackingService=n,this.restoreMessagesFromStorage()}getMessagesPairs(){return this.getState(Rs.MESSAGES_PAIRS_STATE_KEY)??[]}getLastMessagesPair(){return this.getMessagesPairs().at(-1)}getMessagesPairById(t){const{messagesPair:e}=this.findMessagesPair(t);return e}async addMessagesPair(t){const e=this.getListeners(Rs.MESSAGES_PAIRS_PRE_ADD_EVENT_KEY);for(const i of e)await i(t);const i=this.threadsStorage.getActiveThread();t.threadId=i.id,yn(t)?await this.addImageMessagesPairFile(t):bn(t)&&await this.addDocumentMessagesPairFile(t);try{await this.messagesPairRepository.add(t)}catch(t){throw us(t),Wn(),new Os}const n=[...this.getMessagesPairs(),t];this.setMessagesPairs(n)}async addImageMessagesPairFile(t){const{file:e,fileType:i}=t.input;if(!e)throw Wn(),new Os;const n=Nn();t.input.fileId=n;try{await this.filesRepository.add({id:n,messagePairId:t.id,file:e,type:i})}catch(t){throw us(t),Wn(),new Os}}async addDocumentMessagesPairFile(t){const{file:e,fileType:i}=t.input;if(!e)throw Wn(),new Os;const n=Nn();t.input.fileId=n;try{await this.filesRepository.add({id:n,messagePairId:t.id,file:e,type:i})}catch(t){throw us(t),Wn(),new Os}}async deleteMessagesPairsByThread(t){const e=this.getMessagesPairs();try{await this.messagesPairRepository.delete("by_thread_id",t)}catch(t){throw us(t),Wn(),new Os}const i=e.filter((e=>e.threadId!==t));this.setMessagesPairs(i)}attachMessagesPairsChangeListener(t){this.attachStateChangeListener(Rs.MESSAGES_PAIRS_STATE_KEY,t)}detachMessagesPairsChangeListener(t){this.detachStateChangeListener(Rs.MESSAGES_PAIRS_STATE_KEY,t)}attachMessagesPairPreAddListener(t){this.attachStateChangeListener(Rs.MESSAGES_PAIRS_PRE_ADD_EVENT_KEY,t)}detachMessagesPairPreAddListener(t){this.detachStateChangeListener(Rs.MESSAGES_PAIRS_PRE_ADD_EVENT_KEY,t)}async changeMessagesPairLangs(t,e){const{messagesPair:i,messagesPairIndex:n}=this.findMessagesPair(t);if(!i)return;const s=i.input.srcLang,r=i.input.dstLang,a=e.srcLang,o=e.dstLang;!a&&o===s||!o&&a===r?(i.input.srcLang=r,i.input.dstLang=s):(i.input.srcLang=a??s,i.input.dstLang=o??r),await this.replaceMessagesPairWith({...i},n)}async setMessagesPairOutput(t,e){const{messagesPair:i,messagesPairIndex:n}=this.findMessagesPair(t);i&&(vn(i)&&this.fulfillTextMessagesPair(i,e),yn(i)&&this.fulfillImageMessagesPairOutput(i,e),xn(i)&&this.fulfillSiteMessagesPair(i,e),bn(i)&&this.fulfillDocumentMessagesPair(i,e),await this.replaceMessagesPairWith({...i},n))}async setMessagesPairInput(t,e){const{messagesPair:i,messagesPairIndex:n}=this.findMessagesPair(t);i&&(yn(i)&&this.fulfillImageMessagesPairInput(i,e),await this.replaceMessagesPairWith({...i},n))}async setMessagesPairAdditionalInfo(t,e){const{messagesPair:i,messagesPairIndex:n}=this.findMessagesPair(t);i&&(i.additionalInfo=e,await this.replaceMessagesPairWith({...i},n))}async updateMessagesPairFiles(t,e){const{messagesPair:i}=this.findMessagesPair(t);i&&yn(i)&&(await this.updateImageMessagesPairInputFile(i,e.inputFile),await this.updateImageMessagesPairOutputFiles(i,e.outputFiles))}async updateMessagesPairOutputFiles(t,e){const{messagesPair:i}=this.findMessagesPair(t);i&&(bn(i)?await this.updateDocumentMessagesPairOutputFiles(i,e):yn(i)&&await this.updateImageMessagesPairOutputFiles(i,e))}async updateDocumentMessagesPairOutputFiles(t,e){const i=e;let n=t.output?.fileId;const s=i.translatedFile,r=s&&n;if(s&&!n){n=Nn();try{await this.filesRepository.add({id:n,file:s.file,type:s.type,messagePairId:t.id})}catch(t){throw us(t),Wn(),new Os}}else if(r)try{await this.filesRepository.update({id:n,file:s.file,type:s.type,messagePairId:t.id})}catch(t){throw us(t),Wn(),new Os}const a=i.translatedFile?.file.byteLength,o={file:i.translatedFile?.file,fileId:n,fileType:i.translatedFile?.type,fileName:i.translatedFile?.name,fileSize:a};await this.setMessagesPairOutput(t.id,o)}async updateImageMessagesPairInputFile(t,e){const i=e.file,n=t.input.fileId,s={srcLang:t.input.srcLang,dstLang:t.input.dstLang,file:i,fileName:t.input.fileName,fileType:t.input.fileType,fileSize:t.input.fileSize},r=i&&n;if(i&&!n)try{const n=Nn();await this.filesRepository.add({id:n,file:i,type:e.fileType,messagePairId:t.id})}catch(t){throw us(t),Wn(),new Os}else if(r)try{await this.filesRepository.update({id:n,file:i,type:e.fileType,messagePairId:t.id}),s.fileSize=i.byteLength}catch(t){throw us(t),Wn(),new Os}await this.setMessagesPairInput(t.id,s)}async updateImageMessagesPairOutputFiles(t,e){const i=e,n={previewFile:i.previewFile.file,recognizeResult:i.recognizeResult},s=i.erasedImage,r=t.output?.recognizeResult?.erasedImageId,a=s&&r;if(s&&!r)try{const e=Nn();await this.filesRepository.add({id:e,file:s.file,type:s.type,messagePairId:t.id}),n.recognizeResult&&(n.recognizeResult.erasedImageId=e)}catch(t){throw us(t),Wn(),new Os}else if(a)try{await this.filesRepository.update({id:r,file:s.file,type:s.type,messagePairId:t.id}),n.recognizeResult&&(n.recognizeResult.erasedImageId=r)}catch(t){throw us(t),Wn(),new Os}const o=t.output?.previewFileId,l=o;if(!o){const e=Nn();try{await this.filesRepository.add({id:e,file:i.previewFile.file,type:i.previewFile.type,messagePairId:t.id})}catch(t){throw us(t),Wn(),new Os}n.previewFileId=e}else if(l)try{await this.filesRepository.update({id:o,file:i.previewFile.file,type:i.previewFile.type,messagePairId:t.id}),n.previewFileId=o}catch(t){throw us(t),Wn(),new Os}await this.setMessagesPairOutput(t.id,n)}async updateMessagesPairStatus(t,e){const{messagesPair:i,messagesPairIndex:n}=this.findMessagesPair(t);i&&i.status!==e&&(bn(i)||yn(i),i.status=e,await this.replaceMessagesPairWith({...i},n))}async updateMessagesPairsLang(t,e,i){const{messagesPair:n,messagesPairIndex:s}=this.findMessagesPair(t);if(!n)return;const r=an({srcLang:n.input.srcLang,dstLang:n.input.dstLang},{..."src"===e?{srcLang:i}:{dstLang:i}});n.input.srcLang=r.srcLang,n.input.dstLang=r.dstLang,await this.replaceMessagesPairWith({...n},s)}async loadMessagesPairFiles(t){const{messagesPair:e,messagesPairIndex:i}=this.findMessagesPair(t);e&&(yn(e)&&await this.loadImageMessagesPairFiles(e,i),bn(e)&&await this.loadDocumentMessagesPairFiles(e,i))}async loadImageMessagesPairFiles(t,e){if(t.input.fileId){const e=await this.filesRepository.getById(t.input.fileId);t.input.file=e?.file}if(t.output?.previewFileId){const e=await this.filesRepository.getById(t.output?.previewFileId);t.output.previewFile=e?.file}const i=t.output?.recognizeResult?.erasedImageId,n=t.output?.recognizeResult?.erasedImage;if(n&&this.trackingService.trackEvent("tech.erased_image_load",{source:"messages-pairs"}),!n&&i&&t.output?.recognizeResult){this.trackingService.trackEvent("tech.erased_image_load",{source:"files"});const e=await this.filesRepository.getById(i);t.output.recognizeResult.erasedImage=e?.file}await this.replaceMessagesPairWith({...t},e,!1)}async loadDocumentMessagesPairFiles(t,e){if(t.input.fileId){const e=await this.filesRepository.getById(t.input.fileId);t.input.file=e?.file}if(t.output?.fileId){const e=await this.filesRepository.getById(t.output.fileId);t.output.file=e?.file}await this.replaceMessagesPairWith({...t},e,!1)}findMessagesPair(t){const e=this.getMessagesPairs(),i=e.findIndex((({id:e})=>e===t));return{messagesPair:e[i],messagesPairIndex:i}}async replaceMessagesPairWith(t,e,i=!0){const n=this.getMessagesPairs(),s=[...n.slice(0,e),t,...n.slice(e+1)];if(this.setMessagesPairs(s),i)try{if(yn(t)&&t.output?.recognizeResult){const e=As()(t.output.recognizeResult,"erasedImage");await this.messagesPairRepository.update({...t,output:{...t.output,recognizeResult:e}})}else await this.messagesPairRepository.update(t)}catch(t){throw us(t),Wn(),new Os}}fulfillImageMessagesPairInput(t,e){t.input={...t.input,...e}}fulfillImageMessagesPairOutput(t,e){t.output=e}fulfillTextMessagesPair(t,e){t.output={text:e.text,dictionary:e.dictionary,examples:e.examples}}fulfillSiteMessagesPair(t,e){t.output=e}fulfillDocumentMessagesPair(t,e){t.output=e}setMessagesPairs(t){this.setState(Rs.MESSAGES_PAIRS_STATE_KEY,t)}async restoreMessagesFromStorage(){let t=[];try{t=await this.messagesPairRepository.getAll(),t.forEach((t=>{yn(t)&&(t.input.fileName=Is(t.input.fileName)),bn(t)&&(t.input.fileName=Is(t.input.fileName),t.output?.fileName&&(t.output.fileName=Is(t.output.fileName)))}))}catch(t){throw us(t),Wn(),new Os}this.setMessagesPairs(t)}}Rs.MESSAGES_PAIRS_STATE_KEY="messagesPairs",Rs.MESSAGES_PAIRS_PRE_ADD_EVENT_KEY="preAdd:messagesPairs";class Ds{constructor(t){this.indexedDbStorage=t}async addMessagePair(t,e){const i=await this.indexedDbStorage.getDBInstance(),n=e??i.transaction([wi.MessagesPairs,wi.Files,wi.MessagesPairsVotes],"readwrite"),s=n.objectStore(wi.MessagesPairs);if(yn(t)){const e={creationTimestamp:(r=t).creationTimestamp,id:r.id,status:r.status,threadId:r.threadId,type:r.type,additionalInfo:r.additionalInfo,inputFileId:r.input.fileId,input:{srcLang:r.input.srcLang,dstLang:r.input.dstLang,fileName:r.input.fileName,fileSize:r.input.fileSize,fileType:r.input.fileType}};await s.add(e)}else if(bn(t)){const e=function(t){return{creationTimestamp:t.creationTimestamp,id:t.id,status:t.status,threadId:t.threadId,type:t.type,additionalInfo:t.additionalInfo,inputFileId:t.input.fileId,input:{srcLang:t.input.srcLang,dstLang:t.input.dstLang,fileName:t.input.fileName,fileSize:t.input.fileSize,fileType:t.input.fileType}}}(t);await s.add(e)}else if(vn(t)){const e=function(t){return{creationTimestamp:t.creationTimestamp,id:t.id,status:t.status,threadId:t.threadId,type:t.type,additionalInfo:t.additionalInfo,input:{srcLang:t.input.srcLang,dstLang:t.input.dstLang,text:t.input.text}}}(t);await s.add(e)}else if(xn(t)){const e=function(t){return{creationTimestamp:t.creationTimestamp,id:t.id,status:t.status,threadId:t.threadId,type:t.type,additionalInfo:t.additionalInfo,input:{srcLang:t.input.srcLang,dstLang:t.input.dstLang,url:t.input.url}}}(t);await s.add(e)}var r;e||await n.done}}class js{constructor(t,e,i){this.indexedDbStorage=t,this.filesRepository=e,this.messagesPairsVotesRepository=i}async deleteMessagesPairsById(t,e){await this.deleteMessagesPairs({id:t},e)}async deleteMessagesPairsByThreadId(t,e){await this.deleteMessagesPairs({threadId:t},e)}async deleteMessagesPairs(t,e){const{threadId:i,id:n}=t,s=await this.indexedDbStorage.getDBInstance(),r=e??s.transaction([wi.MessagesPairs,wi.Files,wi.MessagesPairsVotes],"readwrite"),a=r.objectStore(wi.MessagesPairs);let o=[];if(i)o=await this.getMessagesPairsByThreadId(i,a);else if(n){const t=await this.getMessagesPairsById(n,a);t&&(o=[t])}const l=o.map((t=>t.id));for(const t of l){try{await this.filesRepository.delete("by_messagePair_id",t,r)}catch(t){throw us(t),t}try{await this.messagesPairsVotesRepository.delete("by_messagePair_id",t,r)}catch(t){throw us(t),t}await a.delete(t)}e||await r.done}async getMessagesPairsByThreadId(t,e){return e.index("by_thread_id").getAll(IDBKeyRange.only(t))}async getMessagesPairsById(t,e){return e.get(t)}}function $s(t){const{type:e}=t;return e===un.Site?function(t){const e={id:t.id,threadId:t.threadId,creationTimestamp:t.creationTimestamp,status:t.status,type:t.type,input:{srcLang:t.input.srcLang,dstLang:t.input.dstLang,url:t.input.url??""}};return t.output&&(e.output={originalUrl:t.output.originalUrl??"",translationUrl:t.output.translationUrl??"",title:t.output.title,description:t.output.description,image:t.output.image}),e}(t):e===un.Image?function(t){const e={id:t.id,threadId:t.threadId,creationTimestamp:t.creationTimestamp,status:t.status,type:t.type,input:{srcLang:t.input.srcLang,dstLang:t.input.dstLang,fileId:t.inputFileId,fileName:t.input.fileName??"",fileSize:t.input.fileSize??0,fileType:t.input.fileType??""}};return(t.output||t.outputFileId)&&(e.output={previewFileId:t.outputFileId,recognizeResult:t.output?.recognizeResult}),e}(t):e===un.Document?function(t){const e={id:t.id,threadId:t.threadId,creationTimestamp:t.creationTimestamp,status:t.status,type:t.type,additionalInfo:t.additionalInfo,input:{srcLang:t.input.srcLang,dstLang:t.input.dstLang,fileId:t.inputFileId,fileName:t.input.fileName??"",fileSize:t.input.fileSize??0,fileType:t.input.fileType??""}};return(t.output||t.outputFileId)&&(e.output={fileId:t.outputFileId,fileName:t.output?.fileName,fileSize:t.output?.fileSize,fileType:t.output?.fileType}),e}(t):function(t){const e={id:t.id,threadId:t.threadId,creationTimestamp:t.creationTimestamp,status:t.status,type:t.type,input:{srcLang:t.input.srcLang,dstLang:t.input.dstLang,text:t.input.text??""}};return t.output&&(e.output={text:t.output.text??"",dictionary:t.output.dictionary,examples:t.output.examples}),e}(t)}function Fs(t){const e=[];for(const i of t){const t=$s(i);e.push(t)}return e}function zs(t){t.sort(((t,e)=>t.creationTimestamp-e.creationTimestamp))}class Bs{constructor(t){this.indexedDbStorage=t}async getAllMessages(){const t=await this.indexedDbStorage.getDBInstance(),e=Fs(await t.getAll(wi.MessagesPairs));return zs(e),e}async getMessagesPairById(t){const e=await this.indexedDbStorage.getDBInstance(),i=await e.get(wi.MessagesPairs,t);if(i)return $s(i)}async getMessagesByThreadId(t){const e=await this.indexedDbStorage.getDBInstance(),i=Fs(await e.getAllFromIndex(wi.MessagesPairs,"by_thread_id",IDBKeyRange.only(t)));return zs(i),i}}class Ns{constructor(t){this.indexedDbStorage=t}async updateMessagePair(t,e){const i=await this.indexedDbStorage.getDBInstance(),n=e??i.transaction([wi.MessagesPairs,wi.Files],"readwrite"),s=n.objectStore(wi.MessagesPairs);if(bn(t)){const e={creationTimestamp:(r=t).creationTimestamp,id:r.id,status:r.status,threadId:r.threadId,type:r.type,additionalInfo:r.additionalInfo,input:{srcLang:r.input.srcLang,dstLang:r.input.dstLang,fileName:r.input.fileName,fileSize:r.input.fileSize,fileType:r.input.fileType},inputFileId:r.input.fileId,output:{fileName:r.output?.fileName,fileSize:r.output?.fileSize,fileType:r.output?.fileType},outputFileId:r.output?.fileId};await s.put(e)}else if(yn(t)){const e=function(t){const e={creationTimestamp:t.creationTimestamp,id:t.id,status:t.status,threadId:t.threadId,type:t.type,additionalInfo:t.additionalInfo,input:{srcLang:t.input.srcLang,dstLang:t.input.dstLang,fileName:t.input.fileName,fileSize:t.input.fileSize,fileType:t.input.fileType},inputFileId:t.input.fileId,output:{recognizeResult:t.output?.recognizeResult},outputFileId:t.output?.previewFileId};return e.output.recognizeResult&&t.output?.recognizeResult?.erasedImageId&&(e.output.recognizeResult.erasedImageId=t.output?.recognizeResult?.erasedImageId),e}(t);await s.put(e)}else if(vn(t)){const e=function(t){return{creationTimestamp:t.creationTimestamp,id:t.id,status:t.status,threadId:t.threadId,type:t.type,additionalInfo:t.additionalInfo,input:{srcLang:t.input.srcLang,dstLang:t.input.dstLang,text:t.input.text},output:{text:t.output?.text,dictionary:t.output?.dictionary,examples:t.output?.examples}}}(t);await s.put(e)}else if(xn(t)){const e=function(t){return{creationTimestamp:t.creationTimestamp,id:t.id,status:t.status,threadId:t.threadId,type:t.type,additionalInfo:t.additionalInfo,input:{srcLang:t.input.srcLang,dstLang:t.input.dstLang,url:t.input.url},output:{originalUrl:t.output?.originalUrl,translationUrl:t.output?.translationUrl}}}(t);await s.put(e)}var r;e||await n.done}}class Vs extends Wi{constructor(t){super({message:t}),this.source="messages-pairs-repository",this.name="MessagesPairRepoistoryException"}}class Hs extends Vs{constructor(){super(...arguments),this.name="GetByIdMessagesPairRepositoryException"}}class Us extends Vs{constructor(){super(...arguments),this.name="GetAllMessagesPairRepositoryException"}}class qs extends Vs{constructor(){super(...arguments),this.name="GetMessagesPairRepositoryException"}}class Ws extends Vs{constructor(){super(...arguments),this.name="AddMessagesPairRepositoryException"}}class Zs extends Vs{constructor(){super(...arguments),this.name="UpdateMessagesPairRepositoryException"}}class Ks extends Vs{constructor(){super(...arguments),this.name="DeleteMessagesPairRepositoryException"}}class Gs{constructor(t,e,i){this.indexedDbStorage=t,this.filesRepository=e,this.messagesPairsVotesRepository=i,this.messagesPairGetExecutor=new Bs(this.indexedDbStorage),this.messagesPairAddExecutor=new Ds(this.indexedDbStorage),this.messagesPairDeleteExecutor=new js(this.indexedDbStorage,this.filesRepository,this.messagesPairsVotesRepository),this.messagesPairUpdateExecutor=new Ns(this.indexedDbStorage)}async getById(t){try{return this.messagesPairGetExecutor.getMessagesPairById(t)}catch(t){const e=t instanceof Error?t.message:"";throw new Hs(e)}}async getAll(){try{return this.messagesPairGetExecutor.getAllMessages()}catch(t){const e=t instanceof Error?t.message:"";throw new Us(e)}}async get(t,e){try{return this.getInternal(t,e)}catch(t){const e=t instanceof Error?t.message:"";throw new qs(e)}}async getInternal(t,e){return"by_thread_id"===t?this.messagesPairGetExecutor.getMessagesByThreadId(e):[]}async add(t,e){try{await this.messagesPairAddExecutor.addMessagePair(t,e)}catch(t){const e=_i(t);throw new Ws(e)}}async update(t,e){try{await this.messagesPairUpdateExecutor.updateMessagePair(t,e)}catch(t){const e=_i(t);throw new Zs(e)}}async delete(t,e,i){try{await this.deleteInternal(t,e,i)}catch(t){const e=_i(t);throw new Ks(e)}}async deleteInternal(t,e,i){"id"!==t?await this.messagesPairDeleteExecutor.deleteMessagesPairsByThreadId(e,i):await this.messagesPairDeleteExecutor.deleteMessagesPairsById(e,i)}}const Ys="messagesPairsVotes";var Xs,Js,Qs=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};class tr{constructor(t,e){this.getMessagesPairsVotesContext=t,this.setMessagesPairsVotesContext=e,this.messagesPairsVotesStorage=of.resolve(rf.MessagesPairsVotesStorage),this.setMessagesPairsVotesContext(this.getInitialMessagesPairsVotesContext()),this.messagesPairsVotesStorage.attachMessagesPairsChangeListener(this.handleMessagesPairsVotesMapChange)}disconnect(){this.messagesPairsVotesStorage.detachMessagesPairsChangeListener(this.handleMessagesPairsVotesMapChange)}getInitialMessagesPairsVotesContext(){return{messagesPairsVotesMap:this.messagesPairsVotesStorage.getMessagesPairVotesMap(),applyMessagesPairVote:(t,e)=>this.messagesPairsVotesStorage.applyMessagesPairVote(t,e)}}handleMessagesPairsVotesMapChange(t){this.setMessagesPairsVotesContext({...this.getMessagesPairsVotesContext(),messagesPairsVotesMap:t??{}})}}Qs([Ue],tr.prototype,"handleMessagesPairsVotesMapChange",null);class er extends Wi{constructor(){super(...arguments),this.name="MessagesPairsVotesStorageException"}}class ir extends fi{constructor(t){super(),this.messagesPairVoteRepository=t,this.restoreMessagesVotes()}getMessagesPairVotesMap(){return this.getState(ir.MESSAGES_PAIRS_VOTES_MAP_STATE_KEY)??ir.DEFAULT_MESSAGES_PAIRS_VOTES_MAP}async applyMessagesPairVote(t,e){const i=this.getMessagesPairVotesMap();let n;i[t]!==e&&(n=e);let s=[];try{s=await this.messagesPairVoteRepository.get("by_messagePair_id",t)}catch(t){throw us(t),Wn(),new er}const r=s[0],a=Boolean(r);if(a&&r?.vote===e)try{await this.messagesPairVoteRepository.delete("id",r.id)}catch(t){throw us(t),Wn(),new er}else if(e&&a)try{await this.messagesPairVoteRepository.update({messagesPairId:t,vote:e,id:r.id})}catch(t){throw us(t),Wn(),new er}else if(e&&!a)try{await this.messagesPairVoteRepository.add({messagesPairId:t,vote:e,id:Nn()})}catch(t){throw us(t),Wn(),new er}this.setState(ir.MESSAGES_PAIRS_VOTES_MAP_STATE_KEY,{...i,[t]:n})}attachMessagesPairsChangeListener(t){this.attachStateChangeListener(ir.MESSAGES_PAIRS_VOTES_MAP_STATE_KEY,t)}detachMessagesPairsChangeListener(t){this.detachStateChangeListener(ir.MESSAGES_PAIRS_VOTES_MAP_STATE_KEY,t)}async restoreMessagesVotes(){let t=[];try{t=await this.messagesPairVoteRepository.getAll()}catch(t){throw us(t),Wn(),new er}const e=t.reduce(((t,e)=>({...t,[e.messagesPairId]:e.vote})),{});this.setState(ir.MESSAGES_PAIRS_VOTES_MAP_STATE_KEY,e)}}ir.MESSAGES_PAIRS_VOTES_MAP_STATE_KEY="messagesPairsVotes",ir.DEFAULT_MESSAGES_PAIRS_VOTES_MAP={};class nr extends Wi{constructor(t){super({message:t}),this.source="votes-repository",this.name="MessagesPairVoteRepositoryException"}}class sr extends nr{constructor(){super(...arguments),this.name="GetByIdMessagesPairVoteRepositoryException"}}class rr extends nr{constructor(){super(...arguments),this.name="GetAllMessagesPairVoteRepositoryException"}}class ar extends nr{constructor(){super(...arguments),this.name="GetMessagesPairVoteRepositoryException"}}class or extends nr{constructor(){super(...arguments),this.name="AddMessagesPairVoteRepositoryException"}}class lr extends nr{constructor(){super(...arguments),this.name="UpdateMessagesPairVoteRepositoryException"}}class cr extends nr{constructor(){super(...arguments),this.name="DeleteMessagesPairVoteRepositoryException"}}function hr(t){return{id:t.id,messagesPairId:t.messagePairId,vote:t.vote}}class dr{constructor(t){this.indexedDbStorage=t}async getById(t){try{return this.getByIdInternal(t)}catch(t){const e=t instanceof Error?t.message:"";throw new sr(e)}}async getByIdInternal(t){const e=await this.indexedDbStorage.getDBInstance(),i=await e.get(wi.MessagesPairsVotes,t);if(i)return hr(i)}async getAll(){try{return this.getAllInternal()}catch(t){const e=t instanceof Error?t.message:"";throw new rr(e)}}async getAllInternal(){const t=await this.indexedDbStorage.getDBInstance();return(await t.getAll(wi.MessagesPairsVotes)).map(hr)}async get(t,e){try{return this.getInternal(t,e)}catch(t){const e=t instanceof Error?t.message:"";throw new ar(e)}}async getInternal(t,e){const i=await this.indexedDbStorage.getDBInstance();return(await i.getAllFromIndex(wi.MessagesPairsVotes,t,IDBKeyRange.only(e))).map(hr)}async add(t,e){try{await this.addInternal(t,e)}catch(t){const e=t instanceof Error?t.message:"";throw new or(e)}}async addInternal(t,e){const i=await this.indexedDbStorage.getDBInstance(),n=e??i.transaction(wi.MessagesPairsVotes,"readwrite"),s=n.objectStore(wi.MessagesPairsVotes);await s.add({messagePairId:t.messagesPairId,vote:t.vote,id:Nn()}),e||await(n?.done)}async update(t,e){try{await this.updateInternal(t,e)}catch(t){const e=t instanceof Error?t.message:"";throw new lr(e)}}async updateInternal(t,e){const i=await this.indexedDbStorage.getDBInstance(),n=e??i.transaction(wi.MessagesPairsVotes,"readwrite"),s=n.objectStore(wi.MessagesPairsVotes);await s.put({messagePairId:t.messagesPairId,vote:t.vote,id:t.id}),e||await n.done}async delete(t,e,i){try{await this.deleteInternal(t,e,i)}catch(t){const e=t instanceof Error?t.message:"";throw new cr(e)}}async deleteInternal(t,e,i){const n=await this.indexedDbStorage.getDBInstance(),s=i??n.transaction(wi.MessagesPairsVotes,"readwrite"),r=s.objectStore(wi.MessagesPairsVotes);if("id"===t){const t=await r.get(e);t&&await r.delete(t.id)}else if("by_messagePair_id"===t){const i=await r.index(t).getAll(IDBKeyRange.only(e));for(const t of i)await r.delete(t.id)}i||await s.done}}!function(t){t.Like="like",t.Dislike="dislike"}(Xs||(Xs={}));class pr{constructor(){this.tasksPool=[]}executeTask(t){this.tasksPool.push(t);t.start({onStop:()=>this.handleTaskStop(t)})}handleTaskStop(t){this.tasksPool=this.tasksPool.filter((e=>e!==t))}}!function(t){t.Assigned="Assigned",t.Running="Running",t.Stopped="Stopped"}(Js||(Js={}));const ur="environment";class gr{constructor(t){this.setEnvironmentContext=t,this.config=of.resolve(rf.Config),this.setEnvironmentContext(this.getInitialPlatformContext())}disconnect(){}getInitialPlatformContext(){return{platform:this.config.platform,env:this.config.env,isMobile:"mobile"===this.config.platform,isDesktop:"desktop"===this.config.platform}}}function fr(t,e){if(!e)return[];let i=[];if(t){const n=function(t){return t.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")}(t),s=new RegExp(`(${n})`,"gi");i=e.split(s)}else i=[e];return i}function mr(t,e){return!(!t||!e)&&e.toLowerCase().includes(t)}const vr="search-sidebar";class yr{constructor(t,e){this.getSearchContext=t,this.setSearchContext=e,this.setSearchContext(this.getInitialSearchContext())}disconnect(){}getInitialSearchContext(){return{searchText:"",setSearchText:t=>{if(this.getSearchContext().searchText!==t){const e={...this.getSearchContext(),searchText:t};this.setSearchContext(e)}}}}}function xr(t){return null==t}function br(t,e){return Object.keys(t).reduce(((e,i)=>{const n=t[i],s=Array.isArray(n)?n:[n],r=encodeURIComponent(i);return e.concat(s.map((t=>xr(t)?r:r+"="+encodeURIComponent(String(t)))))}),[]).join(e||"&")}const wr=["image/jpeg","image/png","image/jpg","image/webp"],_r=["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/pdf","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation"],Cr=[..._r,...wr],Sr={"application/msword":"doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","application/pdf":"pdf","application/vnd.ms-excel":"xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","application/vnd.ms-powerpoint":"ppt","application/vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","image/jpeg":"jpeg","image/png":"png","image/jpg":"jpg","image/webp":"webp"},Tr={doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",pdf:"application/pdf",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",jpeg:"image/jpeg",png:"image/png",jpg:"image/jpg",webp:"image/webp"};function kr(t){return Sr[t]}function Er(t){return Tr[t]}function Pr(t){return{file:t,fileName:t.name,fileSize:t.size}}function Lr(t){const e=t.lastIndexOf("."),i=-1!==e?t.substring(0,e):t,n=i.length+1;return{name:i,extension:t.slice(n)}}function Ir(t,e){const i=new Blob([t],{type:wr.includes(e)?e:Er(e)}),n=URL.createObjectURL(i);return{url:n,revoke:()=>URL.revokeObjectURL(n)}}function Mr(t,e){return`${t}_translated.${e}`}const Ar=t=>{if(!t)return"translated_image.jpg";const{name:e}=Lr(t);return Mr(e,"jpg")};const Or="https://translate.yandex.ru/translate";function Rr(t){const e=br({view:"ocr",url:t.trim()});return`${Or}?${e}`}function Dr(t,e){return"KB"===e?t/Math.pow(1024,1):t/Math.pow(1024,2)}const jr=t=>{const e=Dr(t,"KB"),i=Dr(t,"MB");return i<1?{fileSize:+e.toFixed(0),type:"KB"}:{fileSize:+i.toFixed(0),type:"MB"}};function $r(t,e){requestAnimationFrame((()=>{const i=e?.getElementById(t);i?.scrollIntoView({block:"center"})}))}var Fr=i(3267),zr=i.n(Fr),Br=i(4595),Nr=i.n(Br),Vr=i(2247),Hr=i.n(Vr),Ur=i(7962),qr=i.n(Ur);function Wr(t){return t.startsWith("doc")?zr():t.startsWith("ppt")?Hr():t.startsWith("xls")?qr():Nr()}function Zr(t,e){if(!t)return"";const i=new Blob([t],{type:e});return window.URL.createObjectURL(i)}const Kr=o`
    :host {
        --svg-width: 20px;
    }

    .image {
        width: calc(var(--space_3xs) + var(--space_2xs) + var(--space_xl));
        height: var(--space_3xl);
        border-radius: var(--border-radius_xs);
    }

    .icon {
        width: 100%;
        height: 100%;
    }

    .icon.spinner {
        color: var(--control-clear-text);

        animation-name: rotate;
        animation-duration: 5s;
        animation-timing-function: linear;
        animation-iteration-count: infinite;
    }

    .icon.error {
        color: var(--control-clear-text);
    }

    .highlighted {
        background: var(--highlighted-color-text);
        border-radius: 3px;
    }

    @keyframes rotate {
        from {
            transform: rotate(-360deg);
        }

        to {
            transform: rotate(360deg);
        }
    }
`;var Gr=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let Yr=class extends ht{constructor(){super(...arguments),this.trackingService=of.resolve(rf.TrackingService),this.loadedBytes=0,this.previewLink="",this.isHighlighted=!1}connectedCallback(){super.connectedCallback(),this.simulateLoading()}get isLoading(){return!!this.message&&An(this.message.status)}get isError(){return!!this.message&&jn(this.message.status)}get messagesPairId(){return this.message?.id??""}get fileName(){return this.message?.input.fileName??""}get fileSize(){return this.message?.input.fileSize??0}get file(){return this.message?.input?.file}get fileType(){return this.message?.input?.fileType}get fileExtension(){return this.message?.input.fileType?kr(this.message.input.fileType):""}get icon(){return this.isLoading?Oe():this.isError?De():Wr(this.fileExtension)}async handlePreviewUrl(){this.previewLink=Zr(this.file,this.fileType)}handleCLickLink(){this.message&&this.trackingService.trackEvent("document_preview_tap",{message_id:this.message?.id,type:"src"})}handleSearchTextChange(){const{searchText:t}=this.searchSidebarContext;this.isHighlighted=mr(t,this.fileName),this.isHighlighted&&$r(this.messagesPairId,this.shadowRoot)}async updated(t){t.has("message")&&await this.handlePreviewUrl();t.has("searchSidebarContext")&&this.handleSearchTextChange()}simulateLoading(){const t=setInterval((()=>{const e=+(this.fileSize/20).toFixed(),i=Math.max(e,253952);this.loadedBytes>=this.fileSize||!this.isLoading?(this.loadedBytes=this.fileSize,clearInterval(t),this.requestUpdate()):(this.loadedBytes+=Math.min(i,this.fileSize-this.loadedBytes),this.requestUpdate())}),500)}render(){const{fileSize:t,type:e}=jr(this.fileSize),i=this.environmentContext.isMobile?"s":"m";return W`
            <flex-container
                id="${this.messagesPairId}"
                gap=${i}
                justify="flex-start"
                align="center"
            >
                <flex-container
                    gap="none"
                    justify="flex-start"
                    align="center"
                    class="image"
                >
                    <ya-icon
                        size="auto"
                        color="white"
                        class="${We({icon:!0,spinner:this.isLoading,error:this.isError})}"
                    >
                        ${Rt(this.icon)}
                    </ya-icon>
                </flex-container>
                <flex-container
                    gap="2xs"
                    direction="column"
                    align="start"
                    justify="center"
                >
                    ${this.renderFileInfo({fileSize:t,type:e})}
                </flex-container>
            </flex-container>
        `}renderFileInfo({fileSize:t,type:e}){let i=`${t} ${e}`;if(this.isLoading){const{fileSize:n,type:s}=jr(this.loadedBytes);i=`${n} ${s} / ${t} ${e}`}this.isError&&(i=this.localesContext.getText("document_download_error"));const{searchText:n}=this.searchSidebarContext,s=fr(n,this.fileName),r=We({highlighted:this.isHighlighted}),a=s.map((t=>t.toLowerCase()===n?W`<span class="${r}">${t}</span>`:W`<span>${t}</span>`));return W`
            <ya-text font-size="s" font-weight="regular">
                ${a}
            </ya-text>
            <flex-container
                direction="row"
                justify="flext-start"
                align="center"
            >
                <ya-text font-size="s" font-weight="regular" color="secondary">
                    ${i}
                </ya-text>
                ${this.renderPreviewLink()} ${this.renderRetryButton()}
            </flex-container>
        `}renderPreviewLink(){return this.isLoading||this.isError?K:W`
            &nbsp;&nbsp;
            <ya-link
                font-size="s"
                line-height="s"
                font-weight="regular"
                href="${this.previewLink}"
                target="_blank"
                @click="${this.handleCLickLink}"
            >
                ${this.localesContext.getText("preview")}
            </ya-link>
        `}renderRetryButton(){return this.isError?W`
            &nbsp;&nbsp;
            <ya-link
                font-size="s"
                line-height="s"
                font-weight="regular"
                @click=${this.handleRetryButtonClick}
            >
                ${this.localesContext.getText("retry")}
            </ya-link>
        `:K}handleRetryButtonClick(t){t.preventDefault();const e=new CustomEvent("retry-click");this.dispatchEvent(e)}};Yr.styles=Kr,Gr([ft({attribute:"message",type:Object})],Yr.prototype,"message",void 0),Gr([hi({context:vr,subscribe:!0}),mt()],Yr.prototype,"searchSidebarContext",void 0),Gr([hi({context:di,subscribe:!0}),mt()],Yr.prototype,"localesContext",void 0),Gr([hi({context:ur}),mt()],Yr.prototype,"environmentContext",void 0),Gr([mt()],Yr.prototype,"loadedBytes",void 0),Gr([mt()],Yr.prototype,"previewLink",void 0),Gr([mt()],Yr.prototype,"isHighlighted",void 0),Yr=Gr([pt("nt-input-document")],Yr);
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Xr=t=>t??K,Jr=o`
    :host {
        display: inline-block;
    }

    .link-wrapper {
        color: inherit;
        text-decoration: none;
        cursor: default;
    }

    .link-wrapper.disabled {
        pointer-events: none;
    }

    .text-content {
        transition: color var(--transition-duration-m);

        &:hover {
            color: var(--link-hover);
        }
    }
`;var Qr=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let ta=class extends ht{constructor(){super(...arguments),this.disabled=!1,this.href="",this.fontSize="m",this.lineHeight="m",this.fontWeight="regular",this.textAlign="center",this.fontStyle="normal",this["link-aria-label"]=""}click(){this.nativeLinkElement.click()}render(){return W`
            <a
                hreftranslate=${Xr(this.hreftranslate)}
                href="${this.href}"
                target=${Xr(this.target)}
                download=${Xr(this.download)}
                aria-label=${this["link-aria-label"]}
                class="${We({"link-wrapper":!0,disabled:this.disabled})}"
            >
                <ya-text
                    part="text"
                    font-size="${this.fontSize}"
                    line-height="${this.lineHeight}"
                    font-weight="${this.fontWeight}"
                    text-align="${this.textAlign}"
                    color="${this.disabled?"primary":"link"}"
                    class="text-content"
                >
                    <slot></slot>
                </ya-text>
            </a>
        `}};ta.styles=Jr,Qr([ft({attribute:"disabled",type:Boolean})],ta.prototype,"disabled",void 0),Qr([ft({attribute:"href",type:String})],ta.prototype,"href",void 0),Qr([ft({attribute:"hreftranslate",type:String})],ta.prototype,"hreftranslate",void 0),Qr([ft({attribute:"target",type:String})],ta.prototype,"target",void 0),Qr([ft({attribute:"download",type:String})],ta.prototype,"download",void 0),Qr([ft({attribute:"font-size",type:String})],ta.prototype,"fontSize",void 0),Qr([ft({attribute:"line-height",type:String})],ta.prototype,"lineHeight",void 0),Qr([ft({attribute:"font-weight",type:String})],ta.prototype,"fontWeight",void 0),Qr([ft({attribute:"text-align",type:String})],ta.prototype,"textAlign",void 0),Qr([ft({attribute:"font-style",type:String})],ta.prototype,"fontStyle",void 0),Qr([ft({attribute:"link-aria-label",type:String})],ta.prototype,"link-aria-label",void 0),Qr([yt("a")],ta.prototype,"nativeLinkElement",void 0),ta=Qr([pt("ya-link")],ta);class ea{constructor(t){this.params=t}hostConnected(){this.observer=new IntersectionObserver((t=>{for(const e of t)e.isIntersecting&&this.params.onShow()}),{root:null,rootMargin:"0px",threshold:.1}),this.observer.observe(this.params.htmlElement)}hostDisconnected(){this.observer?.disconnect()}}const ia=o`
    :host {
        flex-grow: 1;
        position: relative;

        padding: 0 0 calc(var(--space_2xs) + var(--space_3xs));
    }

    .image {
        width: calc(var(--space_3xs) + var(--space_2xs) + var(--space_xl));
        height: var(--space_3xl);
        border-radius: var(--border-radius_xs);
    }

    .icon {
        width: 100%;
        height: 100%;
    }

    .retry-link {
        margin-left: var(--space_xl);
    }

    .highlighted {
        background: var(--highlighted-color-text);
        border-radius: 3px;
    }
`;var na=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let sa=class extends ht{constructor(){super(...arguments),this.trackingService=of.resolve(rf.TrackingService),this.previewLink="",this.isHighlighted=!1}get file(){return this.message?.output?.file}get fileName(){return this.message?.output?.fileName}get fileSize(){return this.message?.output?.fileSize??0}get fileType(){return this.message?.output?.fileType}get messagesPairId(){return this.message?.id??""}get isRewriting(){if(!this.message)return!1;const{status:t}=this.message;return Rn(t)||Cn(t)}get fileExtension(){return this.message?.input.fileType?kr(this.message.input.fileType):""}get icon(){return Wr(this.fileExtension)}get isError(){if(!this.message)return!1;const{status:t}=this.message;return Dn(t)||Sn(t)}get isPending(){if(!this.message)return!1;const{status:t}=this.message;return An(t)||On(t)||_n(t)}connectedCallback(){super.connectedCallback();this.addController(new ea({htmlElement:this,onShow:()=>{this.messagesPairsContext.loadMessagesPairFiles(this.messagesPairId)}}))}render(){if(this.isPending)return K;if(this.isError)return this.renderError();const t=this.environmentContext.isMobile?"s":"m";return W`
            <flex-container
                id="${this.messagesPairId}"
                gap=${t}
                justify="flex-start"
                align="center"
            >
                <flex-container
                    gap="s"
                    justify="center"
                    align="center"
                    class="image"
                >
                    <ya-icon size="auto" color="white" class="icon">
                        ${Rt(this.icon)}
                    </ya-icon>
                </flex-container>
                <flex-container
                    gap="2xs"
                    direction="column"
                    align="start"
                    justify="center"
                >
                    ${this.renderContent()}
                </flex-container>
            </flex-container>
        `}renderError(){return W`
            <flex-container direction="column" gap="2xs">
                <flex-container direction="row" gap="xs">
                    <ya-icon size="m">
                        ${Rt(ee())}
                    </ya-icon>
                    <ya-text font-size="s" line-height="s" font-weight="medium">
                        ${this.localesContext.getText("file_translate_error")}
                    </ya-text>
                </flex-container>
                <ya-link
                    class="retry-link"
                    font-size="s"
                    line-height="s"
                    font-weight="regular"
                    @click=${this.handleRetryButtonClick}
                >
                    ${this.localesContext.getText("retry")}
                </ya-link>
            </flex-container>
        `}renderContent(){if(!this.fileSize)return K;const{fileSize:t,type:e}=jr(this.fileSize),{searchText:i}=this.searchSidebarContext,n=fr(i,this.fileName),s=We({highlighted:this.isHighlighted}),r=n.map((t=>t.toLowerCase()===i?W`<span class="${s}">${t}</span>`:W`<span>${t}</span>`));return W`
            <ya-text font-size="s" font-weight="regular">
                ${r}
            </ya-text>
            <flex-container
                direction="row"
                justify="flext-start"
                align="center"
            >
                <ya-text font-size="s" font-weight="regular" color="secondary">
                    ${t} ${e}
                </ya-text>
                &nbsp;&nbsp;
                <ya-link
                    .disabled=${this.isRewriting}
                    font-size="s"
                    line-height="s"
                    font-weight="regular"
                    href=${this.previewLink}
                    target="_blank"
                    @click="${this.handleCLickLink}"
                >
                    ${this.localesContext.getText("preview")}
                </ya-link>
            </flex-container>
        `}async handlePreviewUrl(){this.previewLink=Zr(this.file,this.fileType)}handleSearchTextChange(){const{searchText:t}=this.searchSidebarContext;this.isHighlighted=mr(t,this.fileName),this.messagesPairId&&this.isHighlighted&&$r(this.messagesPairId,this.shadowRoot)}handleRetryButtonClick(t){t.preventDefault();const e=new CustomEvent("retry-click");this.dispatchEvent(e)}async updated(t){t.has("message")&&await this.handlePreviewUrl();t.has("searchSidebarContext")&&this.handleSearchTextChange()}handleCLickLink(){this.message&&this.trackingService.trackEvent("document_preview_tap",{message_id:this.message?.id,type:"dst"})}};sa.styles=ia,na([ft({attribute:"message",type:Object})],sa.prototype,"message",void 0),na([hi({context:vr,subscribe:!0}),mt()],sa.prototype,"searchSidebarContext",void 0),na([hi({context:di,subscribe:!0}),mt()],sa.prototype,"localesContext",void 0),na([hi({context:$n}),mt()],sa.prototype,"messagesPairsContext",void 0),na([hi({context:ur}),mt()],sa.prototype,"environmentContext",void 0),na([mt()],sa.prototype,"previewLink",void 0),na([mt()],sa.prototype,"isHighlighted",void 0),sa=na([pt("nt-output-document")],sa);const ra=navigator.userAgent.toLowerCase();function aa(){return Boolean(function(){if(!ra.match(/chrom(e|ium)\/([0-9]+)\./)&&ra.indexOf("safari/")>0){const t=ra.match(/version\/([0-9]+)/);return t?parseInt(t[1]||"1"):0}return 0}())}function oa(){if(/ip(hone|ad|od)/.test(ra)){const t=ra.match(/os ([0-9_]+)/);return t?parseFloat(t[1].replace(/_/g,".")):1}return 0}function la(){return Boolean(oa())}function ca(){return Boolean(function(){const t=ra.match(/android ([0-9.]*)/);return t?parseFloat(t[1]||"1"):0}())}function ha(){return la()||ca()}async function da(t,e){if(!t)return"";const i=new Blob([t],{type:e}),n=window.URL.createObjectURL(i);return la()?await async function(t,e){return new Promise(((i,n)=>{const s=new Blob([t],{type:e}),r=new FileReader;r.onloadend=()=>i(r.result),r.onerror=n,r.readAsDataURL(s)}))}(t,e):n}var pa,ua;function ga(t,e){return function(){return t.apply(e,arguments)}}!function(t){t[t.Json=0]="Json",t[t.Form=1]="Form",t[t.Multipart=2]="Multipart"}(pa||(pa={})),function(t){t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.Forbidden=403]="Forbidden",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.TooManyRequests=429]="TooManyRequests"}(ua||(ua={}));const{toString:fa}=Object.prototype,{getPrototypeOf:ma}=Object,va=(ya=Object.create(null),t=>{const e=fa.call(t);return ya[e]||(ya[e]=e.slice(8,-1).toLowerCase())});var ya;const xa=t=>(t=t.toLowerCase(),e=>va(e)===t),ba=t=>e=>typeof e===t,{isArray:wa}=Array,_a=ba("undefined");const Ca=xa("ArrayBuffer");const Sa=ba("string"),Ta=ba("function"),ka=ba("number"),Ea=t=>null!==t&&"object"==typeof t,Pa=t=>{if("object"!==va(t))return!1;const e=ma(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)},La=xa("Date"),Ia=xa("File"),Ma=xa("Blob"),Aa=xa("FileList"),Oa=xa("URLSearchParams"),[Ra,Da,ja,$a]=["ReadableStream","Request","Response","Headers"].map(xa);function Fa(t,e,{allOwnKeys:i=!1}={}){if(null==t)return;let n,s;if("object"!=typeof t&&(t=[t]),wa(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{const s=i?Object.getOwnPropertyNames(t):Object.keys(t),r=s.length;let a;for(n=0;n<r;n++)a=s[n],e.call(null,t[a],a,t)}}function za(t,e){e=e.toLowerCase();const i=Object.keys(t);let n,s=i.length;for(;s-- >0;)if(n=i[s],e===n.toLowerCase())return n;return null}const Ba="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Na=t=>!_a(t)&&t!==Ba;const Va=(Ha="undefined"!=typeof Uint8Array&&ma(Uint8Array),t=>Ha&&t instanceof Ha);var Ha;const Ua=xa("HTMLFormElement"),qa=(({hasOwnProperty:t})=>(e,i)=>t.call(e,i))(Object.prototype),Wa=xa("RegExp"),Za=(t,e)=>{const i=Object.getOwnPropertyDescriptors(t),n={};Fa(i,((i,s)=>{let r;!1!==(r=e(i,s,t))&&(n[s]=r||i)})),Object.defineProperties(t,n)},Ka="abcdefghijklmnopqrstuvwxyz",Ga="0123456789",Xa={DIGIT:Ga,ALPHA:Ka,ALPHA_DIGIT:Ka+Ka.toUpperCase()+Ga};const Ja=xa("AsyncFunction"),Qa={isArray:wa,isArrayBuffer:Ca,isBuffer:function(t){return null!==t&&!_a(t)&&null!==t.constructor&&!_a(t.constructor)&&Ta(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"==typeof FormData&&t instanceof FormData||Ta(t.append)&&("formdata"===(e=va(t))||"object"===e&&Ta(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&Ca(t.buffer),e},isString:Sa,isNumber:ka,isBoolean:t=>!0===t||!1===t,isObject:Ea,isPlainObject:Pa,isReadableStream:Ra,isRequest:Da,isResponse:ja,isHeaders:$a,isUndefined:_a,isDate:La,isFile:Ia,isBlob:Ma,isRegExp:Wa,isFunction:Ta,isStream:t=>Ea(t)&&Ta(t.pipe),isURLSearchParams:Oa,isTypedArray:Va,isFileList:Aa,forEach:Fa,merge:function t(){const{caseless:e}=Na(this)&&this||{},i={},n=(n,s)=>{const r=e&&za(i,s)||s;Pa(i[r])&&Pa(n)?i[r]=t(i[r],n):Pa(n)?i[r]=t({},n):wa(n)?i[r]=n.slice():i[r]=n};for(let t=0,e=arguments.length;t<e;t++)arguments[t]&&Fa(arguments[t],n);return i},extend:(t,e,i,{allOwnKeys:n}={})=>(Fa(e,((e,n)=>{i&&Ta(e)?t[n]=ga(e,i):t[n]=e}),{allOwnKeys:n}),t),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,i,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),i&&Object.assign(t.prototype,i)},toFlatObject:(t,e,i,n)=>{let s,r,a;const o={};if(e=e||{},null==t)return e;do{for(s=Object.getOwnPropertyNames(t),r=s.length;r-- >0;)a=s[r],n&&!n(a,t,e)||o[a]||(e[a]=t[a],o[a]=!0);t=!1!==i&&ma(t)}while(t&&(!i||i(t,e))&&t!==Object.prototype);return e},kindOf:va,kindOfTest:xa,endsWith:(t,e,i)=>{t=String(t),(void 0===i||i>t.length)&&(i=t.length),i-=e.length;const n=t.indexOf(e,i);return-1!==n&&n===i},toArray:t=>{if(!t)return null;if(wa(t))return t;let e=t.length;if(!ka(e))return null;const i=new Array(e);for(;e-- >0;)i[e]=t[e];return i},forEachEntry:(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let n;for(;(n=i.next())&&!n.done;){const i=n.value;e.call(t,i[0],i[1])}},matchAll:(t,e)=>{let i;const n=[];for(;null!==(i=t.exec(e));)n.push(i);return n},isHTMLForm:Ua,hasOwnProperty:qa,hasOwnProp:qa,reduceDescriptors:Za,freezeMethods:t=>{Za(t,((e,i)=>{if(Ta(t)&&-1!==["arguments","caller","callee"].indexOf(i))return!1;const n=t[i];Ta(n)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")}))}))},toObjectSet:(t,e)=>{const i={},n=t=>{t.forEach((t=>{i[t]=!0}))};return wa(t)?n(t):n(String(t).split(e)),i},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,i){return e.toUpperCase()+i})),noop:()=>{},toFiniteNumber:(t,e)=>null!=t&&Number.isFinite(t=+t)?t:e,findKey:za,global:Ba,isContextDefined:Na,ALPHABET:Xa,generateString:(t=16,e=Xa.ALPHA_DIGIT)=>{let i="";const{length:n}=e;for(;t--;)i+=e[Math.random()*n|0];return i},isSpecCompliantForm:function(t){return!!(t&&Ta(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),i=(t,n)=>{if(Ea(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[n]=t;const s=wa(t)?[]:{};return Fa(t,((t,e)=>{const r=i(t,n+1);!_a(r)&&(s[e]=r)})),e[n]=void 0,s}}return t};return i(t,0)},isAsyncFn:Ja,isThenable:t=>t&&(Ea(t)||Ta(t))&&Ta(t.then)&&Ta(t.catch)};function to(t,e,i,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),i&&(this.config=i),n&&(this.request=n),s&&(this.response=s)}Qa.inherits(to,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Qa.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const eo=to.prototype,io={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{io[t]={value:t}})),Object.defineProperties(to,io),Object.defineProperty(eo,"isAxiosError",{value:!0}),to.from=(t,e,i,n,s,r)=>{const a=Object.create(eo);return Qa.toFlatObject(t,a,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),to.call(a,t.message,e,i,n,s),a.cause=t,a.name=t.name,r&&Object.assign(a,r),a};const no=to;function so(t){return Qa.isPlainObject(t)||Qa.isArray(t)}function ro(t){return Qa.endsWith(t,"[]")?t.slice(0,-2):t}function ao(t,e,i){return t?t.concat(e).map((function(t,e){return t=ro(t),!i&&e?"["+t+"]":t})).join(i?".":""):e}const oo=Qa.toFlatObject(Qa,{},null,(function(t){return/^is[A-Z]/.test(t)}));const lo=function(t,e,i){if(!Qa.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const n=(i=Qa.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!Qa.isUndefined(e[t])}))).metaTokens,s=i.visitor||c,r=i.dots,a=i.indexes,o=(i.Blob||"undefined"!=typeof Blob&&Blob)&&Qa.isSpecCompliantForm(e);if(!Qa.isFunction(s))throw new TypeError("visitor must be a function");function l(t){if(null===t)return"";if(Qa.isDate(t))return t.toISOString();if(!o&&Qa.isBlob(t))throw new no("Blob is not supported. Use a Buffer instead.");return Qa.isArrayBuffer(t)||Qa.isTypedArray(t)?o&&"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}function c(t,i,s){let o=t;if(t&&!s&&"object"==typeof t)if(Qa.endsWith(i,"{}"))i=n?i:i.slice(0,-2),t=JSON.stringify(t);else if(Qa.isArray(t)&&function(t){return Qa.isArray(t)&&!t.some(so)}(t)||(Qa.isFileList(t)||Qa.endsWith(i,"[]"))&&(o=Qa.toArray(t)))return i=ro(i),o.forEach((function(t,n){!Qa.isUndefined(t)&&null!==t&&e.append(!0===a?ao([i],n,r):null===a?i:i+"[]",l(t))})),!1;return!!so(t)||(e.append(ao(s,i,r),l(t)),!1)}const h=[],d=Object.assign(oo,{defaultVisitor:c,convertValue:l,isVisitable:so});if(!Qa.isObject(t))throw new TypeError("data must be an object");return function t(i,n){if(!Qa.isUndefined(i)){if(-1!==h.indexOf(i))throw Error("Circular reference detected in "+n.join("."));h.push(i),Qa.forEach(i,(function(i,r){!0===(!(Qa.isUndefined(i)||null===i)&&s.call(e,i,Qa.isString(r)?r.trim():r,n,d))&&t(i,n?n.concat(r):[r])})),h.pop()}}(t),e};function co(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function ho(t,e){this._pairs=[],t&&lo(t,this,e)}const po=ho.prototype;po.append=function(t,e){this._pairs.push([t,e])},po.toString=function(t){const e=t?function(e){return t.call(this,e,co)}:co;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};const uo=ho;function go(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fo(t,e,i){if(!e)return t;const n=i&&i.encode||go,s=i&&i.serialize;let r;if(r=s?s(e,i):Qa.isURLSearchParams(e)?e.toString():new uo(e,i).toString(n),r){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+r}return t}const mo=class{constructor(){this.handlers=[]}use(t,e,i){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Qa.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},vo={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yo={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:uo,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},xo="undefined"!=typeof window&&"undefined"!=typeof document,bo=(wo="undefined"!=typeof navigator&&navigator.product,xo&&["ReactNative","NativeScript","NS"].indexOf(wo)<0);var wo;const _o="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Co=xo&&window.location.href||"http://localhost",So={...t,...yo};const To=function(t){function e(t,i,n,s){let r=t[s++];if("__proto__"===r)return!0;const a=Number.isFinite(+r),o=s>=t.length;if(r=!r&&Qa.isArray(n)?n.length:r,o)return Qa.hasOwnProp(n,r)?n[r]=[n[r],i]:n[r]=i,!a;n[r]&&Qa.isObject(n[r])||(n[r]=[]);return e(t,i,n[r],s)&&Qa.isArray(n[r])&&(n[r]=function(t){const e={},i=Object.keys(t);let n;const s=i.length;let r;for(n=0;n<s;n++)r=i[n],e[r]=t[r];return e}(n[r])),!a}if(Qa.isFormData(t)&&Qa.isFunction(t.entries)){const i={};return Qa.forEachEntry(t,((t,n)=>{e(function(t){return Qa.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),n,i,0)})),i}return null};const ko={transitional:vo,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const i=e.getContentType()||"",n=i.indexOf("application/json")>-1,s=Qa.isObject(t);s&&Qa.isHTMLForm(t)&&(t=new FormData(t));if(Qa.isFormData(t))return n?JSON.stringify(To(t)):t;if(Qa.isArrayBuffer(t)||Qa.isBuffer(t)||Qa.isStream(t)||Qa.isFile(t)||Qa.isBlob(t)||Qa.isReadableStream(t))return t;if(Qa.isArrayBufferView(t))return t.buffer;if(Qa.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let r;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return lo(t,new So.classes.URLSearchParams,Object.assign({visitor:function(t,e,i,n){return So.isNode&&Qa.isBuffer(t)?(this.append(e,t.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((r=Qa.isFileList(t))||i.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return lo(r?{"files[]":t}:t,e&&new e,this.formSerializer)}}return s||n?(e.setContentType("application/json",!1),function(t,e,i){if(Qa.isString(t))try{return(e||JSON.parse)(t),Qa.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(i||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||ko.transitional,i=e&&e.forcedJSONParsing,n="json"===this.responseType;if(Qa.isResponse(t)||Qa.isReadableStream(t))return t;if(t&&Qa.isString(t)&&(i&&!this.responseType||n)){const i=!(e&&e.silentJSONParsing)&&n;try{return JSON.parse(t)}catch(t){if(i){if("SyntaxError"===t.name)throw no.from(t,no.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:So.classes.FormData,Blob:So.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Qa.forEach(["delete","get","head","post","put","patch"],(t=>{ko.headers[t]={}}));const Eo=ko,Po=Qa.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Lo=Symbol("internals");function Io(t){return t&&String(t).trim().toLowerCase()}function Mo(t){return!1===t||null==t?t:Qa.isArray(t)?t.map(Mo):String(t)}function Ao(t,e,i,n,s){return Qa.isFunction(n)?n.call(this,e,i):(s&&(e=i),Qa.isString(e)?Qa.isString(n)?-1!==e.indexOf(n):Qa.isRegExp(n)?n.test(e):void 0:void 0)}class Oo{constructor(t){t&&this.set(t)}set(t,e,i){const n=this;function s(t,e,i){const s=Io(e);if(!s)throw new Error("header name must be a non-empty string");const r=Qa.findKey(n,s);(!r||void 0===n[r]||!0===i||void 0===i&&!1!==n[r])&&(n[r||e]=Mo(t))}const r=(t,e)=>Qa.forEach(t,((t,i)=>s(t,i,e)));if(Qa.isPlainObject(t)||t instanceof this.constructor)r(t,e);else if(Qa.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim()))r((t=>{const e={};let i,n,s;return t&&t.split("\n").forEach((function(t){s=t.indexOf(":"),i=t.substring(0,s).trim().toLowerCase(),n=t.substring(s+1).trim(),!i||e[i]&&Po[i]||("set-cookie"===i?e[i]?e[i].push(n):e[i]=[n]:e[i]=e[i]?e[i]+", "+n:n)})),e})(t),e);else if(Qa.isHeaders(t))for(const[e,n]of t.entries())s(n,e,i);else null!=t&&s(e,t,i);return this}get(t,e){if(t=Io(t)){const i=Qa.findKey(this,t);if(i){const t=this[i];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=i.exec(t);)e[n[1]]=n[2];return e}(t);if(Qa.isFunction(e))return e.call(this,t,i);if(Qa.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=Io(t)){const i=Qa.findKey(this,t);return!(!i||void 0===this[i]||e&&!Ao(0,this[i],i,e))}return!1}delete(t,e){const i=this;let n=!1;function s(t){if(t=Io(t)){const s=Qa.findKey(i,t);!s||e&&!Ao(0,i[s],s,e)||(delete i[s],n=!0)}}return Qa.isArray(t)?t.forEach(s):s(t),n}clear(t){const e=Object.keys(this);let i=e.length,n=!1;for(;i--;){const s=e[i];t&&!Ao(0,this[s],s,t,!0)||(delete this[s],n=!0)}return n}normalize(t){const e=this,i={};return Qa.forEach(this,((n,s)=>{const r=Qa.findKey(i,s);if(r)return e[r]=Mo(n),void delete e[s];const a=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,i)=>e.toUpperCase()+i))}(s):String(s).trim();a!==s&&delete e[s],e[a]=Mo(n),i[a]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return Qa.forEach(this,((i,n)=>{null!=i&&!1!==i&&(e[n]=t&&Qa.isArray(i)?i.join(", "):i)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const i=new this(t);return e.forEach((t=>i.set(t))),i}static accessor(t){const e=(this[Lo]=this[Lo]={accessors:{}}).accessors,i=this.prototype;function n(t){const n=Io(t);e[n]||(!function(t,e){const i=Qa.toCamelCase(" "+e);["get","set","has"].forEach((n=>{Object.defineProperty(t,n+i,{value:function(t,i,s){return this[n].call(this,e,t,i,s)},configurable:!0})}))}(i,t),e[n]=!0)}return Qa.isArray(t)?t.forEach(n):n(t),this}}Oo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Qa.reduceDescriptors(Oo.prototype,(({value:t},e)=>{let i=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(t){this[i]=t}}})),Qa.freezeMethods(Oo);const Ro=Oo;function Do(t,e){const i=this||Eo,n=e||i,s=Ro.from(n.headers);let r=n.data;return Qa.forEach(t,(function(t){r=t.call(i,r,s.normalize(),e?e.status:void 0)})),s.normalize(),r}function jo(t){return!(!t||!t.__CANCEL__)}function $o(t,e,i){no.call(this,null==t?"canceled":t,no.ERR_CANCELED,e,i),this.name="CanceledError"}Qa.inherits($o,no,{__CANCEL__:!0});const Fo=$o;function zo(t,e,i){const n=i.config.validateStatus;i.status&&n&&!n(i.status)?e(new no("Request failed with status code "+i.status,[no.ERR_BAD_REQUEST,no.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i)):t(i)}const Bo=function(t,e){t=t||10;const i=new Array(t),n=new Array(t);let s,r=0,a=0;return e=void 0!==e?e:1e3,function(o){const l=Date.now(),c=n[a];s||(s=l),i[r]=o,n[r]=l;let h=a,d=0;for(;h!==r;)d+=i[h++],h%=t;if(r=(r+1)%t,r===a&&(a=(a+1)%t),l-s<e)return;const p=c&&l-c;return p?Math.round(1e3*d/p):void 0}};const No=function(t,e){let i=0;const n=1e3/e;let s=null;return function(){const e=!0===this,r=Date.now();if(e||r-i>n)return s&&(clearTimeout(s),s=null),i=r,t.apply(null,arguments);s||(s=setTimeout((()=>(s=null,i=Date.now(),t.apply(null,arguments))),n-(r-i)))}},Vo=(t,e,i=3)=>{let n=0;const s=Bo(50,250);return No((i=>{const r=i.loaded,a=i.lengthComputable?i.total:void 0,o=r-n,l=s(o);n=r;const c={loaded:r,total:a,progress:a?r/a:void 0,bytes:o,rate:l||void 0,estimated:l&&a&&r<=a?(a-r)/l:void 0,event:i,lengthComputable:null!=a};c[e?"download":"upload"]=!0,t(c)}),i)},Ho=So.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let i;function n(i){let n=i;return t&&(e.setAttribute("href",n),n=e.href),e.setAttribute("href",n),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return i=n(window.location.href),function(t){const e=Qa.isString(t)?n(t):t;return e.protocol===i.protocol&&e.host===i.host}}():function(){return!0},Uo=So.hasStandardBrowserEnv?{write(t,e,i,n,s,r){const a=[t+"="+encodeURIComponent(e)];Qa.isNumber(i)&&a.push("expires="+new Date(i).toGMTString()),Qa.isString(n)&&a.push("path="+n),Qa.isString(s)&&a.push("domain="+s),!0===r&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function qo(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const Wo=t=>t instanceof Ro?{...t}:t;function Zo(t,e){e=e||{};const i={};function n(t,e,i){return Qa.isPlainObject(t)&&Qa.isPlainObject(e)?Qa.merge.call({caseless:i},t,e):Qa.isPlainObject(e)?Qa.merge({},e):Qa.isArray(e)?e.slice():e}function s(t,e,i){return Qa.isUndefined(e)?Qa.isUndefined(t)?void 0:n(void 0,t,i):n(t,e,i)}function r(t,e){if(!Qa.isUndefined(e))return n(void 0,e)}function a(t,e){return Qa.isUndefined(e)?Qa.isUndefined(t)?void 0:n(void 0,t):n(void 0,e)}function o(i,s,r){return r in e?n(i,s):r in t?n(void 0,i):void 0}const l={url:r,method:r,data:r,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(t,e)=>s(Wo(t),Wo(e),!0)};return Qa.forEach(Object.keys(Object.assign({},t,e)),(function(n){const r=l[n]||s,a=r(t[n],e[n],n);Qa.isUndefined(a)&&r!==o||(i[n]=a)})),i}const Ko=t=>{const e=Zo({},t);let i,{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:a,headers:o,auth:l}=e;if(e.headers=o=Ro.from(o),e.url=fo(qo(e.baseURL,e.url),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Qa.isFormData(n))if(So.hasStandardBrowserEnv||So.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(i=o.getContentType())){const[t,...e]=i?i.split(";").map((t=>t.trim())).filter(Boolean):[];o.setContentType([t||"multipart/form-data",...e].join("; "))}if(So.hasStandardBrowserEnv&&(s&&Qa.isFunction(s)&&(s=s(e)),s||!1!==s&&Ho(e.url))){const t=r&&a&&Uo.read(a);t&&o.set(r,t)}return e},Go="undefined"!=typeof XMLHttpRequest&&function(t){return new Promise((function(e,i){const n=Ko(t);let s=n.data;const r=Ro.from(n.headers).normalize();let a,{responseType:o}=n;function l(){n.cancelToken&&n.cancelToken.unsubscribe(a),n.signal&&n.signal.removeEventListener("abort",a)}let c=new XMLHttpRequest;function h(){if(!c)return;const n=Ro.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());zo((function(t){e(t),l()}),(function(t){i(t),l()}),{data:o&&"text"!==o&&"json"!==o?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:n,config:t,request:c}),c=null}c.open(n.method.toUpperCase(),n.url,!0),c.timeout=n.timeout,"onloadend"in c?c.onloadend=h:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(h)},c.onabort=function(){c&&(i(new no("Request aborted",no.ECONNABORTED,n,c)),c=null)},c.onerror=function(){i(new no("Network Error",no.ERR_NETWORK,n,c)),c=null},c.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const e=n.transitional||vo;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),i(new no(t,e.clarifyTimeoutError?no.ETIMEDOUT:no.ECONNABORTED,n,c)),c=null},void 0===s&&r.setContentType(null),"setRequestHeader"in c&&Qa.forEach(r.toJSON(),(function(t,e){c.setRequestHeader(e,t)})),Qa.isUndefined(n.withCredentials)||(c.withCredentials=!!n.withCredentials),o&&"json"!==o&&(c.responseType=n.responseType),"function"==typeof n.onDownloadProgress&&c.addEventListener("progress",Vo(n.onDownloadProgress,!0)),"function"==typeof n.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",Vo(n.onUploadProgress)),(n.cancelToken||n.signal)&&(a=e=>{c&&(i(!e||e.type?new Fo(null,t,c):e),c.abort(),c=null)},n.cancelToken&&n.cancelToken.subscribe(a),n.signal&&(n.signal.aborted?a():n.signal.addEventListener("abort",a)));const d=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(n.url);d&&-1===So.protocols.indexOf(d)?i(new no("Unsupported protocol "+d+":",no.ERR_BAD_REQUEST,t)):c.send(s||null)}))},Yo=(t,e)=>{let i,n=new AbortController;const s=function(t){if(!i){i=!0,a();const e=t instanceof Error?t:this.reason;n.abort(e instanceof no?e:new Fo(e instanceof Error?e.message:e))}};let r=e&&setTimeout((()=>{s(new no(`timeout ${e} of ms exceeded`,no.ETIMEDOUT))}),e);const a=()=>{t&&(r&&clearTimeout(r),r=null,t.forEach((t=>{t&&(t.removeEventListener?t.removeEventListener("abort",s):t.unsubscribe(s))})),t=null)};t.forEach((t=>t&&t.addEventListener&&t.addEventListener("abort",s)));const{signal:o}=n;return o.unsubscribe=a,[o,()=>{r&&clearTimeout(r),r=null}]},Xo=function*(t,e){let i=t.byteLength;if(!e||i<e)return void(yield t);let n,s=0;for(;s<i;)n=s+e,yield t.slice(s,n),s=n},Jo=(t,e,i,n,s)=>{const r=async function*(t,e,i){for await(const n of t)yield*Xo(ArrayBuffer.isView(n)?n:await i(String(n)),e)}(t,e,s);let a=0;return new ReadableStream({type:"bytes",async pull(t){const{done:e,value:s}=await r.next();if(e)return t.close(),void n();let o=s.byteLength;i&&i(a+=o),t.enqueue(new Uint8Array(s))},cancel:t=>(n(t),r.return())},{highWaterMark:2})},Qo=(t,e)=>{const i=null!=t;return n=>setTimeout((()=>e({lengthComputable:i,total:t,loaded:n})))},tl="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,el=tl&&"function"==typeof ReadableStream,il=tl&&("function"==typeof TextEncoder?(nl=new TextEncoder,t=>nl.encode(t)):async t=>new Uint8Array(await new Response(t).arrayBuffer()));var nl;const sl=el&&(()=>{let t=!1;const e=new Request(So.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})(),rl=el&&!!(()=>{try{return Qa.isReadableStream(new Response("").body)}catch(t){}})(),al={stream:rl&&(t=>t.body)};var ol;tl&&(ol=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((t=>{!al[t]&&(al[t]=Qa.isFunction(ol[t])?e=>e[t]():(e,i)=>{throw new no(`Response type '${t}' is not supported`,no.ERR_NOT_SUPPORT,i)})})));const ll=async(t,e)=>{const i=Qa.toFiniteNumber(t.getContentLength());return null==i?(async t=>null==t?0:Qa.isBlob(t)?t.size:Qa.isSpecCompliantForm(t)?(await new Request(t).arrayBuffer()).byteLength:Qa.isArrayBufferView(t)?t.byteLength:(Qa.isURLSearchParams(t)&&(t+=""),Qa.isString(t)?(await il(t)).byteLength:void 0))(e):i},cl={http:null,xhr:Go,fetch:tl&&(async t=>{let{url:e,method:i,data:n,signal:s,cancelToken:r,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:h,withCredentials:d="same-origin",fetchOptions:p}=Ko(t);c=c?(c+"").toLowerCase():"text";let u,g,[f,m]=s||r||a?Yo([s,r],a):[];const v=()=>{!u&&setTimeout((()=>{f&&f.unsubscribe()})),u=!0};let y;try{if(l&&sl&&"get"!==i&&"head"!==i&&0!==(y=await ll(h,n))){let t,i=new Request(e,{method:"POST",body:n,duplex:"half"});Qa.isFormData(n)&&(t=i.headers.get("content-type"))&&h.setContentType(t),i.body&&(n=Jo(i.body,65536,Qo(y,Vo(l)),null,il))}Qa.isString(d)||(d=d?"cors":"omit"),g=new Request(e,{...p,signal:f,method:i.toUpperCase(),headers:h.normalize().toJSON(),body:n,duplex:"half",withCredentials:d});let s=await fetch(g);const r=rl&&("stream"===c||"response"===c);if(rl&&(o||r)){const t={};["status","statusText","headers"].forEach((e=>{t[e]=s[e]}));const e=Qa.toFiniteNumber(s.headers.get("content-length"));s=new Response(Jo(s.body,65536,o&&Qo(e,Vo(o,!0)),r&&v,il),t)}c=c||"text";let a=await al[Qa.findKey(al,c)||"text"](s,t);return!r&&v(),m&&m(),await new Promise(((e,i)=>{zo(e,i,{data:a,headers:Ro.from(s.headers),status:s.status,statusText:s.statusText,config:t,request:g})}))}catch(e){if(v(),e&&"TypeError"===e.name&&/fetch/i.test(e.message))throw Object.assign(new no("Network Error",no.ERR_NETWORK,t,g),{cause:e.cause||e});throw no.from(e,e&&e.code,t,g)}})};Qa.forEach(cl,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(t){}Object.defineProperty(t,"adapterName",{value:e})}}));const hl=t=>`- ${t}`,dl=t=>Qa.isFunction(t)||null===t||!1===t,pl=t=>{t=Qa.isArray(t)?t:[t];const{length:e}=t;let i,n;const s={};for(let r=0;r<e;r++){let e;if(i=t[r],n=i,!dl(i)&&(n=cl[(e=String(i)).toLowerCase()],void 0===n))throw new no(`Unknown adapter '${e}'`);if(n)break;s[e||"#"+r]=n}if(!n){const t=Object.entries(s).map((([t,e])=>`adapter ${t} `+(!1===e?"is not supported by the environment":"is not available in the build")));let i=e?t.length>1?"since :\n"+t.map(hl).join("\n"):" "+hl(t[0]):"as no adapter specified";throw new no("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n};function ul(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Fo(null,t)}function gl(t){ul(t),t.headers=Ro.from(t.headers),t.data=Do.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);return pl(t.adapter||Eo.adapter)(t).then((function(e){return ul(t),e.data=Do.call(t,t.transformResponse,e),e.headers=Ro.from(e.headers),e}),(function(e){return jo(e)||(ul(t),e&&e.response&&(e.response.data=Do.call(t,t.transformResponse,e.response),e.response.headers=Ro.from(e.response.headers))),Promise.reject(e)}))}const fl="1.7.2",ml={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{ml[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}}));const vl={};ml.transitional=function(t,e,i){function n(t,e){return"[Axios v1.7.2] Transitional option '"+t+"'"+e+(i?". "+i:"")}return(i,s,r)=>{if(!1===t)throw new no(n(s," has been removed"+(e?" in "+e:"")),no.ERR_DEPRECATED);return e&&!vl[s]&&(vl[s]=!0,console.warn(n(s," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(i,s,r)}};const yl={assertOptions:function(t,e,i){if("object"!=typeof t)throw new no("options must be an object",no.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const r=n[s],a=e[r];if(a){const e=t[r],i=void 0===e||a(e,r,t);if(!0!==i)throw new no("option "+r+" must be "+i,no.ERR_BAD_OPTION_VALUE)}else if(!0!==i)throw new no("Unknown option "+r,no.ERR_BAD_OPTION)}},validators:ml},xl=yl.validators;class bl{constructor(t){this.defaults=t,this.interceptors={request:new mo,response:new mo}}async request(t,e){try{return await this._request(t,e)}catch(t){if(t instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const i=e.stack?e.stack.replace(/^.+\n/,""):"";try{t.stack?i&&!String(t.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(t.stack+="\n"+i):t.stack=i}catch(t){}}throw t}}_request(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},e=Zo(this.defaults,e);const{transitional:i,paramsSerializer:n,headers:s}=e;void 0!==i&&yl.assertOptions(i,{silentJSONParsing:xl.transitional(xl.boolean),forcedJSONParsing:xl.transitional(xl.boolean),clarifyTimeoutError:xl.transitional(xl.boolean)},!1),null!=n&&(Qa.isFunction(n)?e.paramsSerializer={serialize:n}:yl.assertOptions(n,{encode:xl.function,serialize:xl.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let r=s&&Qa.merge(s.common,s[e.method]);s&&Qa.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete s[t]})),e.headers=Ro.concat(r,s);const a=[];let o=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(o=o&&t.synchronous,a.unshift(t.fulfilled,t.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(t){l.push(t.fulfilled,t.rejected)}));let h,d=0;if(!o){const t=[gl.bind(this),void 0];for(t.unshift.apply(t,a),t.push.apply(t,l),h=t.length,c=Promise.resolve(e);d<h;)c=c.then(t[d++],t[d++]);return c}h=a.length;let p=e;for(d=0;d<h;){const t=a[d++],e=a[d++];try{p=t(p)}catch(t){e.call(this,t);break}}try{c=gl.call(this,p)}catch(t){return Promise.reject(t)}for(d=0,h=l.length;d<h;)c=c.then(l[d++],l[d++]);return c}getUri(t){return fo(qo((t=Zo(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}Qa.forEach(["delete","get","head","options"],(function(t){bl.prototype[t]=function(e,i){return this.request(Zo(i||{},{method:t,url:e,data:(i||{}).data}))}})),Qa.forEach(["post","put","patch"],(function(t){function e(e){return function(i,n,s){return this.request(Zo(s||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:i,data:n}))}}bl.prototype[t]=e(),bl.prototype[t+"Form"]=e(!0)}));const wl=bl;class _l{constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const i=this;this.promise.then((t=>{if(!i._listeners)return;let e=i._listeners.length;for(;e-- >0;)i._listeners[e](t);i._listeners=null})),this.promise.then=t=>{let e;const n=new Promise((t=>{i.subscribe(t),e=t})).then(t);return n.cancel=function(){i.unsubscribe(e)},n},t((function(t,n,s){i.reason||(i.reason=new Fo(t,n,s),e(i.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;const e=new _l((function(e){t=e}));return{token:e,cancel:t}}}const Cl=_l;const Sl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Sl).forEach((([t,e])=>{Sl[e]=t}));const Tl=Sl;const kl=function t(e){const i=new wl(e),n=ga(wl.prototype.request,i);return Qa.extend(n,wl.prototype,i,{allOwnKeys:!0}),Qa.extend(n,i,null,{allOwnKeys:!0}),n.create=function(i){return t(Zo(e,i))},n}(Eo);kl.Axios=wl,kl.CanceledError=Fo,kl.CancelToken=Cl,kl.isCancel=jo,kl.VERSION=fl,kl.toFormData=lo,kl.AxiosError=no,kl.Cancel=kl.CanceledError,kl.all=function(t){return Promise.all(t)},kl.spread=function(t){return function(e){return t.apply(null,e)}},kl.isAxiosError=function(t){return Qa.isObject(t)&&!0===t.isAxiosError},kl.mergeConfig=Zo,kl.AxiosHeaders=Ro,kl.formToJSON=t=>To(Qa.isHTMLForm(t)?new FormData(t):t),kl.getAdapter=pl,kl.HttpStatusCode=Tl,kl.default=kl;const El=kl;class Pl extends Wi{constructor(t,e){super(),this.status=t,this.data=e,this.source="fetcher",this.name="FetcherException"}}const Ll=async(t,e={})=>{const{method:i="GET",headers:n={},data:s,contentType:r,...a}=e;try{return(await El.request({url:t,method:i,headers:{...Il(s,r),...n},data:s,...a})).data}catch(t){const e=t;throw new Pl(e.response?.status,e.response?.data)}};function Il(t,e){if(!t)return{};let i="application/json";return e===pa.Form&&(i="application/x-www-form-urlencoded"),e===pa.Multipart&&(i="multipart/form-data"),{"Content-Type":i}}class Ml extends Wi{constructor(t){super(t),this.source="document-translator",this.name="DocumentTranslatorException"}}class Al extends Ml{constructor(){super(...arguments),this.name="DocumentTranslatorTaskCreationException"}}class Ol extends Ml{constructor(){super(...arguments),this.name="DocumentTranslatorTaskStatusCheckException"}}class Rl{constructor(t,e){this.config=t,this.sessionService=e}async createTask(t){try{const e=await this.requestTaskCreation(t);if(e.code===ua.Ok&&!e.error)return{taskId:e.task_id,estimatedTranslationTimeMs:this.getEstimatedTranslationTime(t.fileSize)};throw new Error}catch{throw new Al({srcLang:t.langsPair.srcLang,dstLang:t.langsPair.dstLang,fileName:t.fileName,fileType:t.fileType,fileSize:t.fileSize})}}async getTranslatedDocumentIfReady(t){try{const{status:e,srcLang:i,translatedFileBinary:n,translatedFileMimeType:s}=await this.requestStatus(t);return{status:e,srcLang:i,translatedFileBinary:n,translatedFileMimeType:s}}catch{throw new Ol({srcLang:t.langsPair.srcLang,dstLang:t.langsPair.dstLang,taskId:t.taskId})}}getEstimatedTranslationTime(t){const e=Dr(t,"KB")*Rl.FILE_SIZE_TO_TRANSLATION_TIME_CFF;return Math.max(e,Rl.MIN_ESTIMATED_TRANSLATION_TIME)}getSrv(){const t=this.config.platform;return this.config.srv[t].trDoc}async requestTaskCreation(t){const{srcLang:e,dstLang:i}=t.langsPair,{extension:n}=Lr(t.fileName),s=br({...await this.getBaseQueryParams(),tr_dir:`${e}-${i}`,doc_ext:n,srv:this.getSrv()}),r=`${this.config.apiUrls.createDocTranslationTask}?${s}`,a=new Blob([t.file],{type:Er(t.fileType)}),o=new FormData;return o.append("file",a,`file.${n}`),await Ll(r,{method:"POST",data:o,contentType:pa.Multipart})}async requestStatus(t){const e=br(await this.getBaseQueryParams()),i=`${this.config.apiUrls.checkDocTranslationTaskStatus}?${e}`,n=br({task_id:t.taskId}),s=await Ll(i,{method:"POST",contentType:pa.Form,data:n});if(s.error)throw new Error;if("in_progress"===s.status)return{status:"waiting"};const r=await fetch(s.result_doc_url),a=await r.arrayBuffer(),o=r.headers.get("content-type")??"";return this.finalizeTask(t),{status:"translated",srcLang:s.src_lang,translatedFileBinary:a,translatedFileMimeType:o}}async finalizeTask(t){const e=`${this.config.apiUrls.finalizeDocTranslationTask}?${br(await this.getBaseQueryParams())}`,i=br({task_id:t.taskId});Ll(e,{method:"POST",contentType:pa.Form,data:i})}async getBaseQueryParams(){const t=this.config.platform;return{sid:await this.sessionService.getSid(),srv:this.config.srv[t].trDoc,ui:this.config.uiLang}}}Rl.FILE_SIZE_TO_TRANSLATION_TIME_CFF=150,Rl.MIN_ESTIMATED_TRANSLATION_TIME=6e4;class Dl{constructor(){this.status=Js.Assigned}start(t){this.status=Js.Running,this.onStopCallback=t?.onStop}stop(){clearInterval(this.intervalId),this.status=Js.Stopped,this.onStopCallback?.()}getStatus(){return this.status}startIntervalAction(t,e=1e3){this.intervalId=window.setInterval(t,e)}get isRunning(){return this.status===Js.Running}}var jl=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};function $l(t){return"restore"===t?.launchType}function Fl(t){return"retry"===t?.launchType}function zl(t){return"rewrite"===t?.launchType}class Bl extends Dl{constructor(t){if(super(),this.params=t,this.taskId="",this.documentTranslatorService=of.resolve(rf.DocumentTranslatorService),this.messagesPairsStorage=of.resolve(rf.MessagesPairsStorage),this.langsStorage=of.resolve(rf.LangsStorage),this.threadsStorage=of.resolve(rf.ThreadsStorage),this.messagesPairsFactory=of.resolve(rf.MessagesPairsFactory),this.trackingService=of.resolve(rf.TrackingService),this.settingsStorage=of.resolve(rf.SettingsStorage),this.inputParams={srcLang:t.payload.srcLang,dstLang:t.payload.dstLang,file:t.payload.file,fileSize:t.payload.fileSize,fileName:t.payload.fileName,fileType:t.payload.fileType},$l(t))return this.messagesPair=t.payload.messagesPair,void this.onRestoreTask(t);Fl(t)||zl(t)?this.messagesPair=t.payload.messagesPair:this.messagesPair=this.messagesPairsFactory.createDocumentMessagesPair(this.inputParams)}async start(t){super.start(t),zl(this.params)&&await this.messagesPairsStorage.updateMessagesPairStatus(this.messagesPair.id,hn.Rewriting),$l(this.params)||Fl(this.params)||zl(this.params)||(await this.messagesPairsStorage.addMessagesPair(this.messagesPair),this.trackingService.trackEvent("message_create",{message_type:"doc",message_id:this.messagesPair.id})),zl(this.params)&&await this.onRewriteTask(this.params),$l(this.params)||(await this.createTask(),await this.messagesPairsStorage.updateMessagesPairStatus(this.messagesPair.id,zl(this.params)?dn.TranslationRewriting:dn.UploadingSuccess)),this.taskId?(await this.checkStatus(),this.stop()):(this.handleUploadingError(),this.stop())}onRestoreTask(t){this.taskId=t.payload.serverTaskId,this.estimatedTranslationTimeMs=t.payload.messagesPair.additionalInfo?.estimatedTranslationTimeMs}async onRewriteTask(t){const e=an({srcLang:this.inputParams.srcLang,dstLang:this.inputParams.dstLang},{..."src"===t.payload.type?{srcLang:t.payload.newLang}:{dstLang:t.payload.newLang}});this.inputParams.srcLang=e.srcLang,this.inputParams.dstLang=e.dstLang,await this.messagesPairsStorage.updateMessagesPairsLang(this.messagesPair.id,t.payload.type,t.payload.newLang)}async createTask(){this.messagesPairsStorage.updateMessagesPairStatus(this.messagesPair?.id,zl(this.params)?dn.TranslationRewriting:dn.UploadingPending);try{const t=this.isAutodetectEnabled?"auto":this.inputParams.srcLang,{taskId:e,estimatedTranslationTimeMs:i}=await this.documentTranslatorService.createTask({fileSize:this.inputParams.fileSize,file:this.inputParams.file,fileType:this.inputParams.fileType,fileName:this.inputParams.fileName,langsPair:{srcLang:t,dstLang:this.inputParams.dstLang}});this.taskId=e,this.estimatedTranslationTimeMs=i,await this.messagesPairsStorage.setMessagesPairAdditionalInfo(this.messagesPair.id,{estimatedTranslationTimeMs:i,serverTaskId:e})}catch(t){us(t),this.handleUploadingError()}}async checkStatus(){let t;!Rn(this.messagesPair.status)&&await this.messagesPairsStorage.updateMessagesPairStatus(this.messagesPair.id,zl(this.params)?dn.TranslationRewriting:dn.TranslationPending);try{const e=this.isAutodetectEnabled?"auto":this.inputParams.srcLang;t=await this.documentTranslatorService.getTranslatedDocumentIfReady({langsPair:{srcLang:e,dstLang:this.inputParams.dstLang},taskId:this.taskId})}catch(t){return us(t),void this.handleTranslationError()}const e=$l(this.params)&&this.messagesPair.status===dn.TranslationRewriting,i=(Fl(this.params)||zl(this.params)||e?Date.now():this.messagesPair.creationTimestamp)+(this.estimatedTranslationTimeMs??0),n=Date.now()>=i;switch(t?.status){case"translated":await this.handleTranslationSuccess(t);break;case"waiting":n?this.handleTranslationError():this.handleTranslationInProgress();break;default:this.handleTranslationError()}}changeInputSrcLang(t){const e=an({srcLang:this.inputParams.srcLang,dstLang:this.inputParams.dstLang},{srcLang:t});this.inputParams.srcLang=e.srcLang,this.inputParams.dstLang=e.dstLang}async handleLangDetectResult(t){await this.messagesPairsStorage.changeMessagesPairLangs(this.messagesPair.id,{srcLang:t});const e=this.messagesPairsStorage.getLastMessagesPair();this.messagesPair.id===e?.id&&this.langsStorage.setSrcLang(t),t!==this.inputParams.srcLang&&(this.changeInputSrcLang(t),this.trackingService.trackEvent("langselect_auto",{message_type:"document"}))}async handleTranslationSuccess(t){const{name:e}=Lr(this.inputParams.fileName),i=this.getTranslatedFileMimeType(t),n=Mr(e,kr(i));if(t.translatedFileBinary){const e={translatedFile:{file:t.translatedFileBinary,type:i,name:n}};await this.messagesPairsStorage.updateMessagesPairOutputFiles(this.messagesPair.id,e)}if(t.srcLang&&t.srcLang!==this.inputParams.srcLang&&this.handleLangDetectResult(t.srcLang),await this.messagesPairsStorage.updateMessagesPairStatus(this.messagesPair.id,hn.Ready),zl(this.params))return void this.trackingService.trackEvent("message_success_rewrite",{message_id:this.messagesPair.id,select_type:this.params.payload.type,message_type:"doc",lang_code:this.params.payload.newLang});this.trackingService.trackEvent("message_success",{message_id:this.messagesPair.id,lang_code:this.messagesPair.input.dstLang,message_type:"doc"});const{langsPair:s}=this.threadsStorage.getActiveThread();this.handleUpdateLangsPair(s)}async handleUpdateLangsPair(t){this.inputParams.srcLang===t.srcLang&&this.inputParams.dstLang===t.dstLang||await this.threadsStorage.updateThreadLangsPair(this.inputParams.srcLang,this.inputParams.dstLang)}getTranslatedFileMimeType(t){const e=t.translatedFileMimeType;return e&&_r.includes(e)?e:this.inputParams.fileType}handleTranslationInProgress(){setTimeout(this.checkStatus,2500)}async handleTranslationError(){await this.messagesPairsStorage.updateMessagesPairStatus(this.messagesPair.id,dn.TranslationError)}async handleUploadingError(){await this.messagesPairsStorage.updateMessagesPairStatus(this.messagesPair.id,dn.UploadingError)}get isAutodetectEnabled(){return this.settingsStorage.isOptionEnabled("autodetect")}}function Nl(t){return new Bl(t)}jl([Ue],Bl.prototype,"checkStatus",null);class Vl{constructor(t,e){this.tasksService=t,this.messagesPairsStorage=e}async restoreTranslationTasks(t){for(const e of t){const{status:t}=e;(On(t)||Rn(t)||Cn(t))&&await this.restoreDocumentTranslationTask(e)}}retryDocTranslation(t){if(!t.input.file)return;const e=Nl({launchType:"retry",payload:{messagesPair:t,...t.input,file:t.input.file}});this.tasksService.executeTask(e)}async restoreDocumentTranslationTask(t){const e=t.additionalInfo?.serverTaskId;await this.messagesPairsStorage.loadMessagesPairFiles(t.id);const i=this.messagesPairsStorage.getMessagesPairById(t.id);if(!(i&&bn(i)))return;if(!e||!i.input.file)return;const n=Nl({launchType:"restore",payload:{messagesPair:t,serverTaskId:e,...i.input,file:i.input.file}});this.tasksService.executeTask(n)}}const Hl="image/jpeg",Ul="image/png";async function ql(t,e){if(t)return new Promise(((i,n)=>{const s=new Image;s.addEventListener("load",(()=>{e?.(),i(s)})),s.addEventListener("error",(()=>{e?.(),n(new Error("failed to load image"))})),s.src=t}))}const Wl=new class{constructor(){"OffscreenCanvas"in window?(this.additionalCanvas=new OffscreenCanvas(0,0),this.context=this.additionalCanvas.getContext("2d")):(this.additionalCanvas=document.createElement("canvas"),this.additionalCanvas.width=0,this.additionalCanvas.height=0,this.context=this.additionalCanvas.getContext("2d"))}updateSize(t,e){this.additionalCanvas.width=t,this.additionalCanvas.height=e}async getBlob(t){if(this.additionalCanvas instanceof OffscreenCanvas)return this.additionalCanvas.convertToBlob(t);{const e=this.additionalCanvas;return new Promise((i=>{e.toBlob((t=>{i(t)}),t.type,t.quality)}))}}async imageToArrayBuffer(t){if(this.additionalCanvas.height=t.naturalHeight,this.additionalCanvas.width=t.naturalWidth,!this.context)return;this.context.drawImage(t,0,0,t.naturalWidth,t.naturalHeight);const e=await this.getBlob({quality:.75,type:"image/png"});return e?.arrayBuffer()}async getImageWithRotation(t,e,i){if(!this.context)return;let n;if(t instanceof ArrayBuffer){const{url:e}=Ir(t,"jpeg"),i=await ql(e);if(!i)return;n=i}else n=t;const s=e*Math.PI/180,r=n.naturalWidth/n.naturalHeight,a=r>=1?Math.min(1024,n.naturalWidth):Math.min(1024,n.naturalHeight)*r,o=i?n.naturalWidth:a,l=i?n.naturalHeight:o/r;e%180==0?(this.additionalCanvas.width=o,this.additionalCanvas.height=l):(this.additionalCanvas.width=l,this.additionalCanvas.height=o),this.context.translate(this.additionalCanvas.width/2,this.additionalCanvas.height/2),this.context.rotate(s),this.context.drawImage(n,-o/2,-l/2,o,l);const c=await this.getBlob({quality:.75,type:"image/png"});return c?.arrayBuffer()}};class Zl extends Wi{constructor(t){super(t),this.source="image-translator",this.name="ImageTranslatorException"}}class Kl extends Zl{constructor(){super(...arguments),this.name="ImageTranslatorRecognizeException"}}class Gl extends Zl{constructor(){super(...arguments),this.name="ImageTranslatorNoTextException"}}class Yl extends Zl{constructor(){super(...arguments),this.name="ImageTranslatorTranslationError"}}class Xl{getPlatform(){return"mobile"===this.config.platform?"touch":"desktop"}async init(){this.imageTranslator=await this.createImageTranslatorInstance()}constructor(t,e,i){this.config=t,this.sessionService=e,this.experimentsService=i,this.image=null,this.canvas=this.createCanvas(),this.init()}get useBlurTextErasure(){return this.experimentsService.isFlagEnabled("enable_blur_text_erasure")}get useLLMTranslation(){return this.experimentsService.isFlagEnabled("enable_image_llm_translation")}async recognizeImage({originalImage:t,fileType:e,srcLang:i,autoRotate:n=!0}){try{const{url:s,revoke:r}=Ir(t,e),a=await ql(s,r);if(a){this.image=a;const t=Math.max(Math.floor(a.naturalWidth/500),Math.floor(a.naturalHeight/500)),e="mobile"===this.config.platform?1:Math.min(Math.max(t,1),2);Wl.updateSize(a.naturalWidth/e,a.naturalHeight/e);const s=await this.getImageTranslatorInstanceWithOffscreenCanvas(!0);return await s.recognize({image:this.image,language:i,autoRotate:n})}throw new Error}catch(n){const s=n.toString().includes("EmptyResultException"),r={srcLang:i,fileSize:t.byteLength,fileType:e};if(s)throw new Gl(r);throw new Kl(r)}}async translateImage({recognizeResult:t,langsPair:e}){try{const i=await this.getImageTranslatorInstanceWithOffscreenCanvas(),n=performance.now(),s=await i.translate({blocks:t.blocks,sourceLanguage:e.srcLang,targetLanguage:e.dstLang}),r=performance.now(),a=performance.now();await this.renderPreviewImage({translateResult:s,recognizeResult:t,dstLang:e.dstLang});const o=performance.now(),l=await this.getArrayBufferFromOffscreenCanvas();return this.clearRendererData(),{translatedImage:l,blocks:s,translationDuration:r-n,renderDuration:o-a}}catch{throw new Yl({srcLang:e.srcLang,dstLang:e.dstLang,requestId:t.requestId})}}async setResultVisibility(t){(await this.getImageTranslatorInstance()).setResultVisibility(t)}setCanvasSize(t,e){this.canvas.width=t,this.canvas.height=e,this.canvas.style.width=`${t}px`,this.canvas.style.height=`${e}px`}getCanvas(){return this.canvas}async getImageTranslatorInstanceWithOffscreenCanvas(t=!1){this.imageTranslatorWithOffscreenCanvasCreationTimestamp=this.imageTranslatorWithOffscreenCanvasCreationTimestamp??Date.now();const e=Date.now()-this.imageTranslatorWithOffscreenCanvasCreationTimestamp>=this.config.sessionTTL;return this.imageTranslatorWithOffscreenCanvas&&!t||(this.imageTranslatorWithOffscreenCanvas=await this.createImageTranslatorInstance(Wl.additionalCanvas)),e&&this.imageTranslatorWithOffscreenCanvas.updateSid(await this.sessionService.getSid()),this.imageTranslatorWithOffscreenCanvas}async getImageTranslatorInstance(){this.imageTranslatorCreationTimestamp=this.imageTranslatorCreationTimestamp??Date.now();const t=Date.now()-this.imageTranslatorCreationTimestamp>=this.config.sessionTTL;return this.imageTranslator||(this.imageTranslator=await this.createImageTranslatorInstance()),t&&this.imageTranslator.updateSid(await this.sessionService.getSid()),this.imageTranslator}async createImageTranslatorInstance(t=this.canvas){const e=this.getSrv(),i=await this.sessionService.getSid();return new window.ImageTranslator(t,{input:this.getPlatform(),translate:{srv:e,sid:i},ocr:{grayscale:!this.useBlurTextErasure,sid:i,srv:e},experiments:{useBlurTextErasure:this.useBlurTextErasure,isLLMTranslationEnabled:this.useLLMTranslation}})}async addListener(t,e){(await this.getImageTranslatorInstance()).addListener(t,e)}async removeListener(t,e){(await this.getImageTranslatorInstance()).removeListener(t,e)}createCanvas(){return document.createElement("canvas")}getSrv(){const t=this.config.platform;return this.config.srv[t].trImage}async getArrayBufferFromOffscreenCanvas(){const t=await Wl.getBlob({type:"image/jpeg",quality:.75});return new Promise(((e,i)=>{if(!t)return i(new Error("failed to get blob"));const n=new FileReader;n.onload=function(t){const n=t.target?.result;return n?e(n):i(new Error("failed to get blob"))},n.onerror=i,n.readAsArrayBuffer(t)}))}async renderImage(t,e,i,n,s,r,a){const o=await ql(t);if(!o)return;this.setCanvasSize(n.width,n.height);const l=await this.getImageTranslatorInstance();let c;if(a?.erasedImage){const{url:t,revoke:e}=Ir(a.erasedImage,Hl);c=await ql(t,e)}l.render({image:o,blocks:a?.blocks||[],scale:s,resultScale:a?.scale||1,additionalRotate:r||0,erasedImage:c,language:e,showResult:i})}async updateScale(t){(await this.getImageTranslatorInstance()).updateScaleValue(t)}async setRotate(t){(await this.getImageTranslatorInstance()).setRotate(t)}async updateShowResult(t){(await this.getImageTranslatorInstance()).setResultVisibility(t)}async clearRendererData(){(await this.getImageTranslatorInstance()).clearRendererData()}async renderPreviewImage(t){const{translateResult:e,recognizeResult:i,dstLang:n}=t,s=await this.getImageTranslatorInstanceWithOffscreenCanvas();return new Promise((t=>{this.image&&(s.render({image:this.image,blocks:e,scale:1,resultScale:i.scale,resultRotate:i.rotate,additionalRotate:0,erasedImage:i.erasedImage,language:n}),setTimeout(t,0))}))}}function Jl(t){return"default"===t?.launchType}function Ql(t){return"retry"===t?.launchType}function tc(t){return"rewrite"===t?.launchType}function ec(t){return"change-rotation"===t.launchType}class ic extends Dl{constructor(t){super(),this.params=t,this.messagesPairId="",this.imageTranslatorService=of.resolve(rf.ImageTranslatorService),this.langsStorage=of.resolve(rf.LangsStorage),this.threadsStorage=of.resolve(rf.ThreadsStorage),this.messagesPairsStorage=of.resolve(rf.MessagesPairsStorage),this.messagesPairsFactory=of.resolve(rf.MessagesPairsFactory),this.settingsStorage=of.resolve(rf.SettingsStorage),this.trackingService=of.resolve(rf.TrackingService);const{srcLang:e,dstLang:i,file:n,fileSize:s,fileName:r,fileType:a,preparationDuration:o}=this.params.payload;this.inputParams={srcLang:e,dstLang:i,file:n,fileSize:s,fileName:r,fileType:a,preparationDuration:o}}async start(t){if(super.start(t),Ql(this.params))this.messagesPairId=this.params.payload.messagesPairId,await this.messagesPairsStorage.updateMessagesPairStatus(this.messagesPairId,pn.RecognizePending);else{if(tc(this.params))return await this.onRewriteTask(this.params),void await this.translate(!1);if(ec(this.params))return void await this.onChangeRotationTask(this.params);{const t=this.messagesPairsFactory.createImageMessagesPair(this.inputParams);this.messagesPairId=t.id,await this.messagesPairsStorage.addMessagesPair(t),this.trackingService.trackEvent("message_create",{message_type:"image",message_id:this.messagesPairId})}}await this.translate()}async onChangeRotationTask(t){this.messagesPairId=t.payload.messagesPairId,await this.messagesPairsStorage.updateMessagesPairStatus(this.messagesPairId,pn.RecognizeRewriting),await this.translate()}async onRewriteTask(t){this.messagesPairId=t.payload.messagesPairId;const e=an({srcLang:this.inputParams.srcLang,dstLang:this.inputParams.dstLang},{..."src"===t.payload.type?{srcLang:t.payload.newLang}:{dstLang:t.payload.newLang}});this.inputParams.srcLang=e.srcLang,this.inputParams.dstLang=e.dstLang,await this.messagesPairsStorage.updateMessagesPairStatus(this.messagesPairId,pn.RecognizeRewriting),await this.messagesPairsStorage.updateMessagesPairsLang(this.messagesPairId,t.payload.type,t.payload.newLang)}async translate(t=!0){try{const e=await this.recognizeImage(t);await this.translateImage(t,e)}catch(t){console.error(t)}finally{this.stop()}}async recognizeImage(t=!0){try{if(!this.inputParams.file)throw new Error;let e;tc(this.params)||await this.messagesPairsStorage.updateMessagesPairStatus(this.messagesPairId,pn.RecognizePending);try{e=await this.imageTranslatorService.recognizeImage({originalImage:this.inputParams.file,fileType:this.inputParams.fileType,srcLang:this.isAutodetectEnabled&&t?void 0:this.inputParams.srcLang,autoRotate:Jl(this.params)||Ql(this.params)})}catch(t){return us(t),t instanceof Gl?void await this.handleRecognizeNoTextError():void await this.handleRecognizeError()}if(e){const t=Boolean(e.blocks.length);this.trackingService.trackEvent("ocr_recognize",{time:e.duration,rotation:0!==e.rotate,failed:!t,has_text:t,request_id:e.requestId,message_id:this.messagesPairId});const i=e.language;await this.messagesPairsStorage.changeMessagesPairLangs(this.messagesPairId,{srcLang:i}),tc(this.params)||await this.messagesPairsStorage.updateMessagesPairStatus(this.messagesPairId,pn.RecognizeSuccess)}return e}catch(t){return us(t),void await this.handleRecognizeError()}}async translateImage(t=!0,e){if(this.isRunning)if(e)try{if(this.isAutodetectEnabled&&t&&await this.handleLangDetectResult(e),await this.messagesPairsStorage.updateMessagesPairStatus(this.messagesPairId,tc(this.params)?pn.TranslationRewriting:pn.TranslationPending),await this.updateMessagesPairFiles(e),await this.messagesPairsStorage.updateMessagesPairStatus(this.messagesPairId,hn.Ready),tc(this.params))return void this.trackingService.trackEvent("message_success_rewrite",{message_id:this.messagesPairId,select_type:this.params.payload.type,message_type:"image",lang_code:this.params.payload.newLang});const{srcLang:i,dstLang:n}=this.threadsStorage.getActiveThread().langsPair;await this.handleUpdateLangsPair(i,n)}catch(t){us(t),await this.handleTranslationError()}else await this.messagesPairsStorage.updateMessagesPairStatus(this.messagesPairId,pn.TranslationError)}async updateMessagesPairFiles(t){const e=(Jl(this.params)||Ql(this.params))&&0!==t.rotate,i={srcLang:this.inputParams.srcLang,dstLang:this.inputParams.dstLang},{translatedImage:n,blocks:s,renderDuration:r,translationDuration:a}=await this.imageTranslatorService.translateImage({recognizeResult:t,langsPair:i});Jl(this.params)&&void 0!==this.inputParams.preparationDuration&&this.trackingService.trackEvent("ocr_results_timings",{preparation_time_millis:this.inputParams.preparationDuration.toFixed(0),recognition_time_millis:t.duration.toString(),translation_time_millis:a.toFixed(0),rendering_time_millis:r.toFixed(0)});const o=t.erasedImage?await Wl.imageToArrayBuffer(t.erasedImage):void 0,l={...t,blocks:s,erasedImage:o},c={previewFile:{file:n,type:Hl},recognizeResult:l};if(o&&(c.erasedImage={file:o,type:Ul}),ec(this.params)||e){const t={inputFile:{fileId:this.params.payload.fileId,fileType:this.params.payload.fileType,file:this.params.payload.file,fileSize:this.params.payload.fileSize},outputFiles:c};if(e){if(this.params.payload.file){const e=await Wl.getImageWithRotation(this.params.payload.file,l.rotate,!0);e&&(t.inputFile.file=e,t.inputFile.fileSize=e.byteLength)}if(l.erasedImage){const e=await Wl.getImageWithRotation(l.erasedImage,l.rotate,!0);e&&(t.outputFiles.erasedImage={file:e,type:Ul},l.erasedImage=e)}const e=await Wl.getImageWithRotation(n,l.rotate,!0);e&&(t.outputFiles.previewFile={file:e,type:Hl})}await this.messagesPairsStorage.updateMessagesPairFiles(this.messagesPairId,t)}else await this.messagesPairsStorage.updateMessagesPairOutputFiles(this.messagesPairId,c)}async handleUpdateLangsPair(t,e){this.inputParams.srcLang===t&&this.inputParams.dstLang===e||await this.threadsStorage.updateThreadLangsPair(this.inputParams.srcLang,this.inputParams.dstLang)}async handleLangDetectResult(t){const e=t.language;await this.messagesPairsStorage.changeMessagesPairLangs(this.messagesPairId,{srcLang:e});const i=this.messagesPairsStorage.getLastMessagesPair();this.messagesPairId===i?.id&&this.langsStorage.setSrcLang(e),e!==this.inputParams.srcLang&&(this.changeInputSrcLang(e),this.trackingService.trackEvent("langselect_auto",{message_type:"image"}))}changeInputSrcLang(t){const e=an({srcLang:this.inputParams.srcLang,dstLang:this.inputParams.dstLang},{srcLang:t});this.inputParams.srcLang=e.srcLang,this.inputParams.dstLang=e.dstLang}async handleRecognizeNoTextError(){const t=ec(this.params)?pn.RecognizeNoTextAfterRotationError:pn.RecognizeNoTextError;await this.messagesPairsStorage.updateMessagesPairStatus(this.messagesPairId,t),this.trackingService.trackEvent("ocr_recognize_error",{message_id:this.messagesPairId,error_reason:pn.RecognizeNoTextError}),this.stop()}async handleRecognizeError(){await this.messagesPairsStorage.updateMessagesPairStatus(this.messagesPairId,pn.RecognizeError),this.trackingService.trackEvent("ocr_recognize_error",{message_id:this.messagesPairId,error_reason:pn.RecognizeError}),this.stop()}async handleTranslationError(){await this.messagesPairsStorage.updateMessagesPairStatus(this.messagesPairId,pn.TranslationError),this.trackingService.trackEvent("ocr_recognize_error",{message_id:this.messagesPairId,error_reason:pn.TranslationError}),this.stop()}get isAutodetectEnabled(){return this.settingsStorage.isOptionEnabled("autodetect")}}function nc(t){return new ic(t)}class sc{constructor(t){this.tasksService=t}retryImageTranslation(t){const e=nc({launchType:"retry",payload:{messagesPairId:t.id,...t.input}});this.tasksService.executeTask(e)}translateImageWithAnotherAngle(t){const e=nc({launchType:"change-rotation",payload:{...t}});this.tasksService.executeTask(e)}}function rc(t,e=100){let i;return function(n){clearTimeout(i),i=setTimeout((()=>{t(n)}),e)}}var ac;!function(t){t[t.Translation=0]="Translation",t[t.Original=1]="Original"}(ac||(ac={}));const oc="imageViewer";var lc=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};class cc{constructor(t,e){this.getImageViewerContext=t,this.setImageViewerContext=e,this.imageTranslatorService=of.resolve(rf.ImageTranslatorService),this.trackingService=of.resolve(rf.TrackingService),this.trackZoomEvent=rc((()=>{this.trackingService.trackEvent("image_zoom",{type:"controller"})}),200),this.setImageViewerContext(this.getInitialImageViewerContext())}disconnect(){}getInitialImageViewerContext(){return{isOpen:!1,language:"",message:void 0,scale:1,rotateValue:0,originalImageSrc:void 0,translationImageSrc:void 0,imageSelectionMode:ac.Translation,open:this.handleOpenImageViewer,updateMessage:this.updateMessage,setImageSelectionMode:this.handleSetImageSelectionMode,updateCanvasSize:this.updateCanvasSize,close:this.handleCloseImageViewer,updateScale:this.updateScale,updateRotateValue:this.updateRotateValue,clearRendererData:this.clearRendererData,getCanvas:this.getCanvas,renderImage:this.renderImage}}updateCanvasSize(t,e){this.imageTranslatorService.setCanvasSize(t,e)}updateRotateValue(t,e){const i=this.getImageViewerContext();i.rotateValue!==t&&(this.setImageViewerContext({...i,rotateValue:t}),this.imageTranslatorService.setRotate(t),e&&this.trackingService.trackEvent("image_rotate"))}updateMessage(t){const e=this.getImageViewerContext();this.setImageViewerContext({...e,message:t})}updateScale(t){const e=this.getImageViewerContext();e.scale!==t&&(this.setImageViewerContext({...e,scale:t}),this.imageTranslatorService.updateScale(t),this.trackingService.trackEvent("image_zoom",{type:"buttons"}))}clearRendererData(){this.imageTranslatorService.clearRendererData()}getCanvas(){return this.imageTranslatorService.getCanvas()}handleZoom(t){this.trackZoomEvent();const e=this.getImageViewerContext();e.scale!==t.zoomValue&&this.setImageViewerContext({...e,scale:t.zoomValue})}renderImage(...t){this.imageTranslatorService.removeListener("zoom",this.handleZoom),this.imageTranslatorService.renderImage(...t),this.imageTranslatorService.addListener("zoom",this.handleZoom)}handleOpenImageViewer({originalImageSrc:t,translationImageSrc:e,recognizeResult:i,message:n,language:s,imageSelectionMode:r,onClose:a}){const o=this.getImageViewerContext();return(!o.isOpen||o.message!==n||o.originalImageSrc!==t||o.translationImageSrc!==e||o.imageSelectionMode!==r)&&(this.closeCallback=a,this.setImageViewerContext({...o,isOpen:!0,message:n,language:s,originalImageSrc:t,recognizeResult:i,translationImageSrc:e,imageSelectionMode:r}),!0)}handleSetImageSelectionMode(t){return this.getImageViewerContext().imageSelectionMode!==t&&(this.setImageViewerContext({...this.getImageViewerContext(),imageSelectionMode:t}),!0)}handleCloseImageViewer(t){return!!this.getImageViewerContext().isOpen&&(this.setImageViewerContext({...this.getImageViewerContext(),isOpen:!1,message:void 0,language:"",scale:1,rotateValue:0,recognizeResult:void 0,originalImageSrc:void 0,translationImageSrc:void 0}),this.clearRendererData(),this.closeCallback&&(this.closeCallback(t),this.closeCallback=void 0),!0)}}lc([Ue],cc.prototype,"updateCanvasSize",null),lc([Ue],cc.prototype,"updateRotateValue",null),lc([Ue],cc.prototype,"updateMessage",null),lc([Ue],cc.prototype,"updateScale",null),lc([Ue],cc.prototype,"clearRendererData",null),lc([Ue],cc.prototype,"getCanvas",null),lc([Ue],cc.prototype,"handleZoom",null),lc([Ue],cc.prototype,"renderImage",null),lc([Ue],cc.prototype,"handleOpenImageViewer",null),lc([Ue],cc.prototype,"handleSetImageSelectionMode",null),lc([Ue],cc.prototype,"handleCloseImageViewer",null);const hc=o`
    :host {
        min-width: 150px;
    }

    .container.error {
        align-items: center;
    }

    .originalImage {
        width: var(--space_4xl);
        height: var(--space_4xl);
        min-width: var(--space_3xl);
        min-height: var(--space_3xl);
        border-radius: var(--border-radius_xs);

        position: relative;

        flex-shrink: 0;
        overflow: hidden;
    }

    .image {
        width: 100%;
        height: 100%;

        opacity: 0.6;

        object-fit: cover;
    }

    .statusIcon {
        position: absolute;
    }

    .spinner {
        animation-name: rotate;
        animation-duration: 5s;
        animation-timing-function: linear;
        animation-iteration-count: infinite;
    }

    .spinner_hide {
        animation-play-state: paused;
    }

    @keyframes rotate {
        from {
            transform: rotate(-360deg);
        }

        to {
            transform: rotate(360deg);
        }
    }

    .highlighted {
        background: var(--highlighted-color-text);
        border-radius: 3px;
    }
`;var dc=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let pc=class extends ht{constructor(){super(...arguments),this.status=pn.RecognizePending,this.name="",this.imageSrc="",this.isInvalidSrc=!1}getStatusIcon(){return this.isLoading?Oe():this.isError?De():""}render(){const t=this.getStatusIcon(),e=this.isError||this.isInvalidSrc,{name:i,errorText:n,"file-info":s}=this,r=`${i} ${e?n:`${s?.size} ${s?.type}`}`,a=e?"graphite":"white";return W`
            <flex-container
                class="container ${We({error:e})}"
                gap="s"
                justify="flex-start"
            >
                <flex-container
                    justify="center"
                    align="center"
                    class="originalImage"
                >
                    ${e?K:W`<img
                              src="${this.imageSrc}"
                              class="image"
                              @error=${this.handleImageLoadError}
                              @load=${this.revokeImageObjectUrl}
                              role="img"
                              aria-label=${this.localesContext.getText("show_original_btn")}
                          />`}
                    ${t?W`<ya-icon
                              size="2xl"
                              color=${a}
                              class="statusIcon ${this.isLoading?"spinner":"spinner_hide"}"
                          >
                              ${Rt(t)}
                          </ya-icon>`:K}
                </flex-container>

                <flex-container
                    gap="2xs"
                    direction="column"
                    align="start"
                    justify="center"
                    role="text"
                    aria-label=${r}
                    tabindex="0"
                >
                    ${this.getContent()}
                </flex-container>
            </flex-container>
        `}getContent(){const{searchText:t}=this.searchSidebarContext,e=fr(t,this.name),i=mr(t,this.name);i&&$r(this["messages-pair-id"],this.shadowRoot);const n=We({highlighted:i}),s=e.map((e=>e.toLowerCase()===t?W`<span class="${n}">${e}</span>`:W`<span>${e}</span>`));return this.isLoading?W` <ya-text
                    id="${this["messages-pair-id"]}"
                    font-size="s"
                    font-weight="medium"
                >
                    ${s}
                </ya-text>
                <ya-text font-size="s" font-weight="medium" color="secondary">
                    ${this.localesContext.getText("image_input_loader_text")}...
                </ya-text>`:this.isError?W` <ya-text
                    id="${this["messages-pair-id"]}"
                    font-size="s"
                    font-weight="medium"
                    aria-hidden="true"
                >
                    ${s}
                </ya-text>
                <ya-text
                    font-size="s"
                    word-wrap
                    font-weight="regular"
                    color="tertiary"
                    aria-hidden="true"
                >
                    <span>${this.errorText}</span>
                </ya-text>`:W`<ya-text
                id="${this["messages-pair-id"]}"
                font-size="s"
                font-weight="medium"
                aria-hidden="true"
            >
                ${s}
            </ya-text>
            <ya-text font-size="s" color="tertiary" aria-hidden="true">
                ${this["file-info"]?.size}&nbsp;${this["file-info"]?.type}
            </ya-text>`}get isLoading(){return this.status===pn.RecognizePending||Tn(this.status)||_n(this.status)}get isError(){return Ln(this.status)||In(this.status)||Sn(this.status)}get errorText(){return Ln(this.status)?this.localesContext.getText("image_no_text_error"):In(this.status)?this.localesContext.getText("image_no_text_by_rotation_error"):Pn(this.status)?this.localesContext.getText("image_download_error"):this.localesContext.getText("file_translate_error")}handleImageLoadError(){this.isInvalidSrc=!0}async updated(t){if(t.has("src")&&this.src){const{url:t,revoke:e}=Ir(this.src,Hl);this.imageSrc=t,this.revokeImageObjectUrl=e,this.isInvalidSrc=!1}}};function uc(t){return"Enter"===t.key||" "===t.key}function gc(t){return"escape"===t.key.toLowerCase()}function fc(t){return"Enter"===t.key}pc.styles=hc,dc([ft({attribute:"src",type:Object})],pc.prototype,"src",void 0),dc([ft({attribute:"messages-pair-id",type:String})],pc.prototype,"messages-pair-id",void 0),dc([ft({attribute:"status",type:String})],pc.prototype,"status",void 0),dc([ft({attribute:"name"})],pc.prototype,"name",void 0),dc([ft({attribute:"file-info",type:Object})],pc.prototype,"file-info",void 0),dc([hi({context:di,subscribe:!0}),mt()],pc.prototype,"localesContext",void 0),dc([hi({context:vr,subscribe:!0}),mt()],pc.prototype,"searchSidebarContext",void 0),dc([mt()],pc.prototype,"imageSrc",void 0),dc([mt()],pc.prototype,"isInvalidSrc",void 0),pc=dc([pt("nt-input-image")],pc);const mc=o`
    .container {
        box-sizing: border-box;
        height: 100%;
        min-width: 220px;
        padding: var(--space_3xs);
        background: var(--control-ghost-bg);
        border-radius: var(--border-radius_s);
    }

    .container.mobile {
        padding: var(--space_2xs);
        border-radius: var(--border-radius_m);
    }

    .choice-container {
        position: relative;

        display: block;

        height: 100%;
        flex: 1;

        user-select: none;
    }

    .choice-container input {
        position: absolute;
        opacity: 0;
        height: 0;
        width: 0;
        appearance: none;
    }

    .checkmark {
        display: flex;
        justify-content: center;
        align-items: center;

        box-sizing: border-box;
        height: 100%;
        padding: var(--space_2xs) var(--space_s);

        border-radius: var(--border-radius_xs);
        background: var(--control-clear-bg);
    }

    .choice-container:hover input ~ .checkmark {
        background: var(--control-clear-bg--hover);
    }

    .choice-container input[data-checked='true'] ~ .checkmark {
        background-color: var(--tab-active-background);
    }

    :host([width='full']) .choice-container {
        flex-grow: 1;
    }

    :host([view='dark']) .container {
        border-radius: var(--space_s);
        background: var(--bg-border-dark);
    }

    :host([view='dark']) .choice-container .checkmark {
        border-radius: var(--border-radius_l);

        background: transparent;
        color: rgba(255, 255, 255, 0.68);
    }

    :host([view='dark']) .choice-container input ~ .checkmark {
        background-color: transparent;
        color: var(--text-secondary);
    }

    :host([view='dark'])
        .choice-container
        input[data-checked='true']
        ~ .checkmark {
        border-radius: calc(var(--border-radius_m) + var(--border-radius_3xs));
        background-color: var(--bg-quaternary-new);

        color: var(--text-primary);

        box-shadow: 0px 2px 4px 1px var(--control-stroke-bg-shadow);
    }
`;var vc=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let yc=class extends ht{constructor(){super(...arguments),this.view="default",this.items=[],this["selected-index"]=0,this.width="auto",this["font-weight"]="regular"}render(){const t=We({container:!0,mobile:this.environmentContext.isMobile});return W`
            <flex-container
                gap="xs"
                align="center"
                justify="center"
                class=${t}
            >
                ${this.items.map(((t,e)=>W`
                        <label
                            class="choice-container"
                            @click="${t=>this.handleChange(t,e)}"
                            @keydown=${t=>this.handleKeyDown(t,e)}
                            tabindex="0"
                        >
                            <input
                                type="radio"
                                name="choice"
                                data-checked="${e===this["selected-index"]}"
                                tabindex="-1"
                            />
                            <ya-text
                                class="checkmark"
                                color="primary"
                                font-size="s"
                                line-height="xs"
                                .font-weight=${this["font-weight"]}
                                >${t}</ya-text
                            >
                        </label>
                    `))}
            </flex-container>
        `}handleKeyDown(t,e){uc(t)&&(t.preventDefault(),"keydown"===t.type&&this.handleChange(t,e))}handleChange(t,e){t.preventDefault(),this.dispatchEvent(new CustomEvent("selection-changed",{detail:{selectedIndex:e}})),requestAnimationFrame((()=>{this.choiceElements?.[e].focus()}))}};yc.styles=mc,vc([ft({type:String,reflect:!0})],yc.prototype,"view",void 0),vc([ft({type:Array})],yc.prototype,"items",void 0),vc([ft({type:Number})],yc.prototype,"selected-index",void 0),vc([ft({type:String,reflect:!0})],yc.prototype,"width",void 0),vc([ft({type:String,reflect:!0,attribute:"font-weight"})],yc.prototype,"font-weight",void 0),vc([function(t){return(e,i)=>vt(e,i,{get(){return(this.renderRoot??(xt??=document.createDocumentFragment())).querySelectorAll(t)}})}(".choice-container")],yc.prototype,"choiceElements",void 0),vc([hi({context:ur}),mt()],yc.prototype,"environmentContext",void 0),vc([
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
function(t){return(e,i)=>{const n="function"==typeof e?e:e[i];Object.assign(n,t)}}({capture:!0})],yc.prototype,"handleChange",null),yc=vc([pt("ya-choice-group")],yc);var xc=i(7098),bc=i.n(xc),wc=i(1807),_c=i.n(wc),Cc=i(8054),Sc=i.n(Cc),Tc=i(8483),kc=i.n(Tc),Ec=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let Pc=class extends ht{constructor(){super(...arguments),this.type="like",this.filled=!1,this.size="xl"}render(){const t=this.getIcon(),e=pf[this.size]??"m",i=this.getAriaLabel(),n=this.filled?"true":"false";return W`
            <ya-button
                view="clear"
                size=${this.size}
                label=${i}
                aria-pressed=${n}
            >
                <ya-icon
                    slot="icon"
                    size=${e}
                    color=${Xr(this.color)}
                >
                    ${Rt(t)}
                </ya-icon>
            </ya-button>
        `}getIcon(){return"like"===this.type?this.filled?kc():Sc():this.filled?_c():bc()}getAriaLabel(){return"like"===this.type?this.localesContext.getText("a11y_like_btn"):this.localesContext.getText("a11y_dislike_btn")}};Ec([ft({type:String})],Pc.prototype,"type",void 0),Ec([ft({type:Boolean})],Pc.prototype,"filled",void 0),Ec([ft({type:String})],Pc.prototype,"size",void 0),Ec([ft({type:String})],Pc.prototype,"color",void 0),Ec([hi({context:di,subscribe:!0}),mt()],Pc.prototype,"localesContext",void 0),Pc=Ec([pt("nt-vote-button")],Pc);class Lc{constructor(t){this.host=t,this.host.addController(this)}announce(t,e){const i=document.getElementById("a11y-sound-notification");i&&(this.lastFocusedElement=e,i.textContent="",setTimeout((()=>{i.textContent=t,i.focus();const e=100*t.length;setTimeout((()=>{this.lastFocusedElement?.focus()}),e)}),0))}hostUpdated(){}}function Ic(t){return window.clipboardData?(t=>window.clipboardData.setData("Text",t))(t):(t=>{let e=!1;if(!document.queryCommandSupported||!document.queryCommandSupported("copy"))return!1;const i=document.createElement("textarea");i.value=t,i.setAttribute("readonly",""),i.style.position="fixed",document.body.appendChild(i),i.setSelectionRange(0,i.value.length),i.focus();try{e=document.execCommand("copy")}catch(t){}return i.blur(),document.body.removeChild(i),e})(t)}var Mc=i(4381),Ac=i.n(Mc),Oc=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let Rc=class extends ht{constructor(){super(...arguments),this.size="xl",this.focusAnnouncer=new Lc(this)}render(){const t=pf[this.size]??"m",e=this.localesContext.getText("a11y_copy_btn");return W`
            <ya-button
                view="clear"
                size=${this.size}
                label=${e}
                @click=${this.handleButtonClick}
            >
                <ya-icon
                    slot="icon"
                    size=${t}
                    color=${Xr(this.color)}
                >
                    ${Rt(Ac())}
                </ya-icon>
            </ya-button>
        `}handleButtonClick(t){if(!this.text)return;Ic(this.text);const e=t.target;e&&this.focusAnnouncer.announce(this.localesContext.getText("text_copied"),e)}};var Dc,jc;Oc([hi({context:di,subscribe:!0}),mt()],Rc.prototype,"localesContext",void 0),Oc([ft()],Rc.prototype,"text",void 0),Oc([ft({type:String})],Rc.prototype,"color",void 0),Oc([ft({type:String})],Rc.prototype,"size",void 0),Rc=Oc([pt("nt-copy-button")],Rc),function(t){t.StopEvent="tts-stop",t.ErrorEvent="tts-error",t.StartEvent="start-event",t.LoadEvent="tts-load"}(Dc||(Dc={})),function(t){t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High"}(jc||(jc={}));const $c=[[223,223],[880,1791],[2304,3711],[4256,4351],[12352,12543],[19968,40879],[44032,55215]],Fc=$c.length;function zc(t){if(t.toLowerCase()!==t.toUpperCase())return!0;for(let e=0,i=t.charCodeAt(0);e<Fc;e++)if(i>=$c[e][0]&&i<=$c[e][1])return!0;return!1}function Bc(t){if(!t)return!1;for(let e=0;e<t.length;e++)if(zc(t.charAt(e)))return!0;return!1}function Nc(t){const e=t.charCodeAt(0);return e>=48&&e<=57}function Vc(t){return Bc(t)||function(t){if(!t)return!1;for(let e=0;e<t.length;e++)if(Nc(t.charAt(e)))return!0;return!1}(t)}const Hc=/^(https?:\/\/)?(([\w\-\u0430-\u045f]+\.)+(ac|academy|ae|aero|agency|ai|am|amsterdam|app|ar|art|asia|at|au|az|ba|be|bg|biz|blog|blue|bot|br|buzz|by|ca|cards|cc|center|ch|chat|cl|cloud|club|cn|co|codes|coffee|com|company|computer|cy|cz|data|de|design|dev|dk|download|dz|edu|ee|eg|email|es|eu|fi|finance|flags|fm|foundation|fr|fun|games|ge|gg|gle|global|google|gov|gr|group|guide|guru|help|hk|hr|hu|id|ie|il|im|in|info|institute|int|io|iq|ir|is|ismaili|it|jp|kg|kr|kz|la|li|life|link|live|love|lt|lu|lv|ly|md|me|media|men|mil|mk|ml|mn|moe|moscow|mx|name|net|network|news|ng|nl|no|nz|one|onion|online|org|page|party|ph|pl|plus|porn|post|press|pro|pt|pub|red|ro|rs|ru|run|sa|sc|science|se|sg|sh|shop|si|site|sk|so|social|space|su|tatar|team|tech|th|tips|tj|to|top|town|tr|travel|tv|tw|ua|uk|us|uz|vc|video|vip|vn|work|works|world|ws|xn--p1ai|xxx|xyz|yandex|za|zone|))(:\d+)?(\/\S*)?$/i;function Uc(t){return t.includes(".")&&!t.includes(" ")&&!/\s/.test(t)&&Hc.test(t)&&RegExp.$4.length>1}class qc{constructor(t){this.callbacks=t.callbacks,this.maxTextLength=t.maxTextLength}isTextSupported(t){return Vc(t)&&!Uc(t)}isTextSizeBelowLimit(t){return Boolean(t)&&t.length<=this.maxTextLength}isValid(t,e,i){this.isTextSupported(t)&&this.isTextSizeBelowLimit(t)?this.isLangSupported(e,(t=>{i(t)})):i(!1)}}class Wc extends qc{static initVoices(){window.speechSynthesis.getVoices()}static isAvailable(){return"speechSynthesis"in window&&"SpeechSynthesisUtterance"in window}static getVoiceByLanguage(t){const e=Wc.langRegions[t];let i=[],n=window.speechSynthesis.getVoices();return n=n.filter((e=>0===e.lang.indexOf(t))),e&&(i=n.filter((t=>{const i=t.lang.replace(/_/g,"-").split("-")[1];return i&&i.toUpperCase()===e}))),i[0]||n[0]||null}constructor(t){super(t),this.pitch=1,this.rate=1,this.volume=1,this.utterances=[],this.active=!1}onStop(){this.active=!1,this.callbacks.onStop(Wc.type)}onError(){this.active=!1,this.callbacks.onError(Wc.type)}onStart(){this.active=!0,this.callbacks.onStart(Wc.type)}createUtterance(t,e){const i=new SpeechSynthesisUtterance;return i.rate=this.rate,i.pitch=this.pitch,i.volume=this.volume,i.text=t,i.lang=e?e.lang:"",i.voice=e,i.addEventListener("end",this.onStop.bind(this)),i.addEventListener("error",this.onError.bind(this)),i.addEventListener("start",this.onStart.bind(this)),i}startSynthesis(t,e,i){const n=Wc.getVoiceByLanguage(t),s=this.createUtterance(e,n);this.utterances.splice(0,1,s);try{window.speechSynthesis.speak(s),i(!0)}catch(t){i(!1)}}isActive(){return this.active}getPriority(){return jc.Normal}isLangSupported(t,e){e(Boolean(Wc.getVoiceByLanguage(t)))}play(t,e,i){this.isValid(t,e,(n=>{n?(this.active=!0,this.callbacks.onLoad(Wc.type),la()?setTimeout((()=>this.startSynthesis(e,t,i)),100):this.startSynthesis(e,t,i)):i(!1)}))}stop(){this.isActive()&&(window.speechSynthesis.cancel(),this.active=!1,this.callbacks.onStop(Wc.type))}}Wc.type="native",Wc.langRegions={de:"DE",en:"GB",es:"ES",fr:"FR",it:"IT",nl:"NL",pt:"PT",ru:"RU",zh:"CN"};var Zc,Kc,Gc,Yc,Xc,Jc=i(2543);!function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed",t.Stopped="stopped"}(Zc||(Zc={})),function(t){t[t.Normal=1e3]="Normal",t[t.Offline=4001]="Offline",t[t.ConnectingTimeout=4002]="ConnectingTimeout",t[t.HeartbeatTimeout=4003]="HeartbeatTimeout",t[t.ConnectionTimeout=4004]="ConnectionTimeout",t[t.Stop=4005]="Stop",t[t.Unauthorized=4006]="Unauthorized",t[t.NotInternalNetwork=4007]="NotInternalNetwork"}(Kc||(Kc={})),function(t){t.RequestTimeoutError="request_timeout",t.SyncStateError="sync_state",t.EventError="event_error",t.ConnectionError="connection",t.UnsupportedPacket="unsupported_packet",t.RateLimitError="rate_limit",t.ResponseError="response"}(Gc||(Gc={})),function(t){t[t.Close=0]="Close",t[t.Chunk=1]="Chunk"}(Yc||(Yc={})),function(t){t[t.NoError=0]="NoError",t[t.ProtocolError=1]="ProtocolError",t[t.InternalError=2]="InternalError",t[t.FlowControlError=3]="FlowControlError",t[t.SettingTimeout=4]="SettingTimeout",t[t.StreamClosed=5]="StreamClosed",t[t.FrameSizeError=6]="FrameSizeError",t[t.RefusedStream=7]="RefusedStream",t[t.Cancel=8]="Cancel",t[t.CompressionError=9]="CompressionError",t[t.ConnectError=10]="ConnectError",t[t.EnhanceYourCalm=11]="EnhanceYourCalm",t[t.InadequateSecurity=12]="InadequateSecurity",t[t.Http11Required=13]="Http11Required"}(Xc||(Xc={}));const Qc="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",th="System",eh="SynchronizeState";class ih{constructor(t){this.nextStreamId=-1,this.status=Zc.Closed,this.requests={},this.ws=null,this.seqNumber=1,this.apiKey=t.apiKey,this.url=t.url,this.uuid=Nn(Qc),this.vins={application:{lang:t.uiLang,platform:la()?"ios":ca()?"android":"windows",uuid:this.uuid,app_id:"ru.yandex.translate.desktop"}}}listenError(t){this.onError=t}listenMessage(t){this.onMessage=t}listenStream(t){this.onStream=t}listenClose(t){this.onClose=t}listenStreamControl(t){this.onStreamControl=t}startStream(){return this.nextStreamId+=2,this.nextStreamId}closeStream(t,e,i=Xc.NoError){return this.sendRaw({streamcontrol:{action:Yc.Close,streamId:t,reason:i,messageId:e}})}start(){this.ws=new WebSocket(this.url),this.ws.binaryType="arraybuffer",this.ws.onclose=this.handleClose.bind(this),this.ws.onerror=this.handleError.bind(this),this.ws.onmessage=this.handleMessage.bind(this),this.ws.onopen=this.handleOpen.bind(this),this.onConnecting?.(),this.setStatus(Zc.Connecting)}stop(){this.ensureClose(Kc.Normal),this.setStatus(Zc.Stopped)}isConnected(){return!!this.ws&&this.status===Zc.Open}ensureConnection(t){this.ws&&this.status!==Zc.Stopped||this.start(),this.status===Zc.Connecting?this.ws?.addEventListener("open",t,{once:!0}):this.isConnected()&&t()}sendRequest(t,e,i={}){const n=this.sendEvent(t,e,i),s=eh===e;if(!n)return void(navigator.onLine&&this.throwError(Gc.ConnectionError,{namespace:t,name:e}));const r=window.setTimeout((()=>{s||(this.processRequest(n,Gc.RequestTimeoutError),this.throwError(Gc.RequestTimeoutError,{messageId:n}))}),1e4);return this.requests[n]=t=>{window.clearTimeout(r),t&&navigator.onLine&&this.throwError(t,{messageId:n}),delete this.requests[n]},n}sendEvent(t,e,i={}){const{streamId:n}=i,s=Nn(Qc),r={header:{namespace:t,name:e,messageId:s,streamId:n,seqNumber:this.seqNumber},payload:i};if(this.sendRaw({event:r}))return this.seqNumber++,s}sendStreamData(t,e,i){const n=new ArrayBuffer(4);return new DataView(n).setUint32(0,t),this.sendRaw(new Blob([n,e],{type:i}))}setStatus(t){this.status=t,this.onStatusChanged?.(t)}ensureClose(t=Kc.Normal,e=null){if(this.ws){this.ws.onclose=null,this.ws.onerror=null,this.ws.onmessage=null,this.ws.onopen=null;try{this.ws.readyState<WebSocket.CLOSING&&this.ws.close(t)}finally{this.ws=null,this.onClose?.(e),this.setStatus(Zc.Closed)}}}sendRaw(t){if(!this.ws||this.ws.readyState!==WebSocket.OPEN)return!1;try{return this.ws.send(t instanceof Blob?t:JSON.stringify(t)),!0}catch(t){return!1}}processRequest(t,e,i){const n=t&&this.requests[t];n&&n.call(this,e,i)}sendSyncState(){try{this.sendRequest(th,eh,{uuid:this.uuid,auth_token:this.apiKey,vins:this.vins})}catch(t){this.throwError(Gc.SyncStateError,t)}}handleOpen(){this.sendSyncState(),this.setStatus(Zc.Open),this.onOpen?.()}handleClose(t){const e=window.navigator.onLine?t.code:Kc.Offline;this.ensureClose(e,t.reason)}handleError(){this.throwError(Gc.ConnectionError)}handleMessage({data:t}){if(t){if(t instanceof ArrayBuffer)return this.receiveStream(t);try{const e=mi(t);return(0,Jc.isEmpty)(e)?this.throwError(Gc.UnsupportedPacket):"streamcontrol"in e?this.receiveStreamControl(e.streamcontrol):"directive"in e?this.handleDirective(e.directive):this.throwError(Gc.UnsupportedPacket)}catch(t){return this.throwError(Gc.UnsupportedPacket,t)}}}handleDirective(t){switch(`${t.header.namespace}:${t.header.name}`){case`${th}:EventException`:case`${th}:InvalidAuth`:this.receiveException(t);break;default:this.receiveMessage(t)}}receiveStream(t){const e=new DataView(t);this.onStream?.({streamId:e.getUint32(0),data:e.buffer.slice(4)})}receiveStreamControl(t){this.onStreamControl?.({data:t})}receiveException(t){const{header:e,payload:i}=t,n=function(t){if(!t||!t.Response)return Gc.EventError;if(t.Response.RateLimit)return Gc.RateLimitError;return Gc.ResponseError}(i);this.processRequest(e.refMessageId,n,t),this.throwError(n,{header:e,payload:i})}receiveMessage(t){const{header:e}=t;this.processRequest(e.refMessageId,void 0,t),this.onMessage?.({data:t})}throwError(t,e){this.onError?.({error:t,data:e})}}const nh=t=>{const e=t.platform,i={uiLang:t.uiLang,apiKey:t.speechkitKey,url:t.apiUrls.uniproxy,platform:e,srv:t.srv[e].trText};return new ih(i)};var sh,rh;!function(t){t.Webm="audio/webm;codecs=opus",t.Ogg="audio/ogg;codecs=opus",t.Wav="audio/x-wav;bit=16",t.WavPcm="audio/x-pcm;bit=16",t.Raw="audio/x-raw"}(sh||(sh={})),function(t){t.NoStream="no_stream",t.DecodeError="decode_error",t.BufSourceError="buffer_source_error",t.PlayerError="player_error"}(rh||(rh={}));class ah{constructor(t){this.offset=0,this.buffer=new ArrayBuffer(t)}add(t,e){const i=e?e.byteLength:0,n=0===this.offset;if(t.byteLength+(n?i:0)+this.offset>this.buffer.byteLength)return!1;const s=new Uint8Array(this.buffer);return 0===this.offset&&e&&(s.set(new Uint8Array(e),this.offset),this.offset+=e.byteLength),s.set(new Uint8Array(t),this.offset),this.offset+=t.byteLength,!0}relax(){return this.buffer=this.buffer.slice(0,this.offset)}}class oh{constructor({onBufferReady:t}){this.pendingBuffer=null,this.index=-1,this.finished=!1,this.breaked=!1,this.preloadBufferSize=void 0,this.bufferSize=void 0,this.onBufferReady=t}createBuffer(t=0){this.index++,this.pendingBuffer=new ah(Math.max(t,(0===this.index?this.preloadBufferSize:this.bufferSize)||0))}insert(t,e){const i=e?e.byteLength:0,n=t.byteLength+i;this.pendingBuffer||this.createBuffer(n),this.pendingBuffer?.add(t,e)||(this.ready(),this.createBuffer(n),this.pendingBuffer?.add(t,e))}finish(){this.finished=!0,this.ready()}break(){this.breaked=!0,this.pendingBuffer=null}ready(){this.pendingBuffer?(this.onBufferReady(this.getChunk(this.pendingBuffer.relax()),this.index),this.pendingBuffer=null):this.onBufferReady(void 0,this.index)}}const lh=1332176723,ch=1332770163,hh=1214603620,dh=1415669619,ph=/audio\/x-pcm;bit=(\d*);rate=(\d*)/;class uh extends oh{static isOggOpus(t=""){return"audio/opus"===t}constructor(t){super(t),this.currentHeader=null,this.preloadBufferSize=2e4,this.bufferSize=4e4}add(t){const e=function(t){const e=[];let i=0;const n=new DataView(t);for(;i<t.byteLength;){const s=i;if(n.getUint32(i)!==lh)break;const r=n.getUint8(i+26);let a=i+26+1;const o=a+r;i+=26+r+1;const l=[];for(;a<o;a++){const e=n.getUint8(a);l.push(fh(t,i,e)),i+=e}e.push({offset:s,size:i-s,segments:l})}return e}(t);let i=-1,n=-1;for(const s of e){const{segments:e,size:r,offset:a}=s;e.length&&("head"===e[0].type?(-1!==i&&this.currentHeader?(this.insert(t.slice(i,n),this.currentHeader),i=-1,n=-1):this.pendingBuffer&&this.pendingBuffer.offset&&this.ready(),this.currentHeader=t.slice(a,r+a)):"tag"===e[0].type?this.currentHeader&&(this.currentHeader=gh(this.currentHeader,t.slice(a,r+a))):-1===i?(i=a,n=a+r):n+=r)}-1!==i&&this.currentHeader&&this.insert(t.slice(i,n),this.currentHeader)}getChunk(t){return t}}function gh(t,e){const i=new Uint8Array(t.byteLength+e.byteLength);return i.set(new Uint8Array(t),0),i.set(new Uint8Array(e),t.byteLength),i.buffer}function fh(t,e,i){const n=t.slice(e,e+i),s=new DataView(n);let r="data";return n.byteLength>=4&&s.getUint32(0)===ch&&(s.getUint32(4)===hh?r="head":s.getUint32(4)===dh&&(r="tag")),{offset:e,type:r,size:i}}class mh extends oh{static isPCM(t=""){return ph.test(t)}constructor(t){super(t),this.preloadBufferSize=2e4,this.bufferSize=4e4,this.bit=15,this.rate=16e3,this.channelCount=1;const[,e="",i=""]=(t.format||"").match(ph)||[],n=parseInt(e,10),s=parseInt(i,10);this.bit=isNaN(n)?void 0:n,this.rate=isNaN(s)?void 0:s}add(t){this.insert(t)}getChunk(t){return function(t,e=1,i=15,n=16e3){const s=t.byteLength,r=new Uint8Array(44+s),a=new DataView(r.buffer);let o=0;return r.set(new Uint8Array(t),44),a.setInt32(o,1380533830),o+=4,a.setInt32(o,s+36,!0),o+=4,a.setInt32(o,1463899717),o+=4,a.setInt32(o,1718449184),o+=4,a.setInt32(o,16,!0),o+=4,a.setInt16(o,1,!0),o+=2,a.setInt16(o,e,!0),o+=2,a.setInt32(o,n,!0),o+=4,a.setInt32(o,n*e*i/8,!0),o+=4,a.setInt16(o,e*i/8,!0),o+=2,a.setInt16(o,i,!0),o+=2,a.setInt32(o,1684108385),o+=4,a.setInt32(o,s,!0),a.buffer}(t,this.channelCount,this.bit,this.rate)}}class vh{constructor(){this.stream=null,this.activeSource=null,this.activeBufferIndex=0,this.isStopped=!0,this.format=sh.Wav,this.audioContext=null,this.audioBuffers=null,this.onStart=null,this.onError=null,this.onFinished=null}setAudioContext(t){this.audioContext=t}start({onStart:t,onError:e,onFinished:i,format:n}){this.format=n,this.isStopped=!1,this.onStart=t,this.onError=e,this.onFinished=i,this.onBufferError=()=>this.handleError(null,rh.BufSourceError)}stop(){this.stream&&this.stream.break(),this.finished()}onPackage(t){var e;this.stream||(this.stream=(e={onBufferReady:this.onBufferReady.bind(this),format:this.format},uh.isOggOpus(e.format)?new uh(e):mh.isPCM(e.format)?new mh(e):null)),this.stream?this.stream.add(t):this.error(rh.NoStream)}onStreamFinished(){this.stream&&this.stream.finish()}async onBufferReady(t,e){t?(this.audioContext||(this.audioContext=new window.AudioContext),this.audioContext.decodeAudioData(t,(t=>this.handleDecodeAudioData(t,e)),this.handleDecodeError.bind(this))):this.stop()}handleDecodeError(t){this.error(rh.DecodeError,t)}handleDecodeAudioData(t,e){this.isStopped||"number"!=typeof e||(this.audioBuffers||(this.audioBuffers=[]),this.audioBuffers[e]=t,this.playBuffer())}finished(){this.onFinished&&this.onFinished(),this.clean()}clean(){this.stream=null,this.isStopped=!0,this.audioBuffers=null,this.activeBufferIndex=0,this.activeSource&&(this.activeSource.disconnect(),this.activeSource.removeEventListener("ended",this.handleEnded.bind(this)),this.onBufferError&&this.activeSource.removeEventListener("error",this.onBufferError),this.activeSource.stop()),this.activeSource=null,this.onStart=null,this.onError=null,this.onFinished=null}error(t,e=null){null===t&&(t=rh.PlayerError);const i=e instanceof Error?e.message:null;this.onError&&this.onError(t,i),this.clean()}playBuffer(t=!1){if(!this.audioBuffers||!this.audioBuffers.length)return;const e=this.audioBuffers[this.activeBufferIndex];if(e&&(!this.activeSource||t)){this.audioContext||(this.audioContext=new window.AudioContext);const t=this.audioContext,i=t.createBufferSource();this.activeSource=i,e&&(i.buffer=e),i.connect(t.destination),i.addEventListener("ended",this.handleEnded.bind(this)),this.onBufferError&&i.addEventListener("error",this.onBufferError),i.start(),0===this.activeBufferIndex&&this.onStart&&this.onStart()}}handleError(t,e=null){this.error(t,e)}handleEnded(){this.activeSource&&(this.activeSource.disconnect(),this.activeSource=null),this.audioBuffers&&this.stream?(this.audioBuffers[this.activeBufferIndex]=null,this.stream.finished&&this.stream.index===this.activeBufferIndex?this.finished():(this.activeBufferIndex++,this.audioBuffers[this.activeBufferIndex]&&this.playBuffer(!0))):this.clean()}}function yh(){return void 0===navigator.onLine||navigator.onLine}const xh="Generate",bh="Speak",wh=[sh.Ogg,sh.Webm,sh.WavPcm,sh.Wav].filter((t=>(new Audio).canPlayType(t)))[0];class _h extends qc{static isAvailable(){const t=!la()&&aa(),e=function(){const t=ra.match(/chrom(e|ium)\/([0-9]+)\./);return t?parseInt(t[2],10):0}();return Boolean(wh)&&!t&&(!e||e>60)&&Boolean(window.AudioContext)}constructor(t,e){super(e),this.experimentsService=t,this.player=new vh,this.currentMessageId="",this.currentStreamId=-1,this.uniproxy=e.uniproxy,this.audioContext=null,this.uniproxy.listenError((t=>this.handleUniproxyError(t.data))),this.uniproxy.listenMessage((t=>this.handleMessage(t.data))),this.uniproxy.listenStream((t=>this.handleStream(t))),this.uniproxy.listenStreamControl((t=>this.handleStreamControl(t.data)))}freeAudioContext(){this.audioContext&&this.audioContext.close&&this.audioContext.state&&("closed"!==this.audioContext.state&&this.audioContext.close(),this.audioContext=null)}handleStream(t){this.currentStreamId===t.streamId&&this.player.onPackage(t.data)}handleStreamControl({action:t,streamId:e}){t===Yc.Close&&e===this.currentStreamId&&(this.player.onStreamFinished(),this.currentStreamId=-1,this.currentMessageId="")}handleError(){this.stop(),this.callbacks.onError(_h.type)}handleUniproxyError({header:t}){t&&t.refMessageId===this.currentMessageId&&this.handleError()}handleStart(){this.callbacks.onStart(_h.type)}handleFinished(){this.callbacks.onStop(_h.type)}handleSpeak({header:t,payload:e}){void 0!==t.streamId?t.refMessageId===this.currentMessageId&&(this.currentStreamId=t.streamId,this.player.start({onStart:this.handleStart.bind(this),onError:this.handleError.bind(this),onFinished:this.handleFinished.bind(this),format:e.format})):this.handleError()}handleMessage(t){const{header:e}=t;if(e&&"TTS"===e.namespace&&e.name===bh)this.handleSpeak(t)}isValid(t,e,i){qc.prototype.isValid.call(this,t,e,(t=>{if(!t)return i(t);this.uniproxy.ensureConnection((()=>{i(!0)}))}))}isActive(){return!this.player.isStopped}isLangSupported(t,e){e(Boolean(this.uniproxyVoices[t]))}getPriority(t){return!yh()||oa()>=14?jc.Low:t&&this.highPriorityLangs.includes(t)||-1!==ra.indexOf("linux")&&-1===ra.indexOf("android")?jc.High:jc.Normal}play(t,e,i){this.freeAudioContext(),this.audioContext=this.audioContext||new window.AudioContext,this.audioContext.createScriptProcessor(256,1,1).disconnect(),this.isValid(t,e,(n=>{if(!n)return void i(!1);const s=t,r=this.uniproxyVoices[e],a=wh===sh.Wav?sh.WavPcm:wh;this.callbacks.onLoad(_h.type),this.audioContext&&this.player.setAudioContext(this.audioContext),this.currentMessageId=this.uniproxy.sendRequest("TTS",xh,{text:s,lang:e,voice:r,format:a}),i(!0)}))}stop(){this.isActive()&&(this.freeAudioContext(),-1!==this.currentStreamId&&this.uniproxy.closeStream(this.currentStreamId,this.currentMessageId),this.currentStreamId=-1,this.currentMessageId="",this.player.stop(),this.callbacks.onStop(_h.type))}get uniproxyVoices(){const t={en:"oksana",ru:"oksana.gpu",tr:"selay.gpu",uk:"oksana",tt:"rezeda.gpu"},e=this.experimentsService.isFlagEnabled("enable_tts_cv_lang"),i=this.experimentsService.isFlagEnabled("enable_tts_ba_lang");return e&&(t.cv="chuvash.gpu"),i&&(t.ba="bashkir.gpu"),t}get highPriorityLangs(){const t=["ru","tr","uk","tt"];return this.experimentsService.isFlagEnabled("enable_tts_cv_lang")&&t.push("cv"),t}}_h.type="uniproxy";class Ch{constructor(t,e,i){this.config=t,this.uniproxy=e,this.experimentsService=i,this.players=[],this.activePlayerData={activePlayerId:"",langPairType:""},window.AudioContext=window.AudioContext||window.webkitAudioContext,this.initPlayers()}getCallbacks(){return{onStart:t=>{const e=new CustomEvent(Dc.StartEvent,{detail:{engine:t}});window.dispatchEvent(e)},onStop:t=>{const e=new CustomEvent(Dc.StopEvent,{detail:{engine:t}});window.dispatchEvent(e)},onError:t=>{const e=new CustomEvent(Dc.ErrorEvent,{detail:{engine:t}});window.dispatchEvent(e)},onLoad:t=>{const e=new CustomEvent(Dc.LoadEvent,{detail:{engine:t}});window.dispatchEvent(e)}}}initPlayers(){const t=[];Wc.isAvailable()&&(Wc.initVoices(),t.push(new Wc({maxTextLength:this.config.maxNativeTTSLength,callbacks:this.getCallbacks()}))),_h.isAvailable()&&t.push(new _h(this.experimentsService,{maxTextLength:this.config.maxUniproxyTTSLength,uniproxy:this.uniproxy,callbacks:this.getCallbacks()})),this.players=t}getSortedPlayers(t,e){return this.players.map((i=>[i.getPriority(e,t),i])).sort((([t],[e])=>e-t)).map((([,t])=>t))}checkIsTTSEnabled(t,e){let i=!1;return this.players.forEach((e=>e.isLangSupported(t,(t=>i=i||t)))),i?(this.players.forEach((t=>{t.isTextSizeBelowLimit(e)||(i=!1)})),i):i}startTTS(t,e){!function(t,e,i){const n=[...t],s=[],r=()=>{if(!n.length)return i?.(s);const t=n.shift();e(t,(e=>{e&&s.push(t),r()}))};r()}(this.getSortedPlayers(t,e),((i,n)=>i.play(t,e,(t=>{t||n(!1)}))))}isActive(){return this.players.some((t=>t.isActive()))}play(t,e,i,n){this.isActive()&&this.stop(),this.activePlayerData.activePlayerId=t.activePlayerId,this.activePlayerData.langPairType=t.langPairType;const s=()=>{n(),window.removeEventListener(Dc.ErrorEvent,s)},r=()=>{n(),window.removeEventListener(Dc.StopEvent,r)};setTimeout((()=>{window.addEventListener(Dc.ErrorEvent,s),window.addEventListener(Dc.StopEvent,r),this.startTTS(e,i)}),100)}stop(){this.players.forEach((t=>t.stop())),this.activePlayerData.activePlayerId="",this.activePlayerData.langPairType=""}}var Sh=i(3212),Th=i.n(Sh),kh=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let Eh=class extends ht{constructor(){super(...arguments),this.size="xl",this.disabled=!1,this.playing=!1}render(){const t=pf[this.size]??"m",e=this.localesContext.getText("a11y_tts_btn"),i=this.disabled?"disabled":this.color;return W`
            <ya-button
                ?disabled=${this.disabled}
                view="clear"
                size=${this.size}
                ?pulse-animation=${this.playing}
                label=${e}
            >
                <ya-icon slot="icon" size=${t} color=${Xr(i)}>
                    ${Rt(Th())}
                </ya-icon>
            </ya-button>
        `}};function Ph(t,e){return!!e&&t.composedPath().includes(e)}kh([hi({context:di,subscribe:!0}),mt()],Eh.prototype,"localesContext",void 0),kh([ft({type:String})],Eh.prototype,"color",void 0),kh([ft({type:String})],Eh.prototype,"size",void 0),kh([ft({reflect:!0,type:Boolean})],Eh.prototype,"disabled",void 0),kh([ft({type:Boolean})],Eh.prototype,"playing",void 0),Eh=kh([pt("nt-tts-button")],Eh);const Lh=o`
    :host {
        position: absolute;
        z-index: var(--layer_overlay);
        top: 0;
        left: 0;

        visibility: hidden;

        border: 1px solid var(--bg-border);
        border-radius: var(--border-radius_l);
        background-color: var(--bg-secondary);
        box-shadow: 0px 6px 16px 0px var(--bg-popup);
        transition: opacity var(--transition-duration-m) ease;

        opacity: 0;
    }

    :host([open]) {
        visibility: visible;

        opacity: 1;
    }

    /*  */

    :host([arrow='top'])::before,
    :host([arrow='bottom'])::before,
    :host([arrow='left'])::before,
    :host([arrow='right'])::before {
        content: '';
        position: absolute;
        border: 11px solid transparent;
    }

    :host([arrow='top'])::after,
    :host([arrow='bottom'])::after,
    :host([arrow='left'])::after,
    :host([arrow='right'])::after {
        content: '';
        position: absolute;
        border: 10px solid transparent;
    }

    /*    */
    :host([arrow='top'])::before {
        bottom: 100%;
        left: 86%;
        transform: translateX(-50%);
        border-bottom-color: var(--bg-border);
    }

    :host([arrow='bottom'])::before {
        top: 100%;
        left: 50%;
        transform: translateX(-50%);
        border-top-color: var(--bg-border);
    }

    :host([arrow='left'])::before {
        right: 100%;
        top: 50%;
        transform: translateY(-50%);
        border-right-color: var(--bg-border);
    }

    :host([arrow='right'])::before {
        left: 100%;
        top: 50%;
        transform: translateY(-50%);
        border-left-color: var(--bg-border);
    }

    /*   */
    :host([arrow='top'])::after {
        bottom: 100%;
        left: 86%;
        transform: translateX(-50%);
        border-bottom-color: var(--bg-secondary);
    }

    :host([arrow='bottom'])::after {
        top: calc(100% - 1px);
        left: 50%;
        transform: translateX(-50%);
        border-top-color: var(--bg-secondary);
    }

    :host([arrow='left'])::after {
        right: 100%;
        top: 50%;
        transform: translateY(-50%);
        border-right-color: var(--bg-secondary);
    }

    :host([arrow='right'])::after {
        left: 100%;
        top: 50%;
        transform: translateY(-50%);
        border-left-color: var(--bg-secondary);
    }
`;var Ih=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let Mh=class extends ht{constructor(){super(...arguments),this.open=!1,this["close-on-resize"]=!1,this["anchor-nodes"]=[],this.arrow="none"}render(){return W`<slot></slot>`}connectedCallback(){super.connectedCallback(),document.addEventListener("mousedown",this.handleDocumentClick),document.addEventListener("keydown",this.handleKeyDown),this["close-on-resize"]&&window.visualViewport?.addEventListener("resize",this.handleResize)}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("mousedown",this.handleDocumentClick),document.removeEventListener("keydown",this.handleKeyDown),this["close-on-resize"]&&window.visualViewport?.removeEventListener("resize",this.handleResize)}updated(t){if(!t.has("open"))return;const e=t.get("open"),i=new CustomEvent(e?"open":"close");this.dispatchEvent(i)}handleKeyDown(t){gc(t)&&this.handleRequestClose()}handleResize(){this.handleRequestClose()}handleDocumentClick(t){const e=Ph(t,this),i=this["anchor-nodes"]?.some((e=>Ph(t,e)));!e&&!i&&this.handleRequestClose()}handleRequestClose(){const t=new CustomEvent("request-close");this.dispatchEvent(t)}};Mh.styles=Lh,Ih([ft({attribute:"open",type:Boolean})],Mh.prototype,"open",void 0),Ih([ft({attribute:"close-on-resize",type:Boolean})],Mh.prototype,"close-on-resize",void 0),Ih([ft({attribute:"anchor-nodes",type:Array})],Mh.prototype,"anchor-nodes",void 0),Ih([ft({attribute:"arrow",type:String})],Mh.prototype,"arrow",void 0),Ih([Ue],Mh.prototype,"handleKeyDown",null),Ih([Ue],Mh.prototype,"handleResize",null),Ih([Ue],Mh.prototype,"handleDocumentClick",null),Mh=Ih([pt("ya-popup")],Mh);const Ah=o`
    .container {
        user-select: none;
    }

    .checkbox-wrapper {
        flex-shrink: 0;
        flex-grow: 0;
        position: relative;

        display: flex;
        height: fit-content;
        width: fit-content;
        padding: var(--space_3xs) 0;
    }

    .checkbox {
        appearance: none;
        border: 1px solid var(--control-active-bg-hover);
        background-color: var(--bg-primary);
        border-radius: var(--border-radius_xs);
        width: var(--size_m);
        height: var(--size_m);
        margin: 0;
    }

    .checkbox-icon {
        display: none;
        position: absolute;
        pointer-events: none;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
    }

    .label {
        text-align: start;
        width: 100%;
        -webkit-tap-highlight-color: transparent;
    }

    :host([checked]) .checkbox {
        background-color: var(--bg-accent);
        border: none;
    }

    :host([checked]) .checkbox-icon {
        display: inherit;
    }
`;var Oh=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let Rh=class extends ht{constructor(){super(...arguments),this.name="",this["checkbox-aria-label"]="",this.gap="none",this.checked=!1}handleChange(){const t=new CustomEvent("change",{detail:{checked:!this.checked}});this.dispatchEvent(t)}handleChangeByKey(t){fc(t)&&this.handleChange()}render(){return W`
            <flex-container gap="${this.gap}" align="center" class="container"
                ><span class="checkbox-wrapper">
                    <input
                        part="checkbox"
                        aria-label=${this["checkbox-aria-label"]||""}
                        id="checkbox"
                        type="checkbox"
                        name="${this.name}"
                        ?checked=${this.checked}
                        @keypress=${this.handleChangeByKey}
                        @change=${this.handleChange}
                        class="checkbox"
                    />
                    <ya-icon
                        part="checkbox-icon"
                        color="control-primary"
                        size="s"
                        class="checkbox-icon"
                        >${Rt(we())}</ya-icon
                    >
                </span>
                <label part="checkbox-label" for="checkbox" class="label">
                    <slot></slot>
                </label>
            </flex-container>
        `}};function Dh(t){if(!t?.length)return;const e=t[0].word;return{text:e.text,transcription:e.transcription,partOfSpeech:e.partOfSpeechCode}}Rh.styles=Ah,Oh([ft({attribute:"name",type:String})],Rh.prototype,"name",void 0),Oh([ft({attribute:"checkbox-aria-label",type:String})],Rh.prototype,"checkbox-aria-label",void 0),Oh([ft({attribute:"gap",type:String})],Rh.prototype,"gap",void 0),Oh([ft({attribute:"checked",type:Boolean})],Rh.prototype,"checked",void 0),Rh=Oh([pt("nt-checkbox")],Rh);const jh=o`
    .title {
        padding: var(--space_2xs) 0;
    }

    .checkbox::part(checkbox-label) {
        padding: calc(var(--space_2xs) + var(--space_3xs));
    }

    .checkbox:hover::part(checkbox) {
        background-color: var(--fill_6);
    }

    .checkbox[checked]:hover::part(checkbox) {
        background-color: var(--accents-graphite-active);
    }

    .textarea {
        resize: none;
        border: none;
        font-family: inherit;
        background-color: var(--control-ghost-bg);
        color: var(--text-primary);
        border-radius: var(--border-radius_m);
        padding: var(--space_s) var(--space_m);
        margin-top: var(--space_xs);

        font-size: var(--size_s);
        line-height: var(--line-height_s);
    }

    .textarea::placeholder {
        color: var(--text-tertiary);
    }

    .textarea:focus,
    .textarea:focus-visible {
        outline: none;
    }

    .horizontal-divider {
        display: none;
        width: 100%;
        height: 1px;
        background-color: var(--bg-border-sheet-bottom);
        margin-top: var(--space_m);
    }

    .buttons-block {
        margin-top: var(--space_xl);
    }

    .send-button,
    .cancel-button {
        width: calc(var(--size_xs) * 10);
    }

    .cancel-button::part(button-wrapper),
    .send-button::part(button-wrapper) {
        padding: var(--space_2xs) 0;
        height: calc(var(--size_xl) + var(--size_3xs));
    }

    .cancel-button::part(button-wrapper) {
        background-color: var(--fill_6);
    }

    .cancel-button:hover::part(button-wrapper) {
        background-color: var(--fill_9);
    }

    /* MOBILE */

    .wrapper.mobile .checkbox {
        padding: 0;
    }

    .wrapper.mobile .checkbox:hover::part(checkbox) {
        background-color: transparent;
    }

    .wrapper.mobile .checkbox[checked]:hover::part(checkbox) {
        background-color: var(--bg-accent);
    }

    .wrapper.mobile .checkbox::part(checkbox-label) {
        padding: calc(var(--space_s)) 0;
    }

    .wrapper.mobile .textarea {
        padding: calc(var(--space_xs) + var(--space_3xs)) var(--space_s);
        font-size: var(--size_m);
        line-height: var(--line-height_xs);
    }

    .wrapper.mobile .horizontal-divider {
        display: block;
    }

    .wrapper.mobile .buttons-block {
        margin-top: var(--space_l);
    }

    .wrapper.mobile .send-button {
        width: 100%;
    }

    .wrapper.mobile .send-button::part(button-wrapper) {
        padding: var(--space_s) 0;
        height: var(--size_5xl);
    }

    .wrapper.mobile .cancel-button {
        display: none;
    }
`;var $h,Fh=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};!function(t){t.Accuracy="accuracy",t.Unnatural="unnatural",t.InsufficientBackgroundInformation="insufficient_background_information",t.BackgroundInformationError="background_information_error",t.NotAllText="not_all_text",t.HardToRead="hard_to_read",t.Other="other"}($h||($h={}));const zh=[[$h.Accuracy,!1],[$h.BackgroundInformationError,!1],[$h.HardToRead,!1],[$h.InsufficientBackgroundInformation,!1],[$h.NotAllText,!1],[$h.Other,!1],[$h.Unnatural,!1]];let Bh=class extends ht{constructor(){super(...arguments),this.title="",this.feedbackCheckboxes=new Map(zh),this.textAreaValue="",this.focusAnnouncer=new Lc(this),this.trackingService=of.resolve(rf.TrackingService)}get messageType(){return this.message?.type}get messageId(){return this.message?.id}get hasExtraInfo(){return this.hasSynonyms||this.hasExamples||this.hasDictionaryGroups}get hasSynonyms(){return!(!this.message||!vn(this.message))&&Boolean(this.message.output?.dictionary?.relatedWords?.synonyms?.length)}get hasExamples(){return!(!this.message||!vn(this.message))&&Boolean(this.message.output?.examples?.examples?.length)}get hasDictionaryGroups(){return!(!this.message||!vn(this.message))&&Boolean(Dh(this.message.output?.dictionary?.dictionaryGroups))}getTextForCheckBox(t){switch(t){case $h.Accuracy:return this.localesContext.getText("feedback_accuracy");case $h.Unnatural:return this.localesContext.getText("feedback_unnatural");case $h.BackgroundInformationError:return this.localesContext.getText("feedback_background_information_error");case $h.HardToRead:return this.localesContext.getText("feedback_hard_to_read");case $h.InsufficientBackgroundInformation:return this.localesContext.getText("feedback_insufficient_background_information");case $h.NotAllText:return this.localesContext.getText("feedback_not_all_text");case $h.Other:return this.localesContext.getText("feedback_other")}}getCheckboxesData(){const t=[];return this.messageType===un.Text&&(t.push($h.Accuracy),t.push($h.Unnatural),t.push($h.InsufficientBackgroundInformation),this.hasExtraInfo&&t.push($h.BackgroundInformationError)),this.messageType!==un.Image&&this.messageType!==un.Document||(t.push($h.BackgroundInformationError),t.push($h.NotAllText),t.push($h.HardToRead)),t.push($h.Other),t}dispatchCloseEvent(){this.dispatchEvent(new Event("close",{bubbles:!0,composed:!0}))}handleSendClick(t){const e={accuracy_checkbox:Boolean(this.feedbackCheckboxes.get($h.Accuracy)),unnatural_checkbox:Boolean(this.feedbackCheckboxes.get($h.Unnatural)),insufficient_background_information_checkbox:Boolean(this.feedbackCheckboxes.get($h.InsufficientBackgroundInformation)),background_information_error_checkbox:Boolean(this.feedbackCheckboxes.get($h.BackgroundInformationError)),not_all_text_checkbox:Boolean(this.feedbackCheckboxes.get($h.NotAllText)),hard_to_read_checkbox:Boolean(this.feedbackCheckboxes.get($h.HardToRead)),other_checkbox:Boolean(this.feedbackCheckboxes.get($h.Other))};this.trackingService.trackEvent("dislike_feedback_send",{message_id:this.messageId??"",...e,value:this.textAreaValue}),this.dispatchCloseEvent(),this.appNotificationContext.showLikeNotification({text:this.localesContext.getText("appreciate_notification"),position:"center",autoHide:!0});const i=t.target;i&&this.focusAnnouncer.announce(this.localesContext.getText("appreciate_notification"),i)}handleInput(t){t.target instanceof HTMLTextAreaElement&&(this.textAreaValue=t.target.value)}handleWindowScroll(){this.textArea.blur()}handleFocusIn(){ha()&&window.addEventListener("touchmove",this.handleWindowScroll)}handleFocusOut(){ha()&&window.removeEventListener("touchmove",this.handleWindowScroll)}render(){const t=this.getCheckboxesData(),e=this.localesContext.getText("feedback_textarea_placeholder"),i=ha(),n=i?"1":"5",s=i?"4xl":"m",r=We({wrapper:!0,mobile:i}),a=this.localesContext.getText("send");return W`
            <flex-container
                class=${r}
                justify="start"
                direction="column"
                gap="3xs"
            >
                ${this.title?W`<ya-text
                          class="title"
                          color="primary"
                          font-weight="medium"
                          line-height="xs"
                          font-size="m"
                      >
                          ${this.localesContext.getText("feedback_title")}
                      </ya-text>`:K}
                ${t.map((t=>{const e=this.getTextForCheckBox(t),i=this.feedbackCheckboxes.get(t);return W`<nt-checkbox
                        name=${t}
                        checkbox-aria-label=${e}
                        class="checkbox"
                        @change=${e=>{this.feedbackCheckboxes.set(t,e.detail.checked),this.requestUpdate()}}
                        gap="xs"
                        ?checked=${i}
                    >
                        <ya-text line-height="s" font-size="s">${e}</ya-text>
                    </nt-checkbox>`}))}

                <textarea
                    part="textarea"
                    placeholder=${e}
                    autocomplete="off"
                    .value=${this.textAreaValue}
                    @input=${this.handleInput}
                    class="textarea"
                    rows=${n}
                    @focusin=${this.handleFocusIn}
                    @focusout=${this.handleFocusOut}
                ></textarea>

                <div part="divider" class="horizontal-divider"></div>

                <flex-container justify="end" gap="xs" class="buttons-block">
                    <ya-button
                        part="submit-button"
                        @click=${this.handleSendClick}
                        class="send-button"
                        size=${s}
                        full-width
                        view="graphite"
                        label=${a}
                    >
                        <ya-text color="control-primary" slot="text"
                            >${a}</ya-text
                        >
                    </ya-button>

                    <ya-button
                        part="cancel-button"
                        @click=${this.dispatchCloseEvent}
                        class="cancel-button"
                        size=${s}
                        full-width
                        view="graphite"
                    >
                        <ya-text color="primary" slot="text"
                            >${this.localesContext.getText("send_cancel")}</ya-text
                        >
                    </ya-button>
                </flex-container>
            </flex-container>
        `}};Bh.styles=jh,Fh([ft({type:String})],Bh.prototype,"title",void 0),Fh([ft({attribute:"message",type:Object})],Bh.prototype,"message",void 0),Fh([mt()],Bh.prototype,"feedbackCheckboxes",void 0),Fh([mt()],Bh.prototype,"textAreaValue",void 0),Fh([hi({context:di,subscribe:!0}),mt()],Bh.prototype,"localesContext",void 0),Fh([hi({context:Hn}),mt()],Bh.prototype,"appNotificationContext",void 0),Fh([yt("textarea")],Bh.prototype,"textArea",void 0),Fh([Ue],Bh.prototype,"handleWindowScroll",null),Fh([Ue],Bh.prototype,"handleFocusIn",null),Fh([Ue],Bh.prototype,"handleFocusOut",null),Bh=Fh([pt("nt-dislike-form")],Bh);class Nh{constructor(t){this.host=t,this.host.addController(this)}hostConnected(){this.host.addEventListener("focusin",this.dispatchFocusEvent),this.host.addEventListener("focusout",this.dispatchFocusEvent)}hostDisconnected(){this.host.removeEventListener("focusin",this.dispatchFocusEvent),this.host.removeEventListener("focusout",this.dispatchFocusEvent)}dispatchFocusEvent(t){const e=new CustomEvent("focus-event",{detail:{type:t.type,target:t.target},bubbles:!0,composed:!0});window.dispatchEvent(e)}}const Vh=o`
    @keyframes smooth-opening {
        0% {
            opacity: 0;
        }
        100% {
            opacity: 1;
        }
    }
`,Hh=[Vh,o`
        :host {
            position: fixed;
            width: calc(var(--size_3xl) * 10);
            z-index: calc(var(--layer_overlay) + 1);
        }

        .container {
            position: relative;
            display: flex;
            padding: var(--space_m);
        }

        .container[open] {
            animation: 0.1s ease-in-out 0s 1 smooth-opening;
        }

        .cross-button {
            position: absolute;
            right: var(--space_xs);
            top: var(--space_xs);
        }

        .cross-icon {
            --svg-width: var(--size_2xs);
            --svg-height: var(--size_2xs);
        }

        .form {
            width: 100%;
        }

        @media screen and (prefers-color-scheme: dark) {
            .container {
                background-color: var(--bg-notification);
            }
        }
    `];var Uh=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let qh=class extends ht{constructor(){super(...arguments),this.open=!1}dispatchCloseEvent(){this.dispatchEvent(new Event("close")),this.open=!1}connectedCallback(){super.connectedCallback(),this.elementFocusController=new Nh(this),window.addEventListener("resize",this.dispatchCloseEvent)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("resize",this.dispatchCloseEvent)}render(){if(!this.open)return K;const t=this.localesContext.getText("a11y_close_btn");return W`<ya-popup
            ?open=${this.open}
            class="container"
            @request-close=${this.dispatchCloseEvent}
            .anchor-nodes=${[this["dislike-vote-button"]]}
        >
            <ya-button
                class="cross-button"
                label=${t}
                size="m"
                shape="default"
                view="clear"
                @click=${this.dispatchCloseEvent}
            >
                <ya-icon
                    tabindex="-1"
                    class="cross-icon"
                    color="disabled"
                    slot="icon"
                    size="xs"
                >
                    ${Rt(ze())}
                </ya-icon>
            </ya-button>
            <nt-dislike-form
                class="form"
                .message=${this.message}
                .title=${this.localesContext.getText("feedback_title")}
            ></nt-dislike-form>
        </ya-popup>`}};qh.styles=Hh,Uh([ft({reflect:!0,type:Boolean})],qh.prototype,"open",void 0),Uh([ft({attribute:"message",type:Object})],qh.prototype,"message",void 0),Uh([ft({attribute:"dislike-vote-button",type:Object})],qh.prototype,"dislike-vote-button",void 0),Uh([hi({context:di,subscribe:!0}),mt()],qh.prototype,"localesContext",void 0),qh=Uh([pt("nt-vote-context-menu")],qh);const Wh="bottom-sheet-context";class Zh{constructor(t,e){this.getBottomSheetContext=t,this.setBottomSheetContext=e,this.setBottomSheetContext(this.getInitialBottomSheetContext())}disconnect(){}getInitialBottomSheetContext(){return{renderContentFunction:null,renderHeaderFunction:null,openBottomSheet:(t,e)=>{const i={...this.getBottomSheetContext(),renderContentFunction:t,renderHeaderFunction:e};this.setBottomSheetContext(i)},closeBottomSheet:()=>{this.setBottomSheetContext(this.getInitialBottomSheetContext())}}}}var Kh=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};class Gh{themeChangeListener(){const t=this.getMetaElement(this.currentTheme);let e=!1;if(t){e=(t.getAttribute("content")||"")!==this.initialColor,t.setAttribute("content",this.initialColor)}this.currentTheme=this.getCurrentTheme(),this.updateInitialColor(),e&&this.updateColorByTheme()}constructor(t,e){this.lightThemeColor=t,this.darkThemeColor=e,this.initialColor="";window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",this.themeChangeListener),this.currentTheme=this.getCurrentTheme(),this.updateInitialColor()}getCurrentTheme(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}getMetaElement(t){return document.querySelector(`meta[name="theme-color"][media="(prefers-color-scheme: ${t})"]`)}updateInitialColor(){const t=this.getMetaElement(this.currentTheme);t&&(this.initialColor=t.getAttribute("content")||"")}updateColorByTheme(){const t="dark"===this.currentTheme?this.darkThemeColor:this.lightThemeColor,e=this.getMetaElement(this.currentTheme);e&&e.setAttribute("content",t)}updateColorByInitial(){const t=this.getMetaElement(this.currentTheme);t&&t.setAttribute("content",this.initialColor)}}Kh([Ue],Gh.prototype,"themeChangeListener",null);var Yh=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};class Xh{constructor(t){this.host=t,this.initialVieportHeight=0,this.host.addController(this),this.initialVieportHeight=window.innerHeight}async handleVisualViewportResize(){if(!window.visualViewport||!this.host.mainBlockElement||!this.host.contentElement)return;const t=window.visualViewport.height,e=this.host.mainBlockElement,i=this.host.contentElement;this.initialVieportHeight!==t?(e.style.maxHeight=`${t}px`,i.scrollTo({top:i.scrollHeight})):(e.style.maxHeight="",i.scrollTo({top:0}))}hostConnected(){window.visualViewport&&window.visualViewport.addEventListener("resize",this.handleVisualViewportResize)}hostDisconnected(){window.visualViewport&&window.visualViewport.removeEventListener("resize",this.handleVisualViewportResize)}}Yh([Ue],Xh.prototype,"handleVisualViewportResize",null);const Jh=o`
    .placeholder {
        background-color: var(--bg-overlay-mobile-modal);
        overscroll-behavior: none;
        position: fixed;
        left: 0;
        top: 0;
        height: 100%;
        width: 100%;
        z-index: var(--layer_overlay);
    }

    .resize-bar {
        width: 100%;
        height: var(--size_xs);
        background-color: transparent;
    }

    .resize-bar__brick {
        background-color: var(--light-soft-grey);
        width: calc(var(--size_5xl) + var(--size_3xs));
        height: calc(var(--size_3xs) / 2);
        border-radius: var(--border-radius_max);
    }

    .main-block {
        height: fit-content;
        border-top-left-radius: var(--border-radius_2xl);
        border-top-right-radius: var(--border-radius_2xl);
        background-color: var(--bg-secondary);
        transition: 0.05s ease;
    }

    .header {
        border-bottom: 1px solid var(--bg-border-sheet-bottom);
        height: calc(var(--size_5xl) + var(--size_3xs));
        flex-shrink: 0;
        box-sizing: border-box;
        position: relative;
        width: 100%;
    }

    .cross-button {
        position: absolute;
        left: var(--space_s);
        top: 50%;
        transform: translateY(-50%);
    }

    .content {
        width: 100%;
        height: fit-content;
        overflow: hidden auto;
        overscroll-behavior: none;
        box-sizing: border-box;
        padding: calc(var(--space_xs) + var(--space_3xs)) var(--space_m)
            var(--space_l);
    }

    .content * {
        width: 100%;
    }

    .content *::part(divider) {
        width: calc(100% + 2 * var(--space_m));
        transform: translateX(calc(-1 * var(--space_m)));
    }
`;var Qh=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let td=class extends ht{get mainBlockHeight(){return this.header&&this.content?this.header.offsetHeight+this.content.scrollHeight:250}get mainBlockElement(){return this.mainBlock}get contentElement(){return this.content}constructor(){super(),this.keyboardController=null,this.startY=0,this.startHeight=0,this.isDragActive=!1,this.metaThemeController=new Gh("rgba(153, 153, 153, 1.0)","rgba(7, 7, 8, 1.0)")}handleClose(){if(!this.mainBlock||!this.header)return this.bottomSheetContext.closeBottomSheet(),void this.metaThemeController.updateColorByInitial();let t=parseInt(this.mainBlock.style.height)||this.mainBlockHeight;const e=this.header.offsetHeight;let i=0;const n=()=>{if(t-50<=e)return cancelAnimationFrame(i),this.bottomSheetContext.closeBottomSheet(),void this.metaThemeController.updateColorByInitial();t-=50,this.mainBlock.style.height=`${t}px`,i=requestAnimationFrame(n)};i=requestAnimationFrame(n)}updateMainBlockHeight(t){if(!(this.mainBlock&&this.resizeBar&&this.header&&this.content))return;t/window.innerHeight*100<20?this.handleClose():this.mainBlock.style.height=`${this.mainBlockHeight}px`}dragStart(t){this.mainBlock&&this.resizeBar&&(this.startY=t.touches?.[0].pageY,this.startHeight=parseInt(this.mainBlock.style.height)||this.mainBlock.offsetHeight-this.resizeBar.offsetHeight,this.isDragActive=!0)}dragMove(t){if(!this.mainBlock||!this.header||!this.isDragActive)return;const e=t.touches?.[0].pageY,i=this.startY-e;let n=Math.max(this.startHeight+i,this.header.offsetHeight);n=Math.min(n,this.mainBlockHeight+50),this.mainBlock.style.height=`${n}px`}dragStop(){if(!this.mainBlock||!this.header)return;const t=parseInt(this.mainBlock.style.height);this.updateMainBlockHeight(Math.max(t,this.header.offsetHeight)),this.isDragActive=!1}windowBlurHandler(){this.handleClose()}async connectedCallback(){super.connectedCallback(),ha()&&(this.keyboardController=new Xh(this)),this.addEventListener("touchmove",this.dragMove),this.addEventListener("touchend",this.dragStop),window.addEventListener("blur",this.windowBlurHandler)}async disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("touchmove",this.dragMove),this.removeEventListener("touchend",this.dragStop),window.removeEventListener("blur",this.windowBlurHandler)}stopPropogation(t){t.stopPropagation()}async updated(t){await this.hasUpdated,t.has("bottomSheetContext")&&this.bottomSheetContext.renderContentFunction&&this.metaThemeController.updateColorByTheme()}render(){return this.bottomSheetContext.renderContentFunction?W`<flex-container
            class="placeholder"
            justify="end"
            direction="column"
            @click=${this.handleClose}
        >
            <flex-container
                @touchstart=${this.dragStart}
                @click=${this.stopPropogation}
                justify="center"
                align="center"
                class="resize-bar"
            >
                <flex-container class="resize-bar__brick"></flex-container>
            </flex-container>
            <flex-container
                @click=${this.stopPropogation}
                align="center"
                class="main-block"
                direction="column"
            >
                <flex-container
                    @touchstart=${this.dragStart}
                    align="center"
                    justify="center"
                    class="header"
                >
                    <ya-button
                        class="cross-button"
                        size="2xl"
                        shape="round"
                        view="clear"
                        label=${this.localesContext.getText("close")}
                        @click=${this.handleClose}
                    >
                        <ya-icon color="primary" slot="icon" size="m">
                            ${Rt(ze())}
                        </ya-icon>
                    </ya-button>

                    ${this.bottomSheetContext.renderHeaderFunction?.()}
                </flex-container>
                <flex-container
                    align="center"
                    direction="column"
                    class="content"
                    @close=${this.handleClose}
                >
                    ${this.bottomSheetContext.renderContentFunction()}
                </flex-container>
            </flex-container>
        </flex-container>`:K}};td.styles=Jh,Qh([hi({context:Wh,subscribe:!0}),mt()],td.prototype,"bottomSheetContext",void 0),Qh([hi({context:di,subscribe:!0}),mt()],td.prototype,"localesContext",void 0),Qh([yt(".resize-bar")],td.prototype,"resizeBar",void 0),Qh([yt(".main-block")],td.prototype,"mainBlock",void 0),Qh([yt(".header")],td.prototype,"header",void 0),Qh([yt(".content")],td.prototype,"content",void 0),Qh([Ue],td.prototype,"dragStart",null),Qh([Ue],td.prototype,"dragMove",null),Qh([Ue],td.prototype,"dragStop",null),Qh([Ue],td.prototype,"windowBlurHandler",null),td=Qh([pt("nt-bottom-sheet")],td);const ed="vote-context-menu-context";function id(){return ha()?{size:"2xl",color:"secondary"}:{size:"xl",color:"secondary"}}const nd=o`
    :host {
        display: flex;
        flex-direction: row;
        gap: var(--space_2xs);
    }

    /* mobile */
    @media (pointer: coarse) and (max-width: 900px) {
        :host {
            gap: var(--space_xs);
        }
    }
`;var sd=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let rd=class extends ht{constructor(){super(...arguments),this.focusAnnouncer=new Lc(this),this.trackingService=of.resolve(rf.TrackingService)}get vote(){const t=this.message?.id??"";return this.messagesPairsVotesContext.messagesPairsVotesMap[t]}get messageId(){return this.message?.id??""}get currentVote(){return this.messagesPairsVotesContext.messagesPairsVotesMap[this.messageId]}handleLikeCLick(t){this.handleVoteClick(Xs.Like,t)}handleDislikeCLick(t){this.voteContextMenuContext.activeMenu&&this.voteContextMenuContext.activeMenu.dispatchCloseEvent(),this.handleVoteClick(Xs.Dislike,t)}handleVoteClick(t,e){this.handleVoteButtonClick(t,e),ha()?this.vote!==t&&t===Xs.Dislike&&this.bottomSheetContext.openBottomSheet(this.renderDislikeFormToBottomSheet,this.renderDislikeFormTitleToBottomSheet):this.vote!==t&&t===Xs.Dislike?this.openDislikeContextMenu():this.closeDislikeContextMenu()}handleVoteButtonClick(t,e){this.trackVoteButtonClick(t);if(t!==this.messagesPairsVotesContext.messagesPairsVotesMap[this.messageId]&&t===Xs.Like){this.appNotificationContext.showLikeNotification({text:this.localesContext.getText("appreciate_notification"),position:"center",autoHide:!0});const t=e.target;t&&this.focusAnnouncer.announce(this.localesContext.getText("appreciate_notification"),t)}this.messagesPairsVotesContext.applyMessagesPairVote(this.messageId,t)}trackVoteButtonClick(t){t!==this.currentVote?(this.currentVote&&this.trackingService.trackEvent("message_vote_cancel",{message_id:this.messageId,vote:this.currentVote}),this.trackingService.trackEvent("message_vote",{message_id:this.messageId,vote:t})):this.trackingService.trackEvent("message_vote_cancel",{message_id:this.messageId,vote:t})}openDislikeContextMenu(){const t=new CustomEvent("open-vote-context-menu");this.dispatchEvent(t)}closeDislikeContextMenu(){const t=new CustomEvent("close-vote-context-menu");this.dispatchEvent(t)}renderDislikeFormToBottomSheet(){const{message:t}=this;return t?W`<nt-dislike-form .message=${t}></nt-dislike-form>`:K}renderDislikeFormTitleToBottomSheet(){return W`<ya-text font-size="xl" line-height="xs" font-weight="bold"
            >${this.localesContext.getText("feedback_title")}</ya-text
        >`}render(){const t=this.vote===Xs.Like,e=this.vote===Xs.Dislike,{size:i,color:n}=id();return W`
            <nt-tooltip
                y-shift="8"
                .text=${this.localesContext.getText("good_translation")}
            >
                <nt-vote-button
                    type="like"
                    color=${n}
                    size=${i}
                    .filled=${t}
                    @click=${this.handleLikeCLick}
                ></nt-vote-button>
            </nt-tooltip>
            <nt-tooltip
                class="dislike-tooltip"
                y-shift="8"
                .text=${this.localesContext.getText("bad_translation")}
            >
                <nt-vote-button
                    type="dislike"
                    color=${n}
                    size=${i}
                    .filled=${e}
                    @click=${this.handleDislikeCLick}
                ></nt-vote-button>
            </nt-tooltip>
        `}};rd.styles=nd,sd([ft({type:Object})],rd.prototype,"message",void 0),sd([hi({context:Ys,subscribe:!0}),mt()],rd.prototype,"messagesPairsVotesContext",void 0),sd([hi({context:di}),mt()],rd.prototype,"localesContext",void 0),sd([hi({context:ed,subscribe:!0}),mt()],rd.prototype,"voteContextMenuContext",void 0),sd([hi({context:Hn}),mt()],rd.prototype,"appNotificationContext",void 0),sd([hi({context:Wh}),mt()],rd.prototype,"bottomSheetContext",void 0),sd([yt('vote-button[type="dislike"]')],rd.prototype,"dislikeVoteButton",void 0),sd([Ue],rd.prototype,"renderDislikeFormToBottomSheet",null),sd([Ue],rd.prototype,"renderDislikeFormTitleToBottomSheet",null),rd=sd([pt("nt-vote-controls")],rd);var ad=i(3503),od=i.n(ad),ld=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let cd=class extends ht{constructor(){super(...arguments),this.type="src",this.isPlaying=!1,this.ttsService=of.resolve(rf.TTSService),this.trackingService=of.resolve(rf.TrackingService)}get isSrc(){return"src"===this.type}get langCode(){return this.isSrc?this.message?.input?.srcLang:this.message?.input?.dstLang}get wordText(){if(this.message&&vn(this.message))return this.isSrc?this.message.input.text:this.message.output?.text}trackTTSPlay(t){if(!this.isPlaying)return;const e=t.detail.engine;this.trackingService.trackEvent("tts_play",{message_id:this.message?.id||"",lang:this.langCode??"",text:this.wordText||"",len:this.wordText?.length||0,direction:this.type,engine:e,md5_text:od()(this.textContent||"")})}toggle(){this.isPlaying?(this.isPlaying=!1,this.ttsService.stop()):(this.isPlaying=!0,this.ttsService.play({activePlayerId:this.message?.id??"",langPairType:this.type??""},this.wordText??"",this.langCode??"",this.onFinishPlaying))}onFinishPlaying(){this.isPlaying=!1}voiceChangedListener(){this.requestUpdate()}connectedCallback(){super.connectedCallback(),window.onbeforeunload=()=>{this.ttsService.stop()},"addEventListener"in window.speechSynthesis&&window.speechSynthesis.addEventListener("voiceschanged",this.voiceChangedListener,!1),window.addEventListener(Dc.StartEvent,this.trackTTSPlay)}disconnectedCallback(){super.disconnectedCallback(),"addEventListener"in window.speechSynthesis&&window.speechSynthesis.removeEventListener("voiceschanged",this.voiceChangedListener,!1),window.removeEventListener(Dc.StartEvent,this.trackTTSPlay)}render(){const{size:t,color:e}=id();return this.ttsService.checkIsTTSEnabled(this.langCode??"",this.wordText??"")?W`<nt-tooltip
            y-shift="8"
            .text=${this.localesContext.getText("vocalize")}
            ><nt-tts-button
                ?playing=${this.isPlaying}
                @click=${this.toggle}
                color=${e}
                size=${t}
            ></nt-tts-button
        ></nt-tooltip>`:K}};ld([ft({attribute:"type",type:String})],cd.prototype,"type",void 0),ld([ft({attribute:"message",type:Object})],cd.prototype,"message",void 0),ld([mt()],cd.prototype,"isPlaying",void 0),ld([hi({context:di}),mt()],cd.prototype,"localesContext",void 0),ld([Ue],cd.prototype,"trackTTSPlay",null),ld([Ue],cd.prototype,"onFinishPlaying",null),ld([Ue],cd.prototype,"voiceChangedListener",null),cd=ld([pt("nt-tts-control")],cd);var hd=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let dd=class extends ht{constructor(){super(...arguments),this.type="src",this.trackingService=of.resolve(rf.TrackingService)}get isSrc(){return"src"===this.type}get wordText(){if(this.message&&(vn(this.message)||yn(this.message)))return yn(this.message)?this.message.output?.recognizeResult?.blocks.reduce(((t,e,i,n)=>(e.boxes.forEach(((i,n)=>{i.translation&&(t+=i.translation,n!==e.boxes.length-1&&(t+="\n"))})),i!==n.length-1&&(t+="\n\n"),t)),""):this.isSrc?this.message.input.text:this.message.output?.text}handleCopyButtonCLick(){const t=this.localesContext.getText("text_copied");this.trackingService.trackEvent("message_text_copy",{message_id:this.message?.id??"",message_direction:this.type,type:"button"}),this.appNotificationContext.showSuccessNotification({text:t,position:"center",autoHide:!0})}render(){const{size:t,color:e}=id(),i=this.message&&yn(this.message)?"copy_text":"copy";return W`<nt-tooltip
            y-shift="8"
            .text=${this.localesContext.getText(i)}
        >
            <nt-copy-button
                color=${e}
                size=${t}
                .text=${this.wordText}
                @click=${this.handleCopyButtonCLick}
            ></nt-copy-button
        ></nt-tooltip>`}};hd([ft({attribute:"type",type:String})],dd.prototype,"type",void 0),hd([ft({attribute:"message",type:Object})],dd.prototype,"message",void 0),hd([hi({context:di}),mt()],dd.prototype,"localesContext",void 0),hd([hi({context:Hn}),mt()],dd.prototype,"appNotificationContext",void 0),dd=hd([pt("nt-copy-control")],dd);const pd=o`
    .download-link {
        display: none;
    }
`;var ud=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let gd=class extends ht{constructor(){super(...arguments),this.type="src",this.focusAnnouncer=new Lc(this),this.trackingService=of.resolve(rf.TrackingService)}get isSrc(){return"src"===this.type}get fileNameToDownload(){return this.message?yn(this.message)?this.imageNameToDownload:bn(this.message)?this.docNameToDownload:"":""}get imageNameToDownload(){return this.message&&yn(this.message)?Ar(this.message.input.fileName):""}get docNameToDownload(){if(!this.message||!bn(this.message))return"";const t=kr(this.message.input.fileType);return Mr(this.message.input.fileName,t)}async getDownloadingLink(){if(this.message)return yn(this.message)?this.getImageDownloadingLink():bn(this.message)?this.getDocDownloadingLink():void 0}async getDocDownloadingLink(){if(!this.message||!bn(this.message))return;return da(this.isSrc?this.message.input.file:this.message.output?.file,this.isSrc?this.message.input.fileType:this.message.output?.fileType)}getImageDownloadingLink(){if(!this.message||!yn(this.message))return;const t=this.isSrc?this.message.input.file:this.message.output?.previewFile;if(!t)return;const{url:e}=Ir(t,"jpeg");return e}handleDownloadClick(t){if(this.message&&(this.downloadLink.click(),bn(this.message)&&this.trackingService.trackEvent("document_download_tap",{message_id:this.message?.id}),yn(this.message))){this.appNotificationContext.showSuccessNotification({text:this.localesContext.getText("image_downloaded"),position:"center",autoHide:!0});const e=t.target;e&&this.focusAnnouncer.announce(this.localesContext.getText("image_downloaded"),e)}}async updated(t){t.has("message")&&(this.downloadingLink=await this.getDownloadingLink())}render(){const{size:t,color:e}=id(),i=pf[t]??"m",n=this.localesContext.getText("a11y_download_btn"),s=this.message&&yn(this.message)?"download_image":"download";return W`<nt-tooltip
            y-shift="8"
            .text=${this.localesContext.getText(s)}
        >
            <ya-button
                view="clear"
                size=${t}
                @click="${this.handleDownloadClick}"
                label=${n}
            >
                <ya-icon
                    tabindex="-1"
                    slot="icon"
                    color=${e}
                    size=${i}
                >
                    ${Rt(Xt())}
                </ya-icon>
            </ya-button>
            <ya-link
                class="download-link"
                href=${this.downloadingLink??""}
                download=${this.fileNameToDownload}
                tabindex="-1"
            ></ya-link>
        </nt-tooltip>`}};gd.styles=pd,ud([ft({attribute:"type",type:String})],gd.prototype,"type",void 0),ud([ft({attribute:"message",type:Object})],gd.prototype,"message",void 0),ud([mt()],gd.prototype,"downloadingLink",void 0),ud([hi({context:di}),mt()],gd.prototype,"localesContext",void 0),ud([yt(".download-link")],gd.prototype,"downloadLink",void 0),ud([hi({context:Hn}),mt()],gd.prototype,"appNotificationContext",void 0),gd=ud([pt("nt-download-control")],gd);var fd=i(3657),md=i.n(fd),vd=i(4212),yd=i.n(vd),xd=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let bd=class extends ht{handleClick(){this.imageViewerContext.isOpen?this.imageViewerContext.close():this.dispatchEvent(new Event("open-image-viewer",{bubbles:!0,composed:!0}))}getTooltipText(){return this.imageViewerContext.isOpen?this.localesContext.getText("close"):this.localesContext.getText("open_fullscreen")}getIcon(){return this.imageViewerContext.isOpen?md():yd()}render(){const{size:t,color:e}=id(),i=pf[t]??"m";return W`<nt-tooltip y-shift="8" .text=${this.getTooltipText()}>
            <ya-button
                view="clear"
                size=${t}
                @click="${this.handleClick}"
                tabindex="-1"
            >
                <ya-icon slot="icon" color=${e} size=${i}>
                    ${Rt(this.getIcon())}
                </ya-icon>
            </ya-button>
        </nt-tooltip>`}};xd([hi({context:di}),mt()],bd.prototype,"localesContext",void 0),xd([hi({context:oc,subscribe:!0}),mt()],bd.prototype,"imageViewerContext",void 0),bd=xd([pt("nt-collapse-viewer-control")],bd);const wd=o`
    @keyframes smooth-opening-with-scaling {
        from {
            opacity: 0;
            scale: 0.8;
        }
        to {
            opacity: 1;
            scale: 1;
        }
    }
`,_d=[wd,o`
        .nt-vote-context-menu {
            opacity: 0;
        }

        .nt-vote-context-menu.visible {
            animation: 0.33s forwards smooth-opening-with-scaling;
        }

        .hidden {
            visibility: hidden;
        }
    `];var Cd=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let Sd=class extends ht{constructor(){super(...arguments),this.type="src",this["render-collapse-viewer"]=!1,this.isDislikeContextMenuOpened=!1,this.voteContextMenuPosition=null,this.elementPositionController=new He(this)}get isElvish(){return"dst"===this.type&&this.message?.input.dstLang===on||"src"===this.type&&this.message?.input.srcLang===on}get shouldRenderTTS(){return!!this.message&&vn(this.message)}get shouldRenderImageViewerControls(){return!!this.message&&yn(this.message)}get shouldRenderCopy(){return!!this.message&&(vn(this.message)||yn(this.message)&&Boolean(this.message.output?.recognizeResult)&&"dst"===this.type)}get shouldRenderVote(){return"src"!==this.type}get shouldRenderDownload(){if(!this.message)return!1;return yn(this.message)||bn(this.message)}get shouldHideImageControl(){return!this.message||yn(this.message)&&this.message.status!==hn.Ready}async openDislikeContextMenu(){this.isDislikeContextMenuOpened=!0,await qe(0),this.voteContextMenuPosition=this.elementPositionController.calculatePosition({vertical:"bottom",horizontal:"parent-right",parent:this.controlsWrapper,element:this.voteContextMenu,yShift:4}),this.voteContextMenuContext.setActiveMenu(this.voteContextMenu)}closeDislikeContextMenu(){this.isDislikeContextMenuOpened=!1,this.voteContextMenuPosition=null,this.voteContextMenuContext.setActiveMenu(null)}renderTTSButton(){return this.shouldRenderTTS?W`
            <nt-tts-control
                .type=${this.type}
                .message=${this.message}
            ></nt-tts-control>
        `:K}renderCollapseViewerControl(){return!this.shouldRenderImageViewerControls||this.environmentContext.isMobile?K:W`<nt-collapse-viewer-control></nt-collapse-viewer-control>`}renderDownloadButton(){if(!this.shouldRenderDownload||la())return K;const t=this.shouldHideImageControl?"hidden":"";return W`
            <nt-download-control
                class=${t}
                .type=${this.type}
                .message=${this.message}
            ></nt-download-control>
        `}renderCopyButton(){if(!this.shouldRenderCopy||this.isElvish)return K;const t=this.shouldHideImageControl?"hidden":"";return W`
            <nt-copy-control
                class=${t}
                .message=${this.message}
                .type=${this.type}
            >
            </nt-copy-control>
        `}renderVoteControls(){if(!this.shouldRenderVote)return K;const t=We({"nt-vote-controls":!0,hidden:this.shouldHideImageControl});return W`
            <nt-vote-controls
                class=${t}
                .message=${this.message}
                @close-vote-context-menu=${this.closeDislikeContextMenu}
                @open-vote-context-menu=${this.openDislikeContextMenu}
            ></nt-vote-controls>
        `}renderVoteContextMenu(){const{message:t}=this;if(!t||!this.isDislikeContextMenuOpened)return K;if(!(vn(t)||yn(t)||bn(t)))return K;const e=We({"nt-vote-context-menu":!0,visible:Boolean(this.voteContextMenuPosition)});return W` <nt-vote-context-menu
            style="left: ${this.voteContextMenuPosition?.xOffset}; top: ${this.voteContextMenuPosition?.yOffset}"
            class=${e}
            ?open=${this.isDislikeContextMenuOpened}
            .message=${t}
            @close=${this.closeDislikeContextMenu}
            .dislike-vote-button=${this.ntVoteControls.dislikeVoteButton}
        ></nt-vote-context-menu>`}render(){if(!this.message)return K;const t=this.environmentContext.isMobile?"xs":"2xs";return W`
            <flex-container
                class="controls"
                justify="start"
                align="center"
                gap=${t}
            >
                ${this.renderTTSButton()} ${this.renderDownloadButton()}
                ${this.renderCopyButton()} ${this.renderVoteControls()}
                ${this.renderCollapseViewerControl()}
            </flex-container>
            ${this.renderVoteContextMenu()}
        `}};Sd.styles=_d,Cd([ft({attribute:"type",type:String})],Sd.prototype,"type",void 0),Cd([ft({attribute:"message",type:Object})],Sd.prototype,"message",void 0),Cd([ft({attribute:"render-collapse-viewer",type:Boolean})],Sd.prototype,"render-collapse-viewer",void 0),Cd([hi({context:ur}),mt()],Sd.prototype,"environmentContext",void 0),Cd([hi({context:ed,subscribe:!0}),mt()],Sd.prototype,"voteContextMenuContext",void 0),Cd([mt()],Sd.prototype,"isDislikeContextMenuOpened",void 0),Cd([mt()],Sd.prototype,"voteContextMenuPosition",void 0),Cd([yt(".nt-vote-controls")],Sd.prototype,"ntVoteControls",void 0),Cd([yt(".controls")],Sd.prototype,"controlsWrapper",void 0),Cd([yt("nt-vote-context-menu")],Sd.prototype,"voteContextMenu",void 0),Sd=Cd([pt("nt-control-buttons")],Sd);class Td{constructor(t,e){this.getVoteContextMenuContext=t,this.setVoteContextMenuContext=e,this.setVoteContextMenuContext(this.getInitialVoteContextMenuContext())}disconnect(){}getInitialVoteContextMenuContext(){return{activeMenu:null,setActiveMenu:t=>{const e={...this.getVoteContextMenuContext(),activeMenu:t};this.setVoteContextMenuContext(e)}}}}const kd=o`
    :host {
        flex-grow: 1;
        position: relative;
        width: 100%;

        --bg-overlay-mobile: #000;
    }

    .container {
        width: 100%;
    }

    .image-container {
        position: relative;
        overflow: hidden;

        display: flex;
        align-items: center;
        justify-content: center;

        width: 100%;
        max-width: 100%;
        height: 324px;
    }

    .image {
        object-fit: contain;

        max-width: 100%;
        max-height: 100%;
        width: auto;
        height: auto;
    }

    .background {
        position: absolute;
        z-index: var(--layer_3xs);
        top: 0;
        left: 0;

        width: 100%;
        height: 100%;

        border-radius: var(--border-radius_m);
        background-color: var(--bg-backdrop);

        pointer-events: none;
    }

    /* mobile */
    @media screen and (max-width: 900px) {
        .render-mode-choice-group {
            display: none;
        }
    }
`;var Ed=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let Pd=class extends ht{constructor(){super(...arguments),this["is-error"]=!1,this["selected-render-mode"]=0,this.translationImageSrc="",this.originalImageSrc="",this.imageDetails={name:"",width:0,height:0}}get translationImage(){return this.message?.output?.previewFile}get originalImage(){return this.message?.input?.file}get originalImageName(){return this.message?.input?.fileName}get messagesPairId(){return this.message?.id}get fileSize(){return this.message?.output?.previewFile?.byteLength??0}dispatchOpenImageViewerEvent(){this.dispatchEvent(new Event("open-image-viewer"))}handleKeydown(t){uc(t)&&(t.preventDefault(),this.dispatchOpenImageViewerEvent())}focusImage(){this.imageElement.focus()}render(){if(this["is-error"])return W`
                <ya-button
                    size="xl"
                    view="stroke"
                    @click=${this.handleRetryButtonClick}
                >
                    <ya-text slot="text"
                        >${this.localesContext.getText("retry")}</ya-text
                    >
                </ya-button>
            `;const t=!!this.message?.status&&(kn(this.message?.status)||En(this.message?.status)),e=We({container:!0,"hover-disabled":t});return W`
            <flex-container
                gap="xs"
                direction="column"
                align="center"
                justify="center"
                class="${e}"
            >
                ${this.renderImage()}
            </flex-container>
        `}renderImage(){const t=!!this.message?.status&&(kn(this.message?.status)||En(this.message?.status)),e=0===this["selected-render-mode"]?this.translationImageSrc:this.originalImageSrc;return W`
            <div class="image-container">
                <div class="background"></div>
                <img
                    elementtiming="image_translation_${e}"
                    class="image"
                    src="${e}"
                    alt=""
                    tabindex="0"
                    aria-label=${this.generateAriaLabel()}
                    @click=${t?K:this.dispatchOpenImageViewerEvent}
                    @keydown=${this.handleKeydown}
                />
            </div>
        `}connectedCallback(){super.connectedCallback(),window.addEventListener("popstate",this.listenNavigation);this.addController(new ea({htmlElement:this,onShow:()=>{this.messagesPairId&&this.messagesPairsContext.loadMessagesPairFiles(this.messagesPairId)}}))}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("popstate",this.listenNavigation)}listenNavigation(){this.imageViewerContext.close("navigation-back")}async updated(t){const e=this.originalImage,i=this.translationImage,n=void 0!==i&&void 0!==e;if(t.has("message")&&n){const{url:t}=Ir(i,"jpeg");this.translationImageSrc=t;const{url:n}=Ir(e,"jpeg");this.originalImageSrc=n,this.updateImageDetails()}}updateImageDetails(){const t=this.renderRoot.querySelector("img");t&&t.addEventListener("load",(()=>{const e=Ar(this.originalImageName);if(!this.translationImage)return void(this.imageDetails={name:e,width:0,height:0});const i=t.naturalWidth,n=t.naturalHeight;this.imageDetails={name:e,width:i,height:n}}))}generateAriaLabel(){const{name:t,width:e,height:i}=this.imageDetails,n=this.localesContext.getText("a11y_translated_image"),s=this.localesContext.getText("a11y_translated_image_size"),r=this.localesContext.getText("a11y_translated_image_pxl"),{fileSize:a,type:o}=jr(this.fileSize);return`${n}: ${t},\n                ${s}: ${e}x${i} ${r},\n                ${a} ${o}.`}handleRetryButtonClick(){const t=new CustomEvent("retry-click");this.dispatchEvent(t)}};Pd.styles=kd,Ed([ft({attribute:"message",type:Object})],Pd.prototype,"message",void 0),Ed([ft({attribute:"vote",type:String})],Pd.prototype,"vote",void 0),Ed([ft({type:Boolean,attribute:"isError"})],Pd.prototype,"is-error",void 0),Ed([ft({attribute:"selected-render-mode",type:Number})],Pd.prototype,"selected-render-mode",void 0),Ed([yt(".image")],Pd.prototype,"imageElement",void 0),Ed([hi({context:oc,subscribe:!0}),mt()],Pd.prototype,"imageViewerContext",void 0),Ed([hi({context:di,subscribe:!0}),mt()],Pd.prototype,"localesContext",void 0),Ed([hi({context:$n}),mt()],Pd.prototype,"messagesPairsContext",void 0),Ed([mt()],Pd.prototype,"translationImageSrc",void 0),Ed([mt()],Pd.prototype,"originalImageSrc",void 0),Ed([mt()],Pd.prototype,"imageDetails",void 0),Ed([Ue],Pd.prototype,"listenNavigation",null),Pd=Ed([pt("nt-output-image")],Pd);document.createElement("canvas");class Ld{constructor(t,e,i){this.tasksService=t,this.experimentsService=e,this.settingsStorage=i}async handleAcceptFile(t){const e=(i=t.file,wr.includes(i.type)?"image":_r.includes(i.type)?"doc":void 0);var i;const n="doc"===e,s=this.experimentsService.isFlagEnabled("enable_doc_translation"),r=this.experimentsService.isFlagEnabled("enable_image_translation");if(!e||(!n&&!r||n&&!s))return void t.onInvalidFileFormat?.();if(!function(t,e){return"image"===e?t.size<=5242880:t.size<15728640}(t.file,e))return void t.onInvalidFileSize?.();this.settingsStorage.isOptionEnabled("showOnboarding")&&this.settingsStorage.setIsOptionEnabled("showOnboarding",!1),this.handleOnboarding(),t.onSuccess?.();const a=performance.now(),o=await t.file.arrayBuffer(),l={srcLang:t.srcLang,dstLang:t.dstLang,fileName:Is(t.fileName),fileSize:t.fileSize,fileType:t.file.type,file:o};if(n)return this.runDocTranslation(l),void t.onDocFileLoad?.();t.onImageFileLoad?.();const c=performance.now();this.runImageTranslation(l,c-a)}runDocTranslation(t){const e=Nl({launchType:"default",payload:{...t}});this.tasksService.executeTask(e)}runImageTranslation(t,e){const i=nc({launchType:"default",payload:{...t,preparationDuration:e}});this.tasksService.executeTask(i)}handleOnboarding(){this.settingsStorage.isOptionEnabled("showOnboarding")&&this.settingsStorage.setIsOptionEnabled("showOnboarding",!1)}}const Id=new WeakMap,Md=new WeakMap,Ad=new WeakMap,Od=Symbol("anyProducer"),Rd=Promise.resolve(),Dd=Symbol("listenerAdded"),jd=Symbol("listenerRemoved");let $d=!1,Fd=!1;const zd=t=>"string"==typeof t||"symbol"==typeof t||"number"==typeof t;function Bd(t){if(!zd(t))throw new TypeError("`eventName` must be a string, symbol, or number")}function Nd(t){if("function"!=typeof t)throw new TypeError("listener must be a function")}function Vd(t,e){const i=Md.get(t);if(i.has(e))return i.get(e)}function Hd(t,e){const i=zd(e)?e:Od,n=Ad.get(t);if(n.has(i))return n.get(i)}function Ud(t,e){e=Array.isArray(e)?e:[e];let i=!1,n=()=>{},s=[];const r={enqueue(t){s.push(t),n()},finish(){i=!0,n()}};for(const i of e){let e=Hd(t,i);if(!e){e=new Set;Ad.get(t).set(i,e)}e.add(r)}return{async next(){return s?0===s.length?i?(s=void 0,this.next()):(await new Promise((t=>{n=t})),this.next()):{done:!1,value:await s.shift()}:{done:!0}},async return(i){s=void 0;for(const i of e){const e=Hd(t,i);if(e&&(e.delete(r),0===e.size)){Ad.get(t).delete(i)}}return n(),arguments.length>0?{done:!0,value:await i}:{done:!0}},[Symbol.asyncIterator](){return this}}}function qd(t){if(void 0===t)return Gd;if(!Array.isArray(t))throw new TypeError("`methodNames` must be an array of strings");for(const e of t)if(!Gd.includes(e)){if("string"!=typeof e)throw new TypeError("`methodNames` element must be a string");throw new Error(`${e} is not Emittery method`)}return t}const Wd=t=>t===Dd||t===jd;function Zd(t,e,i){if(Wd(e))try{$d=!0,t.emit(e,i)}finally{$d=!1}}class Kd{static mixin(t,e){return e=qd(e),i=>{if("function"!=typeof i)throw new TypeError("`target` must be function");for(const t of e)if(void 0!==i.prototype[t])throw new Error(`The property \`${t}\` already exists on \`target\``);Object.defineProperty(i.prototype,t,{enumerable:!1,get:function(){return Object.defineProperty(this,t,{enumerable:!1,value:new Kd}),this[t]}});const n=e=>function(...i){return this[t][e](...i)};for(const t of e)Object.defineProperty(i.prototype,t,{enumerable:!1,value:n(t)});return i}}static get isDebugEnabled(){if("object"!=typeof globalThis.process?.env)return Fd;const{env:t}=globalThis.process??{env:{}};return"emittery"===t.DEBUG||"*"===t.DEBUG||Fd}static set isDebugEnabled(t){Fd=t}constructor(t={}){Id.set(this,new Set),Md.set(this,new Map),Ad.set(this,new Map),Ad.get(this).set(Od,new Set),this.debug=t.debug??{},void 0===this.debug.enabled&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=(t,e,i,n)=>{try{n=JSON.stringify(n)}catch{n=`Object with the following keys failed to stringify: ${Object.keys(n).join(",")}`}"symbol"!=typeof i&&"number"!=typeof i||(i=i.toString());const s=new Date,r=`${s.getHours()}:${s.getMinutes()}:${s.getSeconds()}.${s.getMilliseconds()}`;console.log(`[${r}][emittery:${t}][${e}] Event Name: ${i}\n\tdata: ${n}`)})}logIfDebugEnabled(t,e,i){(Kd.isDebugEnabled||this.debug.enabled)&&this.debug.logger(t,this.debug.name,e,i)}on(t,e){Nd(e),t=Array.isArray(t)?t:[t];for(const i of t){Bd(i);let t=Vd(this,i);if(!t){t=new Set;Md.get(this).set(i,t)}t.add(e),this.logIfDebugEnabled("subscribe",i,void 0),Wd(i)||Zd(this,Dd,{eventName:i,listener:e})}return this.off.bind(this,t,e)}off(t,e){Nd(e),t=Array.isArray(t)?t:[t];for(const i of t){Bd(i);const t=Vd(this,i);if(t&&(t.delete(e),0===t.size)){Md.get(this).delete(i)}this.logIfDebugEnabled("unsubscribe",i,void 0),Wd(i)||Zd(this,jd,{eventName:i,listener:e})}}once(t){let e;const i=new Promise((i=>{e=this.on(t,(t=>{e(),i(t)}))}));return i.off=e,i}events(t){t=Array.isArray(t)?t:[t];for(const e of t)Bd(e);return Ud(this,t)}async emit(t,e){if(Bd(t),Wd(t)&&!$d)throw new TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");this.logIfDebugEnabled("emit",t,e),function(t,e,i){const n=Ad.get(t);if(n.has(e))for(const t of n.get(e))t.enqueue(i);if(n.has(Od)){const t=Promise.all([e,i]);for(const e of n.get(Od))e.enqueue(t)}}(this,t,e);const i=Vd(this,t)??new Set,n=Id.get(this),s=[...i],r=Wd(t)?[]:[...n];await Rd,await Promise.all([...s.map((async t=>{if(i.has(t))return t(e)})),...r.map((async i=>{if(n.has(i))return i(t,e)}))])}async emitSerial(t,e){if(Bd(t),Wd(t)&&!$d)throw new TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");this.logIfDebugEnabled("emitSerial",t,e);const i=Vd(this,t)??new Set,n=Id.get(this),s=[...i],r=[...n];await Rd;for(const t of s)i.has(t)&&await t(e);for(const i of r)n.has(i)&&await i(t,e)}onAny(t){return Nd(t),this.logIfDebugEnabled("subscribeAny",void 0,void 0),Id.get(this).add(t),Zd(this,Dd,{listener:t}),this.offAny.bind(this,t)}anyEvent(){return Ud(this)}offAny(t){Nd(t),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),Zd(this,jd,{listener:t}),Id.get(this).delete(t)}clearListeners(t){t=Array.isArray(t)?t:[t];for(const e of t)if(this.logIfDebugEnabled("clear",e,void 0),zd(e)){const t=Vd(this,e);t&&t.clear();const i=Hd(this,e);if(i){for(const t of i)t.finish();i.clear()}}else{Id.get(this).clear();for(const[t,e]of Md.get(this).entries())e.clear(),Md.get(this).delete(t);for(const[t,e]of Ad.get(this).entries()){for(const t of e)t.finish();e.clear(),Ad.get(this).delete(t)}}}listenerCount(t){t=Array.isArray(t)?t:[t];let e=0;for(const i of t)if(zd(i))e+=Id.get(this).size+(Vd(this,i)?.size??0)+(Hd(this,i)?.size??0)+(Hd(this)?.size??0);else{void 0!==i&&Bd(i),e+=Id.get(this).size;for(const t of Md.get(this).values())e+=t.size;for(const t of Ad.get(this).values())e+=t.size}return e}bindMethods(t,e){if("object"!=typeof t||null===t)throw new TypeError("`target` must be an object");e=qd(e);for(const i of e){if(void 0!==t[i])throw new Error(`The property \`${i}\` already exists on \`target\``);Object.defineProperty(t,i,{enumerable:!1,value:this[i].bind(this)})}}}const Gd=Object.getOwnPropertyNames(Kd.prototype).filter((t=>"constructor"!==t));Object.defineProperty(Kd,"listenerAdded",{value:Dd,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(Kd,"listenerRemoved",{value:jd,writable:!1,enumerable:!0,configurable:!1});const Yd=.0048,Xd=.9972,Jd=t=>`rgba(228, 89, 232, ${t})`,Qd=t=>`rgba(255, 95, 130, ${t})`,tp=[[{color:Jd(1),normalizedOffset:Yd},{color:Qd(1),normalizedOffset:Xd}],[{color:Jd(.2),normalizedOffset:Yd},{color:Qd(.2),normalizedOffset:Xd}],[{color:Jd(.1),normalizedOffset:Yd},{color:Qd(.1),normalizedOffset:Xd}]],ep=[.5,.8,1];var ip,np,sp,rp,ap,op,lp;!function(t){t.Listening="Listening",t.Preparing="Preparing",t.Inactive="Inactive",t.Activating="Activating",t.MicDisabled="MicDisabled"}(ip||(ip={})),function(t){t.Inactive="inactive",t.Recording="recording",t.Paused="paused"}(np||(np={})),function(t){t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High"}(sp||(sp={})),function(t){t.Start="recognition_start",t.Recognize="recognition_recognize",t.End="recognition_end",t.NetworkError="recognition_network_error",t.MicDisabled="recognition_mic_disabled",t.MicEnabled="recognition_mic_enabled",t.MicActivating="recognition_mic_activating"}(rp||(rp={})),function(t){t.Recognize="Recognize"}(ap||(ap={})),function(t){t.Result="Result"}(op||(op={})),function(t){t.Aborted="aborted",t.Network="network",t.NotAllowed="not-allowed",t.NoSpeech="no-speech"}(lp||(lp={}));var cp=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};const hp=(t,e,i,n,s)=>{t.beginPath(),t.fillStyle=n,t.arc(e[0],e[1],i,0,2*Math.PI,!0),t.closePath(),s&&(t.strokeStyle=s.color,t.lineWidth=s.radius,t.stroke()),t.fill()};class dp{static extractVolume(t){return t.reduce(((t,e)=>Math.max(t,e)),0)/255}constructor(t){this.animationId=0,this.shadow=null,this.analyserNode=null,this.canvasElement=null,this.colors=t.colors||[],this.colorsThresholds=t.colorsThresholds||[],this.levelWidth=t.levelWidth||6,this.shadow=t.shadow||null}draw(t){let e;const i=this.canvasElement;if(!i)return;const n=i.width/2*t,s=i.getContext("2d");if(!s)return;e=Math.min(this.colors.length,Math.max(Math.ceil(n/this.levelWidth),1));const r=e;for(s.clearRect(0,0,i.width,i.height);e--;){const t=i.width/2,a=i.height/2,o=this.colorsThresholds[e]||1,l=o*i.width/2,c=1-.1*(r-e-1),h=0===e?l:Math.min(n*o,l)*c,d=this.colors[e],p=s.createLinearGradient(t-h,a,t+h,a);d.forEach((t=>p.addColorStop(t.normalizedOffset,t.color))),hp(s,[t,a],h,"rgba(0, 0, 0, 0)"),hp(s,[t,a],h,p,e===r-1?this.shadow:null)}}setCanvas(t){this.canvasElement=t}setAnalyserNode(t){this.analyserNode=t}stopVisualization(){if(window.cancelAnimationFrame(this.animationId),!this.canvasElement)return;const t=this.canvasElement.getContext("2d");t?.clearRect(0,0,this.canvasElement.width,this.canvasElement.height)}startVisualization(){if(!this.analyserNode)return;const t=new Uint8Array(this.analyserNode.frequencyBinCount);this.analyserNode.getByteFrequencyData(t),this.draw(dp.extractVolume(t)),this.animationId=window.requestAnimationFrame(this.startVisualization)}}cp([Ue],dp.prototype,"startVisualization",null);var pp=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};const up=window.AudioContext||window.webkitAudioContext||null;const gp=function(){const t=window.MediaRecorder.isTypeSupported||(()=>!1);return t(sh.Ogg)?sh.Ogg:t(sh.Webm)?sh.Webm:sh.WavPcm}();class fp{constructor(t){this.dataHandler=t,this.mediaRecorder=null,this.mediaStream=null,this.audiocontext=null,this.analyserNode=null,this.audioInput=null}async start(t=1e3,e){try{const i=await navigator.mediaDevices.getUserMedia({audio:!0});this.mediaRecorder=function(t){const e={mimeType:gp,audioBitsPerSecond:16e3};return new window.MediaRecorder(t,e)}(i),this.mediaRecorder.state===np.Inactive&&(this.mediaRecorder.addEventListener("dataavailable",this.handleDataAvailable),this.mediaRecorder.addEventListener("error",this.handleError),this.mediaRecorder.start(t)),this.mediaStream=i,e()}catch{this.handleError()}}stop(){this.mediaStream&&this.mediaStream.getTracks&&this.mediaStream.getTracks().forEach((function(t){t.stop()})),this.mediaRecorder&&(this.mediaRecorder.removeEventListener("dataavailable",this.handleDataAvailable),this.mediaRecorder.removeEventListener("error",this.handleError),this.mediaRecorder.state!==np.Inactive&&this.mediaRecorder.stop(),this.mediaRecorder=null,this.mediaStream=null)}handleDataAvailable(t){this.dataHandler(t.data)}handleError(){this.stop()}getAnalyserNode(){return up&&this.mediaStream?(this.audiocontext||(this.audiocontext=new up),this.analyserNode?.disconnect(),this.analyserNode=this.audiocontext.createAnalyser(),this.analyserNode.fftSize=2048,this.audioInput?.disconnect(),this.audioInput=this.audiocontext.createMediaStreamSource(this.mediaStream),this.audioInput.connect(this.analyserNode),this.analyserNode):null}}pp([Ue],fp.prototype,"handleDataAvailable",null),pp([Ue],fp.prototype,"handleError",null);const mp=Boolean(navigator.mediaDevices&&(window.MediaRecorder||AudioContext)),vp=[Gc.ConnectionError,lp.Network];class yp{static isAvailable(){return!la()&&mp}async initRecognizer(){try{const t=await navigator.permissions.query({name:"microphone"});this.audioPermissionStatus=t.state,"denied"===t.state&&this.service.handleRecognitionEvent(rp.MicDisabled),t.onchange=rc((()=>{const e=t.state;this.audioPermissionStatus=e,"granted"===e&&this.service.handleRecognitionEvent(rp.MicEnabled),"denied"===e&&this.service.handleRecognitionEvent(rp.MicDisabled)}))}catch(t){t instanceof TypeError&&(this.permissionsSupported=!1)}}constructor(t,e,i){this.service=t,this.experimentsService=e,this.permissionsSupported=!1,this.audioPermissionStatus="prompt",this.streamId=null,this.recorder=null,this.currentMessageId="",this.timer=null,this.resultIndex=0,this.permissionsSupported="permissions"in navigator,this.uniproxy=i.uniproxy,this.timeout=i.timeout||5e3,this.uniproxy.listenMessage((t=>this.handleMessage(t.data))),this.uniproxy.listenError((t=>this.handleError(t))),this.uniproxy.listenClose((()=>this.throwNetworkError())),this.uniproxy.listenStreamControl((t=>this.handleTransportStreamControl(t.data))),this.permissionsSupported&&this.initRecognizer()}clearTimeout(){this.timer&&clearTimeout(this.timer)}setTimeout(){this.clearTimeout(),this.timer=setTimeout(this.stopListening.bind(this),this.timeout)}handleError(t){if(t)if(vp.includes(t.error))this.throwNetworkError();else if(t.data&&t.data.header){const{header:e}=t.data;e&&e.refMessageId===this.currentMessageId&&this.throwNetworkError()}}handleASRResult({header:t,payload:e}){"InternalError"!==e.responseCode?this.currentMessageId&&e.recognition.length&&this.onResult(e.recognition[0].normalized,e.endOfUtt||e.earlyEndOfUtt):this.handleError({data:{header:t,payload:e},error:lp.Network})}handleMessage(t){if(!t)return;const{header:e}=t;if("ASR"===e.namespace&&e.name===op.Result)this.handleASRResult(t)}handleTransportStreamControl(t){t.streamId===this.streamId&&t.action===Yc.Close&&(this.clean(),this.service.handleRecognitionEvent(rp.End))}throwNetworkError(){this.clean(),this.service.handleRecognitionEvent(rp.NetworkError)}clean(){this.recorder?.stop(),this.streamId=0,this.currentMessageId="",this.clearTimeout()}onAbort(){this.clearTimeout(),this.service.handleRecognitionEvent(rp.End)}handleMicrophoneData(t){this.streamId&&t.size&&(this.uniproxy.sendStreamData(this.streamId,t,gp)||this.throwNetworkError())}stopListening(){if(!this.streamId||!this.currentMessageId)return;const t=Xc.NoError;this.uniproxy.closeStream(this.streamId,this.currentMessageId,t),this.clean(),this.onAbort()}onStart(){this.resultIndex=0,this.setTimeout(),this.service.handleRecognitionEvent(rp.Start)}onResult(t,e){const i={text:t,final:e,resultIndex:this.resultIndex};t&&this.setTimeout(),e&&(this.resultIndex+=1),this.service.handleRecognitionEvent(rp.Recognize,i)}startRecognition(t){this.streamId||(this.recorder||(this.recorder=new fp(this.handleMicrophoneData.bind(this))),this.uniproxy.ensureConnection((()=>{this.streamId=this.uniproxy.startStream(),this.recorder?.start(300,(()=>{if(this.currentMessageId=this.uniproxy.sendRequest("ASR",ap.Recognize,{lang:t,streamId:this.streamId,format:gp,timeoutInMilliseconds:this.timeout,punctuation:!1,topic:this.topics[t]})||"",!this.currentMessageId)return this.throwNetworkError();this.onStart()}))})))}prepareData({text:t,final:e,resultIndex:i},n){return{text:t.trim(),final:e,index:n,resultIndex:i}}convertLanguage(t,e){e(this.supportedLangs[t]||"")}isLangSupported(t){return Boolean(this.supportedLangs[t])}getVisualizer(){return this.recorder?.getAnalyserNode()||null}startListening(t){"prompt"===this.audioPermissionStatus&&this.permissionsSupported&&this.service.handleRecognitionEvent(rp.MicActivating),this.convertLanguage(t,(t=>this.startRecognition(t)))}get topics(){return{"en-GB":"freeform","ru-RU":"dialogeneral","tr-TR":"freeform","tt-TT":"freeform","cv-RU":"freeform","uk-UA":"freeform"}}get supportedLangs(){const t={en:"en-GB",ru:"ru-RU",tr:"tr-TR",tt:"tt-TT",uk:"uk-UA"};return this.experimentsService.isFlagEnabled("enable_tts_cv_lang")&&(t.cv="cv-RU"),t}getPriority(t){return yh()&&this.supportedLangs[t]?sp.High:sp.Low}}class xp{constructor(t,e){this.uniproxy=t,this.experimentsService=e,this.recognizers=[],this.activeRecognizer=null,this.emitter=new Kd,this.index=0,this.state=ip.Inactive,this.parentElement=null,this.initRecognizers(),this.audioVisualizerView=new dp({colors:tp,colorsThresholds:ep})}initRecognizers(){yp.isAvailable()&&this.recognizers.push(new yp(this,this.experimentsService,{uniproxy:this.uniproxy}))}checkIsASREnabled(t){return this.recognizers.some((e=>e.isLangSupported(t)))}onStart(t){this.emitter.on(rp.Start,t)}onRecognize(t){this.emitter.on(rp.Recognize,t)}onEnd(t){this.emitter.on(rp.End,t)}onNetworkError(t){this.emitter.on(rp.NetworkError,t)}onMicDisabled(t){this.emitter.on(rp.MicDisabled,t)}onMicEnabled(t){this.emitter.on(rp.MicEnabled,t)}unsubscribeEvents(){this.emitter.clearListeners()}handleStartEvent(){if(this.emitter.emit(rp.Start),this.state=ip.Listening,!this.parentElement)return;const t=this.activeRecognizer?.getVisualizer()||null,e=this.parentElement.querySelector("canvas");t&&e?(t.fftSize=256,t.smoothingTimeConstant=.9,this.audioVisualizerView.setAnalyserNode(t),this.audioVisualizerView.setCanvas(e),this.audioVisualizerView.startVisualization()):this.audioVisualizerView.stopVisualization()}handleRecognizeEvent(t){this.emitter.emit(rp.Recognize,t)}handleEndEvent(){this.state=ip.Inactive,this.emitter.emit(rp.End),this.audioVisualizerView.stopVisualization()}handleNetworkErrorEvent(){this.state=ip.Inactive,this.audioVisualizerView.stopVisualization(),this.emitter.emit(rp.NetworkError)}handleMicDisabledEvent(){this.stop(),this.emitter.emit(rp.MicDisabled)}handleMicEnabledEvent(){this.state=ip.Activating,this.emitter.emit(rp.MicEnabled)}handleMicActivatingEvent(){this.state=ip.Listening}setParentElement(t){this.parentElement=t}handleRecognitionEvent(t,e){switch(t){case rp.Start:this.handleStartEvent();break;case rp.End:this.handleEndEvent();break;case rp.Recognize:this.handleRecognizeEvent(e);break;case rp.NetworkError:this.handleNetworkErrorEvent();break;case rp.MicActivating:this.handleMicActivatingEvent();break;case rp.MicDisabled:this.handleMicDisabledEvent();break;case rp.MicEnabled:this.handleMicEnabledEvent()}}updateActiveRecognizer(t){this.activeRecognizer=this.recognizers.map((e=>[e.getPriority(t),e])).sort((([t],[e])=>e-t)).map((([,t])=>t))[0]}start(t){this.updateActiveRecognizer(t),this.activeRecognizer&&this.activeRecognizer.startListening(t)}stop(){this.state!==ip.Inactive&&this.activeRecognizer?.stopListening(),this.index++}prepareData(t){return this.activeRecognizer?.prepareData(t,this.index)}}const bp="recognition";class wp{constructor(t,e){this.getRecognitionContext=t,this.setRecognitionContext=e,this.setRecognitionContext(this.getInitialRecognitionContext())}disconnect(){}getInitialRecognitionContext(){return{recognitionResult:null,isActive:!1,setRecognitionResult:t=>{const e={...this.getRecognitionContext(),recognitionResult:t};this.setRecognitionContext(e)},setIsActive:t=>{const e={...this.getRecognitionContext(),isActive:t};this.setRecognitionContext(e)}}}}var _p=i(3515),Cp=i.n(_p),Sp=i(5048),Tp=i.n(Sp);const kp=o`
    :host {
        z-index: 1;
        position: relative;
    }

    .wrapper {
        display: flex;
        justify-content: center;
        align-items: center;
        min-width: calc(var(--size_xl) + var(--size_3xs));
        min-height: calc(var(--size_xl) + var(--size_3xs));
    }

    .wrapper.active {
        background: var(--ya-gradient-accents-neuro-flip);
        border-radius: 50%;
    }

    .recognition-icon path:nth-child(even) {
        transform-origin: center 12px;
        animation: iconCenterLine 1s -0.35s ease-in-out infinite;
    }

    .recognition-icon path:nth-child(odd) {
        transform-origin: center 12px;
        animation: iconSideLine 1s ease-in-out infinite;
    }

    canvas {
        display: none;
        z-index: -1;
        pointer-events: none;
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
    }

    canvas.visible {
        display: inherit;
    }

    @keyframes iconSideLine {
        0%,
        100% {
            transform: scaleY(0.2);
        }

        50% {
            transform: scaleY(1.5);
        }
    }

    @keyframes iconCenterLine {
        0%,
        100% {
            transform: scaleY(1);
        }

        50% {
            transform: scaleY(0.1);
        }
    }
`;var Ep=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let Pp=class extends ht{constructor(){super(...arguments),this.trackingService=of.resolve(rf.TrackingService),this.size="xl",this.disabled=!1,this.asrState="inactive",this.isMicDisabled=!1,this.asrService=of.resolve(rf.ASRService)}startListening(){"inactive"===this.asrState&&(this.asrService.start(this.langsContext.langsPair.srcLang),this.asrState="active",this.trackingService.trackEvent("asr_start"))}stopListening(){this.asrService.stop()}handleStartRecognition(){this.asrState="active",this.recognitionContext.setIsActive(!0),this.buttonWrapper.focus()}handleRecognitionActive(t){this.recognitionContext.setRecognitionResult(t),this.trackingService.trackEvent("asr_recognize")}handleStopRecognition(){this.asrState="inactive",this.recognitionContext.setIsActive(!1),this.dispatchEvent(new Event("recognition-finished")),this.trackingService.trackEvent("asr_stop")}handleMicDisabled(){this.isMicDisabled=!0}handleMicEnabled(){this.isMicDisabled=!1}handleDocumentClick(t){!Ph(t,this.renderRoot)&&"active"===this.asrState&&this.asrService.stop()}handleKeyDown(){"active"===this.asrState&&this.asrService.stop()}handleNetworkError(){this.asrState="inactive",this.recognitionContext.setIsActive(!1),this.recognitionContext.setRecognitionResult(null),this.dispatchEvent(new Event("network-error"))}connectedCallback(){super.connectedCallback(),document.addEventListener("click",this.handleDocumentClick),document.addEventListener("keydown",this.handleKeyDown),this.asrService.onStart(this.handleStartRecognition),this.asrService.onRecognize(this.handleRecognitionActive),this.asrService.onEnd(this.handleStopRecognition),this.asrService.onMicDisabled(this.handleMicDisabled),this.asrService.onMicEnabled(this.handleMicEnabled),this.asrService.onNetworkError(this.handleNetworkError)}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("keydown",this.handleKeyDown),this.asrService.unsubscribeEvents()}firstUpdated(){this.asrService.setParentElement(this.buttonWrapper)}onBlur(){this.asrService.stop()}getTooltipText(){const t=this.asrService.checkIsASREnabled(this.langsContext.langsPair.srcLang);return this.isMicDisabled?this.localesContext.getText("enable_voice_input"):t?this.localesContext.getText("voice_recognition"):this.localesContext.getText("voice_input_disabled")}renderButton(){const t=this.localesContext.getText("a11y_asr_btn"),e=this.asrService.checkIsASREnabled(this.langsContext.langsPair.srcLang),i=this.disabled||this.isMicDisabled||!e,n=i?"disabled":this.color,s=this.getTooltipText(),r=W`<ya-button
            ?disabled=${i}
            view="clear"
            size=${this.size}
            label=${t}
            @click=${this.startListening}
        >
            <ya-icon slot="icon" size=${this.size} color=${Xr(n)}>
                ${Rt(Cp())}
            </ya-icon>
        </ya-button>`,a=W`<ya-button
            ?disabled=${i}
            view="none"
            size=${this.size}
            label=${t}
            @click=${this.stopListening}
        >
            <ya-icon
                class="recognition-icon"
                slot="icon"
                size=${this.size}
                color="white"
            >
                ${Rt(Tp())}
            </ya-icon>
        </ya-button>`;return W`<nt-tooltip
            class="microphone-tooltip"
            y-shift="8"
            .text=${s}
        >
            ${"active"===this.asrState?a:r}
        </nt-tooltip>`}render(){return W`
            <span
                @blur=${this.onBlur}
                class="wrapper ${"active"===this.asrState?"active":""}"
            >
                ${this.renderButton()}

                <canvas
                    class=${"active"===this.asrState?"visible":""}
                    width=${80}
                    height=${80}
                ></canvas>
            </span>
        `}};Pp.styles=kp,Ep([hi({context:di,subscribe:!0}),mt()],Pp.prototype,"localesContext",void 0),Ep([hi({context:bp,subscribe:!0}),mt()],Pp.prototype,"recognitionContext",void 0),Ep([ft({type:String})],Pp.prototype,"color",void 0),Ep([ft({type:String})],Pp.prototype,"size",void 0),Ep([ft({reflect:!0,type:Boolean})],Pp.prototype,"disabled",void 0),Ep([hi({context:cn,subscribe:!0}),mt()],Pp.prototype,"langsContext",void 0),Ep([mt()],Pp.prototype,"asrState",void 0),Ep([mt()],Pp.prototype,"isMicDisabled",void 0),Ep([yt(".wrapper")],Pp.prototype,"buttonWrapper",void 0),Ep([Ue],Pp.prototype,"handleStartRecognition",null),Ep([Ue],Pp.prototype,"handleRecognitionActive",null),Ep([Ue],Pp.prototype,"handleStopRecognition",null),Ep([Ue],Pp.prototype,"handleMicDisabled",null),Ep([Ue],Pp.prototype,"handleMicEnabled",null),Ep([Ue],Pp.prototype,"handleDocumentClick",null),Ep([Ue],Pp.prototype,"handleKeyDown",null),Ep([Ue],Pp.prototype,"handleNetworkError",null),Pp=Ep([pt("nt-asr-button")],Pp);class Lp{constructor(t){this.appConfig=t}async translate(t){const{url:e,srcLang:i,dstLang:n}=t,s=[i,n].join("-"),r=this.normalizeUrl(e),a=((t,e)=>{const i=new URL(t);for(const[t,n]of Object.entries(e))i.searchParams.set(t,String(n));return i.toString()})(this.appConfig.apiUrls.siteTranslation,{url:e,lang:s});return{originalUrl:r,translationUrl:a}}normalizeUrl(t){let e=t.trim();return/^https?:\/\//i.test(e)||(e=`http://${e}`),e}}function Ip(t){return"rewrite"===t?.launchType}class Mp extends Dl{constructor(t){super(),this.params=t,this.messagesPairId="",this.siteTranslatorService=of.resolve(rf.SiteTranslatorService),this.messagesPairsStorage=of.resolve(rf.MessagesPairsStorage),this.threadsStorage=of.resolve(rf.ThreadsStorage),this.messagesPairsFactory=of.resolve(rf.MessagesPairsFactory),this.trackingService=of.resolve(rf.TrackingService);const{srcLang:e,dstLang:i,url:n}=this.params.payload;this.inputParams={url:n,srcLang:e,dstLang:i}}async start(t){if(super.start(t),!Ip(this.params)){const t=this.messagesPairsFactory.createSiteMessagesPair(this.inputParams);this.messagesPairId=t.id,await this.messagesPairsStorage.addMessagesPair(t),this.trackingService.trackEvent("message_create",{message_type:"site",message_id:this.messagesPairId})}Ip(this.params)&&this.onRewriteTask(this.params),await this.translateSite(),this.stop()}async translateSite(){const{url:t,srcLang:e,dstLang:i}=this.inputParams,n=await this.siteTranslatorService.translate({url:t,srcLang:e,dstLang:i});if(await this.messagesPairsStorage.setMessagesPairOutput(this.messagesPairId,n),await this.messagesPairsStorage.updateMessagesPairStatus(this.messagesPairId,hn.Ready),Ip(this.params))return void this.trackingService.trackEvent("message_success_rewrite",{message_id:this.messagesPairId,select_type:this.params.payload.type,message_type:"site",lang_code:this.params.payload.newLang});const{langsPair:s}=this.threadsStorage.getActiveThread();await this.handleUpdateLangsPair(s)}async onRewriteTask(t){this.messagesPairId=t.payload.messagesPairId;const e=an({srcLang:this.inputParams.srcLang,dstLang:this.inputParams.dstLang},{..."src"===t.payload.type?{srcLang:t.payload.newLang}:{dstLang:t.payload.newLang}});this.inputParams.srcLang=e.srcLang,this.inputParams.dstLang=e.dstLang,await this.messagesPairsStorage.updateMessagesPairStatus(this.messagesPairId,hn.Rewriting),await this.messagesPairsStorage.updateMessagesPairsLang(this.messagesPairId,t.payload.type,t.payload.newLang)}async handleUpdateLangsPair(t){this.inputParams.srcLang===t.srcLang&&this.inputParams.dstLang===t.dstLang||await this.threadsStorage.updateThreadLangsPair(this.inputParams.srcLang,this.inputParams.dstLang)}}function Ap(t){return new Mp(t)}var Op=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let Rp=class extends ht{get href(){const t=this.message?.input.url;return t?function(t){const e=t.trim();return/^https?:\/\/.*/.test(e)?e:`https://${t}`}(t):""}get messagesPairId(){return this.message?.id??""}render(){return W`
            <ya-link
                font-size="m"
                line-height="s"
                font-weight="regular"
                text-align="start"
                href="${this.href}"
                target="_blank"
            >
                <slot id=${this.messagesPairId}></slot>
            </ya-link>
        `}};Op([ft({attribute:"message",type:Object})],Rp.prototype,"message",void 0),Rp=Op([pt("nt-input-link")],Rp);const Dp=o`
    :host {
        display: block;

        width: 100%;
    }

    .link-preview-container {
        gap: calc(var(--space_3xs) + var(--space_2xs));
    }

    .link-box {
        border: var(--space_3xs) solid var(--border-stroke);
        border-radius: var(--border-radius_xs);
        padding: var(--space_m);

        text-decoration: none;
    }

    .hint {
        font-style: italic;
        font-size: var(--size_xs);
        color: var(--text-tertiary);
        text-align: right;
    }

    .image {
        max-width: var(--size_5xl);
        max-height: var(--size_5xl);
    }

    .title {
        color: var(--text-primary);
    }

    .description {
        font-size: var(--size_s);
        color: var(--text-tertiary);
    }
`;var jp=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let $p=class extends ht{get originalUrl(){return this.message?.output?.originalUrl}get translationUrl(){return this.message?.output?.translationUrl}get hrefTranslate(){if(!la()&&this.originalUrl)return this.message?.input.dstLang}get href(){return la()||!this.originalUrl?this.translationUrl:this.originalUrl}render(){const t=Rt(Ce()),e=this.localesContext.getText("go_to_translated_site");return W`
            <ya-link
                hreftranslate=${Xr(this.hrefTranslate)}
                font-size="m"
                line-height="s"
                href="${Xr(this.href)}"
                target="_blank"
            >
                <flex-container class="link-preview-container" align="center">
                    <ya-icon size="l">${t}</ya-icon>
                    ${e}
                </flex-container>
            </ya-link>
        `}};$p.styles=Dp,jp([ft({attribute:"message",type:Object})],$p.prototype,"message",void 0),jp([hi({context:di,subscribe:!0}),mt()],$p.prototype,"localesContext",void 0),$p=jp([pt("nt-output-link-preview")],$p);const{Axios:Fp,AxiosError:zp,CanceledError:Bp,isCancel:Np,CancelToken:Vp,VERSION:Hp,all:Up,Cancel:qp,isAxiosError:Wp,spread:Zp,toFormData:Kp,AxiosHeaders:Gp,HttpStatusCode:Yp,formToJSON:Xp,getAdapter:Jp,mergeConfig:Qp}=El;class tu extends Wi{constructor(t){super(t),this.source="text-translator",this.name="TextTranslatorException"}}class eu extends tu{constructor(){super(...arguments),this.name="TextTranslatorInvalidSessionException"}}class iu extends tu{constructor(){super(...arguments),this.name="TextTranslatorInvalidParamsException"}}class nu extends tu{constructor(){super(...arguments),this.name="TextTranslatorExternalApiException"}}class su{constructor(t,e,i){this.config=t,this.requestsCounterStorage=e,this.sessionService=i}createException(t,e){const i=t;return i.status===Yp.Forbidden?new eu(e):i.status===Yp.BadRequest?new iu(e):i.status===Yp.InternalServerError?new nu(e):new tu(e)}getSrv(){const t=this.config.platform;return this.config.srv[t].trText}getRequestsCounter(){return this.requestsCounterStorage.getRequestsCounter(su.API_IDENTIFIER)}increaseRequestsCount(){this.requestsCounterStorage.increaseRequestsCounter(su.API_IDENTIFIER)}parseAnswer(t){return t.text[0]}}su.API_IDENTIFIER="TextTranslator";class ru extends su{async translate(t){const e=await this.requestTranslate(t);return this.increaseRequestsCount(),e}async requestTranslate({text:t,srcLang:e,dstLang:i}){const n=br({lang:`${e}-${i}`,text:t}),s=await this.generateTranslationId(),r=br({lang:`${e}-${i}`,srv:this.getSrv(),tr_model:"llm_text",format:"text",id:s}),a=`${this.config.apiUrls.llmTranslation}?${r}`;try{const t=await Ll(a,{method:"POST",data:n,contentType:pa.Form});return{text:this.parseAnswer(t),translationId:s}}catch(n){const s={srcLang:e,dstLang:i,text:t};throw this.createException(n,s)}}async generateTranslationId(t=0){return`${await this.sessionService.getSid()}-${this.getRequestsCounter()}-${t}`}}const au=[/(\n+)/,/([.!?;\u0964](?:\s+|$))/,/([-\u2012-\u2015](?:\s+|$))/,/([,:](?:\s+|$))/,/([\u3002\uff01\uff1f\uff1b\u2026])/,/([\uff0c\uff1a])/,/(\s+)/];function ou(t,e,i){if(t.length<=e)return t;const n=t.slice(0,e),s=i>0?t=>n.split(t).slice(0,-1).join("").length>=i:void 0;let r=lu(n,s);if(r)return n.split(r).slice(0,-1).join("");const a=t.slice(e);if(r=lu(a),r){const i=a.match(r);if(i){const{0:n,index:s=0}=i;return t.slice(0,e+s+n.length)}}return t}function lu(t,e){let i=0,n=au[i++];for(;n;){if(n.test(t)&&(!e||e(n)))return n;n=au[i++]}}class cu extends su{async translate(t){const e=await this.handleTranslate(t);return this.increaseRequestsCount(),e}async handleTranslate({text:t,srcLang:e,dstLang:i}){const n={srcLang:e,dstLang:i},{chunks:s,isSplittingFailed:r}=function(t,e,i={}){if(t.length<=e)return{chunks:[t],isSplittingFailed:!1};const{minChunkSize:n=0,shouldIgnoreUnsplittableChunks:s}=i;let r=t,a=[];for(;r;){const t=ou(r,e,n);a.push(t),r=r.slice(t.length)}s&&(a=a.filter((t=>t.length<=e)));const o=a.some((t=>t.length>e));return{chunks:a,isSplittingFailed:o}}(t,cu.MAX_CHUNK_LENGTH);if(r)return{text:t,translationId:await this.generateTranslationId()};const a=s.map(((t,e)=>{const i={...n,text:t};return()=>this.requestTranslate(i,e)})),o=await async function(t,e){const i=Math.min(t.length,e),n=new Array(t.length),s=new Array(i);let r=e;const a=async(e,i)=>{const s=await i();if(n[e]=s,r<t.length){const e=t[r];await a(r++,e)}};for(let e=0;e<i;e++){const i=t[e],n=a(e,i);s[e]=n}return await Promise.all(s),n}(a,cu.MAX_ACTIVE_REQUESTS);return{text:o.map((({text:t})=>t)).join(""),translationId:o[0].translationId}}async generateTranslationId(t=0){return`${await this.sessionService.getSid()}-${this.getRequestsCounter()}-${t}`}async requestTranslate({text:t,srcLang:e,dstLang:i},n=0){const s=br({text:t}),r=await this.generateTranslationId(n),a=br({source_lang:e,target_lang:i,reason:"input",id:r,srv:this.getSrv()}),o=`${this.config.apiUrls.textTranslation}?${a}`;try{const t=await Ll(o,{method:"POST",data:s,contentType:pa.Form});return{text:this.parseAnswer(t),translationId:r}}catch(n){const s={srcLang:e,dstLang:i,text:t};throw this.createException(n,s)}}}var hu,du,pu,uu;cu.MAX_CHUNK_LENGTH=600,cu.MAX_ACTIVE_REQUESTS=4,function(t){t[t.Align=4]="Align"}(hu||(hu={})),function(t){t[t.None=0]="None",t[t.Family=1]="Family",t[t.ShortPos=2]="ShortPos",t[t.Morpho=4]="Morpho",t[t.Reliable=16]="Reliable",t[t.Tooltips=32]="Tooltips",t[t.LongExamples=64]="LongExamples",t[t.Definitions=128]="Definitions",t[t.Declensions=256]="Declensions",t[t.Idioms=1024]="Idioms",t[t.Abbr=2048]="Abbr"}(du||(du={}));class gu extends Wi{constructor(t){super(t),this.source="dictionary",this.name="DictionaryException"}}class fu extends gu{constructor(){super(...arguments),this.name="DictionaryClientValidationException"}}class mu extends gu{constructor(){super(...arguments),this.name="DictionarySessionException"}}class vu extends gu{constructor(){super(...arguments),this.name="DictionaryInvalidParamsException"}}!function(t){t.Masculine="masculine",t.Feminine="feminine",t.Neuter="neuter",t.MasculineAndFeminine="masculineAndFeminine"}(pu||(pu={})),function(t){t.Masculine="m",t.Feminine="f",t.Neuter="n",t.MasculineAndFeminine="mf"}(uu||(uu={}));const yu={[uu.Masculine]:pu.Masculine,[uu.Feminine]:pu.Feminine,[uu.Neuter]:pu.Neuter,[uu.MasculineAndFeminine]:pu.MasculineAndFeminine};var xu,bu,wu;!function(t){t.Noun="nn",t.Verb="vrb",t.Adjective="adj",t.Adverb="adv",t.Pronoun="prn",t.Predicative="pdv",t.Participle="ptp",t.Conjunction="cnj",t.Interjection="inj",t.Determiner="det",t.Punctuation="pnt",t.AdverbialParticiple="dee",t.DeterminerPronoun="dtn",t.Preposition="prp",t.Postposition="postp",t.Parenthetic="pth",t.Particle="pt",t.Digits="dgt",t.Numeral="num",t.Invariable="inv",t.ForeignWord="frn"}(xu||(xu={})),function(t){t.Noun="noun",t.Verb="verb",t.Adjective="adjective",t.Adverb="adverb",t.Pronoun="pronoun",t.Predicative="predicative",t.Participle="participle",t.Conjunction="conjunction",t.Interjection="interjection",t.Determiner="determiner",t.Punctuation="punctuation",t.AdverbialParticiple="adverbialParticiple",t.DeterminerPronoun="determinerPronoun",t.Preposition="preposition",t.Postposition="postposition",t.Parenthetic="parenthetic",t.Particle="particle",t.Digits="digits",t.Numeral="numeral",t.Invariable="invariable",t.ForeignWord="foreignWord"}(bu||(bu={})),function(t){t.Cnj="cnj",t.Pdv="pdv",t.Ptp="ptp",t.Inj="inj",t.Det="det",t.Adv="adv",t.Pnt="pnt",t.Dee="dee",t.Prn="prn",t.Dtn="dtn",t.Adj="adj",t.Prp="prp",t.Postp="postp",t.Pth="pth",t.Nn="nn",t.Pt="pt",t.Vrb="vrb",t.Dgt="dgt",t.Num="num",t.Inv="inv",t.Frn="frn"}(wu||(wu={}));const _u={[xu.Noun]:wu.Nn,[xu.Verb]:wu.Vrb,[xu.Adjective]:wu.Adj,[xu.Adverb]:wu.Adv,[xu.Pronoun]:wu.Prn,[xu.Predicative]:wu.Pdv,[xu.Participle]:wu.Ptp,[xu.Conjunction]:wu.Cnj,[xu.Interjection]:wu.Inj,[xu.Determiner]:wu.Det,[xu.Punctuation]:wu.Pnt,[xu.AdverbialParticiple]:wu.Dee,[xu.DeterminerPronoun]:wu.Prn,[xu.Preposition]:wu.Prp,[xu.Postposition]:wu.Postp,[xu.Parenthetic]:wu.Pth,[xu.Particle]:wu.Pt,[xu.Digits]:wu.Dgt,[xu.Numeral]:wu.Num,[xu.Invariable]:wu.Inv,[xu.ForeignWord]:wu.Frn},Cu={[xu.Noun]:bu.Noun,[xu.Verb]:bu.Verb,[xu.Adjective]:bu.Adjective,[xu.Adverb]:bu.Adverb,[xu.Pronoun]:bu.Pronoun,[xu.Predicative]:bu.Predicative,[xu.Participle]:bu.Participle,[xu.Conjunction]:bu.Conjunction,[xu.Interjection]:bu.Interjection,[xu.Determiner]:bu.Determiner,[xu.Punctuation]:bu.Punctuation,[xu.AdverbialParticiple]:bu.AdverbialParticiple,[xu.DeterminerPronoun]:bu.DeterminerPronoun,[xu.Preposition]:bu.Preposition,[xu.Postposition]:bu.Postposition,[xu.Parenthetic]:bu.Parenthetic,[xu.Particle]:bu.Particle,[xu.Digits]:bu.Digits,[xu.Numeral]:bu.Numeral,[xu.Invariable]:bu.Invariable,[xu.ForeignWord]:bu.ForeignWord};function Su(t){const{text:e,pos:i,ts:n,gen:s}=t,r={text:e};return i?.code&&(r.partOfSpeechCode=_u[i.code],r.partOfSpeech=Cu[i.code]),i?.text&&(r.partOfSpeechText=i.text),i?.tooltip&&(r.partOfSpeechFullText=i.tooltip),s?.code&&(r.gender=yu[s.code]),s?.text&&(r.genderText=s.text),s?.tooltip&&(r.genderFullText=s.tooltip),n&&(r.transcription=n),r}var Tu,ku;!function(t){t.Syn="syn",t.Ant="ant",t.Def="def",t.Deriv="deriv",t.Regular="regular"}(Tu||(Tu={}));class Eu{constructor(t,e,i,n){this.config=t,this.settingsStorage=e,this.localesService=i,this.sessionService=n}async getDictionaryData(t){if(!this.validateParams(t))throw new fu(t);return await this.requestDictionary(t)}async requestDictionary(t){const{text:e,srcLang:i,dstLang:n}=t,s=`${i}-${n}`,r=await this.localesService.getCurrentLocale(),a=br({sid:await this.sessionService.getSid(),ui:r,srv:this.getSrv(),text:e,type:this.getDictTypeParam(t),lang:s,flags:this.getDictFlags(t),dict:this.getDictParam(t)}),o=`${this.config.apiUrls.dictionary}?${a}`;try{const e=function(t,e){const{srcLang:i,dstLang:n}=e,s=[],r=`${i}-${n}`,a=t?.[r]?.regular??[];for(const t of a){const e={word:Su(t),entries:[]};for(const i of t?.tr??[]){const t={translations:[],meanings:[]};t.translations.push(Su(i));for(const e of i?.syn??[])t.translations.push(Su(e));for(const e of i?.mean??[])t.meanings.push(Su(e));e.entries.push(t)}s.push(e)}return s}(await Ll(o),t),i=function(t){return t.reduce(((t,e)=>[...t,...e.entries.slice(0,3).map((t=>t.translations[0]))]),[])}(e);return{dictionaryGroups:e,relatedWords:{synonyms:i,antonyms:[],derivatives:[]}}}catch(e){const i=e,n={srcLang:t.srcLang,dstLang:t.dstLang,text:t.text,status:i.status,data:i.data};if(i.status===Yp.Forbidden)throw new mu(n);if(i.status===Yp.BadRequest)throw new vu(n);throw new gu(n)}}getSrv(){const t=this.config.platform;return this.config.srv[t].trDoc}validateParams(t){const{srcLang:e,dstLang:i}=t;return this.validateText(t)&&this.validateLangs(e,i)}validateText({text:t,srcLang:e}){const i=/[\n\r]/.test(t.trim()),n=t.length<=this.config.dictionary.maxQueryLength,s=t.split(/\s+/).length<=this.config.dictionary.maxWordsCount;let r=!0;return"emj"!==e&&(r=Bc(t)),Boolean(t&&!i&&n&&s&&!Uc(t)&&r)}validateLangs(t,e){const i=`${t}-${e}`;return Boolean(t&&e&&t!==e&&(this.config.langs.dictionary.includes(i)||this.config.langs.dictionary.includes(i)))}getDictTypeParam({srcLang:t,dstLang:e}){const i=[],n=`${t}-${e}`,s=`${t}-${t}`;return this.config.langs.dictionary.includes(n)&&i.push(Tu.Regular),this.config.langs.dictionary.includes(s)&&i.push(Tu.Syn),this.config.langs.antonyms.includes(t)&&i.push(Tu.Ant),this.config.langs.derivatives.includes(t)&&i.push(Tu.Deriv),i.join(",")}getDictFlags({srcLang:t,dstLang:e}){let i=du.Morpho+du.ShortPos+du.Tooltips+du.Idioms+du.Abbr;return this.settingsStorage.isOptionEnabled("familyMode")&&(i+=du.Family),e===this.config.uiLang&&(i+=du.Definitions),this.config.langs.declensions.includes(t)&&(i+=du.Declensions),i.toString()}getDictParam({srcLang:t,dstLang:e}){const i=[],n=`${t}-${e}`,s=`${t}-${t}`;return this.config.langs.dictionary.includes(n)&&i.push(`${n}.${Tu.Regular}`),this.config.langs.dictionary.includes(s)&&i.push(`${t}.${Tu.Syn}`),this.config.langs.antonyms.includes(t)&&i.push(`${t}.${Tu.Ant}`),this.config.langs.derivatives.includes(t)&&i.push(`${t}.${Tu.Deriv}`),i.join(",")}}class Pu extends Wi{constructor(t){super(t),this.source="examples",this.name="ExamplesException"}}class Lu extends Pu{constructor(){super(...arguments),this.name="ExamplesClientValidationException"}}class Iu extends Pu{constructor(){super(...arguments),this.name="ExamplesSessionException"}}class Mu extends Pu{constructor(){super(...arguments),this.name="ExamplesInvalidParamsException"}}!function(t){t.Idiom="idiom",t.Book="book",t.Series="series",t.Movie="movie",t.News="news",t.Sites="sites",t.It="IT"}(ku||(ku={}));const Au=(t,e)=>({text:t,isHighlighting:e%2!=0}),Ou=t=>{const e=t.src.split(/[<>]/),i=t.dst.split(/[<>]/),n=t.ref;return{id:t.id,srcHighlightedParts:e.map(Au),dstHighlightedParts:i.map(Au),srcText:e.join(""),dstText:i.join(""),ref:{type:n.type,author:"author"in n?n.author:"",title:"title"in n?n.title:"",translator:"translator"in n?n.translator:"",year:"year"in n?n.year:0,director:"director"in n?n.director:"",imdb:"imdb"in n?n.imdb:"",origTitle:"orig_title"in n?n.orig_title:"",url:"url"in n?n.url:""}}};function Ru(t,e={}){const i=t?.result?.examples??[];if(!t||!t.result||0===i.length)return{examples:[],tabs:[]};const n={isAll:!0,examples:[]},s=[],r=function(t){const e=[];for(const i of t){const t=i.translation?.text??"",n=xr(i.translation?.pos)?null:i.translation?.pos,s=xr(i?.pos)?null:i.pos,r={...s?{pos:s}:{},text:i.text,translation:{...t?{text:t}:{},...n?{pos:n}:{}},isHidden:i.translation?.hide??!1,isOther:i.translation?.other??!1,isIdiom:i.translation?.idiom??!1,examples:[]};e.push(r)}return e}(t.result?.tabs),a=i.filter((t=>!e[t.id]));for(const t of a){const e=Ou(t),i=r[t.tabIndex];s.push(e),n.examples?.push(e);e.ref.type===ku.News||i.examples.push(e)}return{examples:s,tabs:(r.length>1||r.some((t=>t.isHidden))?[n,...r]:r).filter((t=>!t.isHidden&&t.examples.length))}}var Du;!function(t){t[t.Debug=1]="Debug",t[t.Chunks=2]="Chunks",t[t.Lightweight=4]="Lightweight",t[t.RandomRanking=8]="RandomRanking",t[t.Learning=16]="Learning",t[t.Monoling=32]="Monoling",t[t.Stackoverflow=64]="Stackoverflow",t[t.Sites=128]="Sites"}(Du||(Du={}));class ju{constructor(t,e,i,n){this.config=t,this.settingsStorage=e,this.localesService=i,this.sessionService=n}async getExamples(t){if(!this.validateParams(t))throw new Lu(t);return await this.requestExamples(t)}async requestExamples(t){const{text:e,srcLang:i,dstLang:n}=t,s=`${i}-${n}`,r=await this.localesService.getCurrentLocale(),a=await this.sessionService.getSid(),o=br({srv:this.getSrv(),sid:a,ui:r,src:e,lang:s,flags:this.getExamplesFlags(),options:this.getExamplesOptions(),chunks:ju.API_EXAMPLES_CHUNKS_COUNT,maxlen:ju.API_EXAMPLES_MAX_LENGTH,v:ju.API_EXAMPLES_VERSION}),l=`${this.config.apiUrls.examples}?${o}`;try{return Ru(await Ll(l),{})}catch(e){const i=e,n={srcLang:t.srcLang,dstLang:t.dstLang,text:t.text,status:i.status,data:i.data};if(i.status===Yp.Forbidden)throw new Iu(n);if(i.status===Yp.BadRequest)throw new Mu(n);throw new Pu(n)}}getSrv(){const t=this.config.platform;return this.config.srv[t].trText}validateParams(t){const{text:e,srcLang:i,dstLang:n}=t;return this.validateText(e)&&this.validateLangs(i,n)}validateText(t){return Boolean(t&&!/[\n\r]/.test(t)&&t.length<=this.config.examples.maxQueryLength&&(e=t,e.trim().split(/\s+/,i)).length<=this.config.examples.maxWordsCount&&!Uc(t)&&Bc(t));var e,i}validateLangs(t,e){const i=`${t}-${e}`;return t!==e&&this.config.langs.examples.includes(i)}getExamplesFlags(){let t=du.Morpho+du.ShortPos+du.Idioms+du.Tooltips;return this.settingsStorage.isOptionEnabled("familyMode")&&(t+=du.Family),t}getExamplesOptions(){return Du.Chunks+Du.Monoling+Du.Stackoverflow+Du.Sites}}function $u(t){return"rewrite"===t?.launchType}ju.API_EXAMPLES_MAX_LENGTH=200,ju.API_EXAMPLES_VERSION=2,ju.API_EXAMPLES_CHUNKS_COUNT=1;class Fu extends Dl{constructor(t){super(),this.params=t,this.messagesPairId="",this.config=of.resolve(rf.Config),this.textTranslatorService=of.resolve(rf.TextTranslatorService),this.llmTranslatorService=of.resolve(rf.LLMTranslatorService),this.dictionaryService=of.resolve(rf.DictionaryService),this.examplesService=of.resolve(rf.ExamplesService),this.langsStorage=of.resolve(rf.LangsStorage),this.threadsStorage=of.resolve(rf.ThreadsStorage),this.langDetectService=of.resolve(rf.LangDetectService),this.messagesPairsStorage=of.resolve(rf.MessagesPairsStorage),this.messagesPairsFactory=of.resolve(rf.MessagesPairsFactory),this.settingsStorage=of.resolve(rf.SettingsStorage),this.trackingService=of.resolve(rf.TrackingService),this.experimentsService=of.resolve(rf.ExperimentsService);const{srcLang:e,dstLang:i,text:n}=this.params.payload;this.inputParams={srcLang:e,dstLang:i,text:n}}async start(t){if(super.start(t),function(t){return"retry"===t?.launchType}(this.params))this.messagesPairId=this.params.payload.messagesPairId,await this.messagesPairsStorage.updateMessagesPairStatus(this.messagesPairId,hn.Pending);else{if($u(this.params))return await this.onRewriteTask(this.params),await this.runTask(!1),void this.stop();{const t=this.messagesPairsFactory.createTextMessagesPair(this.inputParams);this.messagesPairId=t.id,await this.messagesPairsStorage.addMessagesPair(t)}}this.trackingService.trackEvent("message_create",{message_type:"text",message_id:this.messagesPairId}),await this.runTask(),this.stop()}async runTask(t=!0){if(this.settingsStorage.isOptionEnabled("autodetect")&&t&&await this.detectLanguage(),await this.fetchOutputData(),$u(this.params))return void this.trackingService.trackEvent("message_success_rewrite",{message_id:this.messagesPairId,select_type:this.params.payload.type,message_type:"text",lang_code:this.params.payload.newLang});const{langsPair:e}=this.threadsStorage.getActiveThread();await this.handleUpdateLangsPair(e)}async handleUpdateLangsPair(t){this.inputParams.srcLang===t.srcLang&&this.inputParams.dstLang===t.dstLang||await this.threadsStorage.updateThreadLangsPair(this.inputParams.srcLang,this.inputParams.dstLang)}async onRewriteTask(t){this.messagesPairId=t.payload.messagesPairId;const e=an({srcLang:this.inputParams.srcLang,dstLang:this.inputParams.dstLang},{..."src"===t.payload.type?{srcLang:t.payload.newLang}:{dstLang:t.payload.newLang}});this.inputParams.srcLang=e.srcLang,this.inputParams.dstLang=e.dstLang,await this.messagesPairsStorage.updateMessagesPairStatus(this.messagesPairId,hn.Rewriting),await this.messagesPairsStorage.updateMessagesPairsLang(this.messagesPairId,t.payload.type,t.payload.newLang)}async detectLanguage(){try{const t=await this.langDetectService.detectLanguage(this.inputParams);if(!this.config.langs.translator.includes(t))return;await this.messagesPairsStorage.changeMessagesPairLangs(this.messagesPairId,{srcLang:t});const e=this.messagesPairsStorage.getLastMessagesPair();this.messagesPairId===e?.id&&this.langsStorage.setSrcLang(t),t!==this.inputParams.srcLang&&this.changeInputSrcLang(t)}catch(t){us(t)}}changeInputSrcLang(t){const e=an({srcLang:this.inputParams.srcLang,dstLang:this.inputParams.dstLang},{srcLang:t});this.inputParams.srcLang=e.srcLang,this.inputParams.dstLang=e.dstLang,this.trackingService.trackEvent("langselect_auto",{message_type:"text"})}async fetchOutputData(){try{const[i,n,s]=await Promise.all([this.fetchTranslation(),this.fetchDictionaryData(),this.fetchExamples()]);t=n,e=i.text,t?.relatedWords?.synonyms&&(t.relatedWords.synonyms=t.relatedWords.synonyms.filter((t=>e.toLowerCase().trim()!==t.text.toLowerCase().trim()))),await this.parseFetchedData({translation:i,dictionary:n,examples:s})}catch{await this.handleTranslationError()}var t,e}async fetchTranslation(){try{return this.getTranslationService().translate(this.inputParams)}catch(t){throw us(t),Wn(),t}}async fetchDictionaryData(){try{return await this.dictionaryService.getDictionaryData(this.inputParams)}catch(t){if(t instanceof fu)return;return void us(t)}}async fetchExamples(){try{return await this.examplesService.getExamples(this.inputParams)}catch(t){if(t instanceof Lu)return;return void us(t)}}async parseFetchedData({translation:t,dictionary:e,examples:i}){this.trackingService.trackEvent("message_answer_text",{has_examples:Boolean(i?.examples.length),has_synonyms:Boolean(e?.relatedWords?.synonyms?.length),translation_id:t?.translationId??"",message_id:this.messagesPairId}),await this.messagesPairsStorage.setMessagesPairOutput(this.messagesPairId,{text:t?.text??"",dictionary:e,examples:i}),await this.messagesPairsStorage.updateMessagesPairStatus(this.messagesPairId,hn.Ready)}getTranslationService(){return this.canUseLLMTranslation()?this.llmTranslatorService:this.textTranslatorService}async handleTranslationError(){await this.messagesPairsStorage.updateMessagesPairStatus(this.messagesPairId,hn.Error),this.stop()}canUseLLMTranslation(){return!!this.experimentsService.isFlagEnabled("enable_llm_translation")&&("en"===this.inputParams.srcLang&&"ru"===this.inputParams.dstLang)}}function zu(t){return new Fu(t)}class Bu{constructor(t){this.tasksService=t}retryTextTranslation(t){const e=zu({launchType:"retry",payload:{messagesPairId:t.id,...t.input}});this.tasksService.executeTask(e)}}class Nu{constructor(t){this.callbacks=t}async hostConnected(){const t=new FontFace("Tengwar Annatar","url(https://yastatic.net/s3/translate/fnt/tngan.woff)",{style:"normal",weight:"400"});"loaded"!==t.status&&(document.fonts.add(t),this.callbacks?.onFontStatus(!1),await t.load()),"loaded"===t.status&&this.callbacks?.onFontStatus(!0)}hostDisconnected(){}}const Vu={ar:!0,fa:!0,he:!0,ur:!0,yi:!0};function Hu(t){return Vu[t]??!1}const Uu=o`
    :host {
        width: 100%;
    }

    .input-message {
        display: inline;
    }

    .input-message.elvish {
        font-family: 'Tengwar Annatar', Arial, Helvetica, sans-serif;
        line-height: var(--line-height_s);
    }

    .highlighted {
        background: var(--highlighted-color-text);
        border-radius: 3px;
    }

    .input-text {
        display: block;

        width: 100%;
    }

    .input-text.rtl {
        direction: rtl;
    }
`;var qu=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let Wu=class extends ht{get wordText(){return this.message?.input.text??""}get lineHeight(){return this.environmentContext.isMobile?"s":this.large?"xs":"m"}get fontSize(){return this.environmentContext.isMobile?"l":this.large?"2xl":"m"}get fontWeight(){return this.environmentContext.isMobile||!this.large?"regular":"medium"}get isRtl(){return Hu(this.message?.input?.srcLang??"")}get isElvish(){return this.message?.input.srcLang===on}get textAriaLabel(){return`${this.localesContext.getText("a11y_lang")} ${this.localesContext.getLangName(this.message?.input.srcLang||"")} ${this.localesContext.getText("a11y_message")} ${this.wordText}`}handleFontStatusUpdate(t){this.isElvishFontReady=t}constructor(){super(),this.large=!1,this.isElvishFontReady=!1,this.addController(new Nu({onFontStatus:this.handleFontStatusUpdate}))}render(){if(!this.message||this.isElvish&&!this.isElvishFontReady)return K;const{searchText:t}=this.searchSidebarContext,e=fr(t,this.wordText),i=mr(t,this.wordText);i&&$r(this.message?.id,this.shadowRoot);const n=e.map((e=>{const n=We({"input-message":!0,elvish:this.isElvish,highlighted:i&&e.toLowerCase()===t.toLowerCase()});return W`<span
                tabindex="0"
                aria-label=${this.textAriaLabel}
                class="${n}"
                >${e}</span
            >`}));return W`
            <ya-text
                id="${this.message?.id}"
                class="input-text"
                word-wrap
                font-size=${this.fontSize}
                line-height=${this.lineHeight}
                font-weight=${this.fontWeight}
                direction=${this.isRtl?"rtl":"ltr"}
            >
                ${n}
            </ya-text>
        `}};Wu.styles=Uu,qu([ft({attribute:"large",type:Boolean})],Wu.prototype,"large",void 0),qu([ft({attribute:"message",type:Object})],Wu.prototype,"message",void 0),qu([hi({context:di,subscribe:!0}),mt()],Wu.prototype,"localesContext",void 0),qu([hi({context:vr,subscribe:!0}),mt()],Wu.prototype,"searchSidebarContext",void 0),qu([hi({context:ur}),mt()],Wu.prototype,"environmentContext",void 0),qu([mt()],Wu.prototype,"isElvishFontReady",void 0),qu([Ue],Wu.prototype,"handleFontStatusUpdate",null),Wu=qu([pt("nt-input-text")],Wu);const Zu=o`
    .with-separator {
        position: relative;

        padding-left: var(--space_m);
    }

    .with-separator::before {
        position: absolute;
        top: 50%;
        left: calc(var(--space_xs) - var(--space_3xs));

        width: 2px;
        height: 2px;

        background-color: var(--text-tertiary);
        border-radius: var(--border-radius_max);
        content: '';
    }

    .transcription {
        padding-left: var(--space_xs);
    }
`;var Ku=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let Gu=class extends ht{constructor(){super(...arguments),this.word="",this.transcription="",this["part-of-speech"]=""}get textColor(){return this.environmentContext.isMobile?"secondary":"tertiary"}render(){return W`
            <ya-text font-size="s" line-height="m" color=${this.textColor}>
                ${this.word}
            </ya-text>
            ${this.renderTranscription()}${this.renderPartOfSpeech()}
        `}renderTranscription(){return this.transcription?W`
            <ya-text
                class="transcription"
                font-size="s"
                line-height="m"
                color=${this.textColor}
            >
                [${this.transcription}]
            </ya-text>
        `:K}renderPartOfSpeech(){if(!this["part-of-speech"])return K;const t=`part_of_speech_${this["part-of-speech"].replace(/[/ ]+/,"_")}`;const e=this.localesContext.getText(t)??this["part-of-speech"];return W`
            <ya-text
                class="with-separator"
                font-size="s"
                line-height="m"
                color=${this.textColor}
            >
                ${e}
            </ya-text>
        `}};Gu.styles=Zu,Ku([ft({attribute:"word",type:String})],Gu.prototype,"word",void 0),Ku([ft({attribute:"transcription",type:String})],Gu.prototype,"transcription",void 0),Ku([ft({attribute:"part-of-speech",type:String})],Gu.prototype,"part-of-speech",void 0),Ku([hi({context:ur}),mt()],Gu.prototype,"environmentContext",void 0),Ku([hi({context:di}),mt()],Gu.prototype,"localesContext",void 0),Gu=Ku([pt("dictionary-word-info")],Gu);const Yu=o`
    :host {
        padding: var(--space_2xs) var(--space_s);

        border-radius: var(--border-radius_4xl);
        background: var(--control-ghost-bg);

        cursor: default;
    }

    :host([interactive]) {
        transition: background-color var(--transition-duration-m);
    }

    :host([interactive]:hover) {
        background-color: var(--bg-shadow);
    }
`;var Xu=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let Ju=class extends ht{constructor(){super(...arguments),this.fontSize="m",this.lineHeight="m",this.interactive=!1}render(){return W`
            <ya-text
                font-size="${this.fontSize}"
                line-height="${this.lineHeight}"
            >
                <slot></slot>
            </ya-text>
        `}};Ju.styles=Yu,Xu([ft({attribute:"font-size",type:String})],Ju.prototype,"fontSize",void 0),Xu([ft({attribute:"line-height",type:String})],Ju.prototype,"lineHeight",void 0),Xu([ft({attribute:"interactive",type:Boolean})],Ju.prototype,"interactive",void 0),Ju=Xu([pt("ya-bubble")],Ju);const Qu=o`
    :host {
        display: flex;
        gap: var(--space_2xs);

        --collapse-button-height: 20px;
        --synonyms-bubble-height: 28px;
    }

    .synonyms {
        overflow: hidden;

        gap: var(--space_2xs);

        max-height: var(--synonyms-bubble-height);
    }

    .synonym-bubble {
        flex: 0 0 auto;
        height: var(--synonyms-bubble-height);
        box-sizing: border-box;
    }

    .collapse-button {
        display: none;

        height: var(--collapse-button-height);
        margin-top: auto;
    }

    .expand-button {
        height: var(--collapse-button-height);
        margin-top: auto;

        transform: rotateX(180deg);
    }

    :host([expanded]) .synonyms {
        max-height: unset;
    }

    :host([expanded]) .collapse-button {
        display: block;
    }

    :host([expanded]) .expand-button {
        display: none;
    }
`;var tg,eg=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let ig=tg=class extends ht{constructor(){super(...arguments),this.synonyms=[],this.expanded=!1,this.isScrollable=!1,this.handleSynonymsCollapse=()=>{this.dispatchExpandEvent(!1),this.isOldIos&&this.actionButton?.scrollIntoView(),this.actionButton?.focus()},this.handleSynonymsExpand=()=>{this.dispatchExpandEvent(!0),this.container?.focus()}}connectedCallback(){super.connectedCallback(),window.addEventListener("resize",this.handleResize),requestAnimationFrame(this.handleResize)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("resize",this.handleResize)}get synonymsLimit(){if(this.environmentContext.isDesktop)return this.synonyms;const t=this.expanded?tg.SYNONYMS_COUNT_LIMIT:tg.SYNONYMS_COUNT_COLLAPSED_LIMIT;return this.synonyms.slice(0,t)}get isExpandable(){return this.environmentContext.isDesktop?this.isScrollable:this.synonyms.length>tg.SYNONYMS_COUNT_COLLAPSED_LIMIT}get isOldIos(){return!!la()&&oa()<16}render(){return W`
            <flex-container
                class="synonyms"
                justify="start"
                align="center"
                wrap="wrap"
                aria-label=${this.getSynonymsList()}
                tabindex="0"
            >
                ${this.synonymsLimit.map((({text:t})=>W`
                        <ya-bubble
                            class="synonym-bubble"
                            font-size="s"
                            line-height="s"
                        >
                            ${t}
                        </ya-bubble>
                    `))}
            </flex-container>
            ${this.renderControls()}
        `}renderControls(){return W`
            ${this.expanded?this.renderCollapseButton():this.renderExpandButton()}
        `}renderButton(t,e,i,n){return W`
            <ya-bubble
                class=${t}
                font-size="s"
                line-height="s"
                interactive
                @click=${n}
                @keydown=${this.handleKeydown(n)}
                tabindex="0"
                role="button"
                aria-label=${i}
            >
                <ya-icon size="m"> ${Rt(e)} </ya-icon>
            </ya-bubble>
        `}renderExpandButton(){const t=this.environmentContext.isDesktop?Zt():qt();return this.isExpandable?this.renderButton("expand-button action-button",t,this.localesContext.getText("a11y_expand_btn"),this.handleSynonymsExpand):K}renderCollapseButton(){return this.isExpandable?this.renderButton("collapse-button action-button",qt(),this.localesContext.getText("a11y_collapse_btn"),this.handleSynonymsCollapse):K}handleKeydown(t){return e=>{uc(e)&&t()}}dispatchExpandEvent(t){const e=new CustomEvent("expand",{bubbles:!1,composed:!0,detail:{expanded:t}});this.dispatchEvent(e)}getSynonymsList(){const t=this.localesContext.getText("a11y_synonyms_list"),e=Math.min(this.expanded?tg.SYNONYMS_COUNT_LIMIT:tg.SYNONYMS_COUNT_COLLAPSED_LIMIT,this.synonyms.length);return`${t} ${this.synonyms.slice(0,e).map((t=>t.text)).join(", ")}`}handleResize(){this.container&&(this.isScrollable=this.container.clientHeight<this.container.scrollHeight)}};ig.styles=Qu,ig.SYNONYMS_COUNT_COLLAPSED_LIMIT=5,ig.SYNONYMS_COUNT_LIMIT=20,eg([ft({type:Array})],ig.prototype,"synonyms",void 0),eg([ft({type:Boolean})],ig.prototype,"expanded",void 0),eg([mt()],ig.prototype,"isScrollable",void 0),eg([yt(".synonyms")],ig.prototype,"container",void 0),eg([yt(".action-button")],ig.prototype,"actionButton",void 0),eg([hi({context:di,subscribe:!0}),mt()],ig.prototype,"localesContext",void 0),eg([hi({context:ur}),mt()],ig.prototype,"environmentContext",void 0),eg([Ue],ig.prototype,"handleResize",null),ig=tg=eg([pt("synonyms-list")],ig);var ng=i(8406),sg=i.n(ng),rg=i(6767),ag=i.n(rg),og=i(2542),lg=i.n(og),cg=i(3015),hg=i.n(cg),dg=i(8452),pg=i.n(dg),ug=i(5954),gg=i.n(ug),fg=i(6223),mg=i.n(fg);const vg=o`
    .ref-image {
        flex-shrink: 0;

        width: var(--space_3xl);
        height: var(--space_3xl);

        border-radius: var(--border-radius_max);
        background-color: var(--bg-border);
    }

    .container.mobile .ref-image {
        width: var(--space_xl);
        height: var(--space_xl);

        background-color: transparent;
    }

    .container.mobile .ref-icon {
        color: var(--accents-graphite);
    }

    .container.mobile .ref-info {
        display: flex;
        gap: var(--space_xs);
        flex-direction: row;
        justify-content: flex-start;
        align-items: center;
    }

    .example-text_highlighted {
        font-weight: var(--font-weight_medium);
        background-color: var(--control-ghost-bg);
    }

    .container.mobile .example-text_highlighted {
        font-weight: var(--font-weight_regular);
    }

    .secondary-tooltip-text {
        color: var(--light-grey);
    }

    .container.mobile .text-parts_dst {
        margin-bottom: var(--space_2xs);
    }
`;var yg=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let xg=class extends ht{render(){const t=We({container:!0,mobile:this.environmentContext.isMobile}),e=this.environmentContext.isMobile?"column":"row",i=this.environmentContext.isMobile?"xs":"s";return W`
            <flex-container
                class=${t}
                direction=${e}
                justify="start"
                gap=${i}
            >
                <div class="ref-info">
                    ${this.renderRefImage()} ${this.renderRefInfo()}
                </div>
                <flex-container
                    direction="column"
                    justify="start"
                    align="start"
                    gap="none"
                >
                    ${this.renderDstText()} ${this.renderSrcText()}
                </flex-container>
            </flex-container>
        `}renderRefInfo(){return this.environmentContext.isDesktop?K:W`
            <ya-text
                font-size="s"
                line-height="s"
                font-weight="medium"
                color="graphite"
            >
                ${this.getRefTooltipText()}
            </ya-text>
        `}renderRefImage(){const t=this.getRefIcon(),e=this.getRefTooltipText(),i=this.getRefTooltipSecondaryText(),n=this.environmentContext.isMobile,s=We({"ref-image":!0,mobile:n});return W`
            <nt-tooltip
                ?show-tail=${n}
                ?show-by-touch=${n}
                shape="round"
                horizontal-position=${n?"right":"center"}
                y-shift=${n?10:8}
                tabindex="0"
            >
                <span slot="title">${e} ${i}</span>
                <flex-container
                    justify="center"
                    align="center"
                    class=${s}
                >
                    <ya-icon class="ref-icon" size="xl" color="secondary">
                        ${Rt(t)}
                    </ya-icon>
                </flex-container></nt-tooltip
            >
        `}getRefTooltipSecondaryText(){const t=this.example?.ref?.type,e=this.example?.ref?.translator||"";if(!e)return"";switch(t){case ku.Series:case ku.Movie:case ku.Book:return Ts(this.localesContext.getText("example_ref_translator"),e);default:return""}}getRefTooltipText(){const t=this.example?.ref?.type,e=this.example?.ref?.title||"",i=this.example?.ref?.author||"",n=this.example?.ref?.director||"";switch(t){case ku.Series:return Ts(this.localesContext.getText("reference_show"),e,n);case ku.Movie:return Ts(this.localesContext.getText("reference_movie"),e,n);case ku.Book:return Ts(this.localesContext.getText("reference_book"),i,e);case ku.Sites:return`${this.localesContext.getText("example_ref_site_title")} ${e}`;case ku.Idiom:return this.localesContext.getText("idiom_example_explanation");case ku.It:case ku.News:return this.localesContext.getText("reference_auto_translated");default:return""}}getRefIcon(){const t=this.example?.ref?.type;return t===ku.Idiom?ag():t===ku.Series?gg():t===ku.Movie?hg():t===ku.News?pg():t===ku.Sites?mg():t===ku.It?lg():sg()}renderSrcText(){if(!this.example?.srcHighlightedParts)return K;const t=W`${this.example.srcHighlightedParts.map((({text:t,isHighlighting:e})=>{const i=We({"example-text":!0,"example-text_highlighted":e});return W`
                    <ya-text
                        class="${i}"
                        font-size="s"
                        line-height="s"
                        color="tertiary"
                    >
                        ${t}
                    </ya-text>
                `}))}`;return W`
            <div class="text-parts text-parts_src">${t}</div>
        `}renderDstText(){if(!this.example?.dstHighlightedParts)return K;const t=W`${this.example.dstHighlightedParts.map((({text:t,isHighlighting:e})=>{const i=We({"example-text":!0,"example-text_highlighted":e});return W`
                    <ya-text class="${i}" font-size="s" line-height="s">
                        ${t}
                    </ya-text>
                `}))}`;return W`
            <div class="text-parts text-parts_dst">${t}</div>
        `}};xg.styles=vg,yg([ft({attribute:"example",type:Object})],xg.prototype,"example",void 0),yg([hi({context:di}),mt()],xg.prototype,"localesContext",void 0),yg([hi({context:ur})],xg.prototype,"environmentContext",void 0),xg=yg([pt("example-item")],xg);const bg=o`
    :host {
        --bubble-button-height: 28px;

        display: flex;
        gap: var(--space_s);

        justify-content: space-between;
        align-items: end;
    }

    .open-button {
        width: 100%;
    }

    .action-button-wrap {
        align-self: flex-start;

        height: var(--space_3xl);
    }
`;var wg,_g=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let Cg=wg=class extends ht{constructor(){super(...arguments),this.examples=[],this.expanded=!1}render(){const t=this.getExamplesList();if(!t.length)return K;if(!this.expanded&&this.environmentContext.isMobile)return this.renderOpenButton();const e=this.environmentContext.isMobile?"m":"l";return W`
            <flex-container
                class="examples"
                direction="column"
                gap=${e}
                aria-label=${this.getExamplesAudioList()}
                tabindex="0"
            >
                ${t.map((t=>W`
                        <example-item
                            tabindex="-1"
                            .example=${t}
                        ></example-item>
                    `))}
            </flex-container>
            ${this.renderControls()}
        `}renderOpenButton(){const t=this.localesContext.getText("examples_header");return W`
            <ya-button
                class="open-button"
                view="secondary"
                full-width
                size="l"
                label=${t}
                @click=${this.handleExamplesExpand}
            >
                <ya-text
                    font-size="s"
                    line-height="s"
                    font-weight="medium"
                    slot="text"
                >
                    ${t}
                </ya-text>
            </ya-button>
        `}renderControls(){if(this.environmentContext.isMobile)return K;return this.examples.length>wg.NON_EXPANDED_EXAMPLES_COUNT_LIMIT?W`
                  <flex-container class="action-button-wrap" align="center">
                      ${this.renderActionButton()}
                  </flex-container>
              `:K}renderActionButton(){const t=this.localesContext.getText("a11y_expand_btn"),e=this.localesContext.getText("a11y_collapse_btn");return this.expanded?W`
                  <ya-bubble
                      class="action-button"
                      font-size="s"
                      line-height="s"
                      interactive
                      @click=${this.handleExamplesCollapse}
                      @keydown=${this.handleKeyDown}
                      role="button"
                      tabindex="0"
                      aria-label=${e}
                  >
                      <ya-icon size="m">
                          ${Rt(qt())}
                      </ya-icon>
                  </ya-bubble>
              `:W`
                  <ya-bubble
                      class="action-button"
                      font-size="s"
                      line-height="s"
                      interactive
                      @click=${this.handleExamplesExpand}
                      @keydown=${this.handleKeyDown}
                      tabindex="0"
                      aria-label=${t}
                  >
                      <ya-icon size="m">
                          ${Rt(Zt())}
                      </ya-icon>
                  </ya-bubble>
              `}handleKeyDown(t){uc(t)&&(t.preventDefault(),this.expanded?this.handleExamplesCollapse():this.handleExamplesExpand())}getExamplesList(){return this.expanded?this.examples.slice(0,wg.EXPANDED_EXAMPLES_COUNT_LIMIT):this.examples.slice(0,wg.NON_EXPANDED_EXAMPLES_COUNT_LIMIT)}dispatchExpandEvent(t){const e=new CustomEvent("expand",{bubbles:!1,composed:!0,detail:{expanded:t}});this.dispatchEvent(e)}async handleExamplesCollapse(){this.expanded=!1,this.dispatchExpandEvent(!1),await this.updateComplete,this.actionButton?.focus()}async handleExamplesExpand(){this.expanded=!0,this.dispatchExpandEvent(!0),await this.updateComplete,this.examplesContainer?.focus()}getExamplesAudioList(){const t=this.localesContext.getText("a11y_examples_list"),e=Math.min(this.expanded?wg.EXPANDED_EXAMPLES_COUNT_LIMIT:wg.NON_EXPANDED_EXAMPLES_COUNT_LIMIT,this.examples.length);return`${t} ${this.examples.slice(0,e).map((t=>`${t.srcText} ${t.dstText}`)).join(", ")}`}};Cg.styles=bg,Cg.NON_EXPANDED_EXAMPLES_COUNT_LIMIT=1,Cg.EXPANDED_EXAMPLES_COUNT_LIMIT=3,_g([ft({type:Array})],Cg.prototype,"examples",void 0),_g([ft({type:Boolean})],Cg.prototype,"expanded",void 0),_g([yt(".examples")],Cg.prototype,"examplesContainer",void 0),_g([yt(".action-button")],Cg.prototype,"actionButton",void 0),_g([hi({context:ur})],Cg.prototype,"environmentContext",void 0),_g([hi({context:di,subscribe:!0}),mt()],Cg.prototype,"localesContext",void 0),Cg=wg=_g([pt("examples-list")],Cg);const Sg=o`
    :host {
        width: 100%;
    }

    .main-text {
        column-gap: var(--space_s);
        row-gap: var(--space_xs);

        width: 100%;
    }

    .output-message {
        display: inline;
    }

    .text-info-wrapper {
        width: 100%;
    }

    .message-text.large {
        text-align: start;
    }

    .extra-info {
        margin-top: var(--space_xl);

        width: 100%;
    }

    .section-header {
        flex: 0 0 auto;
        width: 140px;
    }

    .synonyms-section,
    .examples-section,
    .synonyms,
    .examples {
        width: 100%;
    }

    .controls {
        -webkit-user-select: none;

        flex: 0 0 auto;
    }

    .wrap.mobile .main-text {
        flex-direction: column;
        gap: var(--space_s);
    }

    .wrap.mobile .extra-info {
        margin-top: var(--space_m);
        padding-top: 0;
    }

    .wrap.mobile .extra-info.with-separator {
        padding-top: var(--space_s);

        border-top: 1px solid var(--control-ghost-bg);
    }

    .wrap.mobile .synonyms-section,
    .wrap.mobile .examples-section {
        gap: var(--space_s);
    }

    .wrap.mobile .examples-section.expanded {
        padding-top: var(--space_s);
        border-top: 1px solid var(--control-ghost-bg);
    }

    .wrap.mobile .section-header {
        width: auto;
    }

    .wrap.elvish {
        font-family: 'Tengwar Annatar', Arial, Helvetica, sans-serif;
        line-height: var(--line-height_s);
    }

    .highlighted {
        background: var(--highlighted-color-text);
        border-radius: 3px;
    }
`;var Tg=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let kg=class extends ht{get mainTextLineHeight(){return this.environmentContext.isMobile?"s":this.large?"xs":"m"}get mainTextFontSize(){return this.environmentContext.isMobile?"l":this.large?"2xl":"m"}get mainTextFontWeight(){return this.large?"medium":"regular"}get blockTitleLineHeight(){return this.environmentContext.isMobile?"m":"s"}get blockTitleColor(){return this.environmentContext.isMobile?"secondary":"primary"}get outputText(){return this.message?.output?.text}get dictionaryGroups(){return this.message?.output?.dictionary?.dictionaryGroups??[]}get synonyms(){return this.message?.output?.dictionary?.relatedWords?.synonyms??[]}get examples(){return this.message?.output?.examples?.examples??[]}get messagesPairId(){return this.message?.id}get isRtl(){return Hu(this.message?.input?.dstLang??"")}get isElvish(){return this.message?.input.dstLang===on}get textAriaLabel(){return`${this.localesContext.getText("a11y_lang")} ${this.localesContext.getLangName(this.message?.input.dstLang||"")} ${this.localesContext.getText("a11y_message")} ${this.outputText}`}handleFontStatusUpdate(t){this.isElvishFontReady=t,t&&this.isElvish&&this.handleSizeChange()}constructor(){super(),this.large=!1,this["is-error"]=!1,this.areSynonymsExpanded=!1,this.areExamplesExpanded=!1,this.isElvishFontReady=!1,this.trackingService=of.resolve(rf.TrackingService),this.addController(new Nu({onFontStatus:this.handleFontStatusUpdate}))}get hasSynonyms(){return Boolean(this.synonyms?.length)}get hasExamples(){return Boolean(this.examples?.length)}get hasExtraInfo(){return this.hasSynonyms||this.hasExamples}render(){if(this["is-error"])return this.renderError();if(this.isElvish&&!this.isElvishFontReady)return K;const t=We({wrap:!0,mobile:this.environmentContext.isMobile,elvish:this.isElvish});return W`
            <flex-container class=${t} direction="column" align="start">
                <flex-container
                    class="main-text"
                    align="start"
                    justify="space-between"
                    wrap="wrap"
                >
                    ${this.renderTextWithInfo()}
                </flex-container>
                ${this.renderExtraInfo()}
            </flex-container>
        `}renderTextWithInfo(){return W`
            <flex-container
                direction="column"
                gap="2xs"
                class="text-info-wrapper"
            >
                ${this.renderWordText()} ${this.renderWordInfo()}
            </flex-container>
        `}renderError(){return W`
            <ya-button
                size="xl"
                view="stroke"
                @click=${this.handleRetryButtonClick}
            >
                <ya-text slot="text"
                    >${this.localesContext.getText("retry")}</ya-text
                >
            </ya-button>
        `}handleRetryButtonClick(){const t=new CustomEvent("retry-click");this.dispatchEvent(t)}renderWordText(){const{searchText:t}=this.searchSidebarContext,e=fr(t,this.outputText),i=mr(t,this.outputText);this.messagesPairId&&i&&$r(this.messagesPairId,this.shadowRoot);const n=We({"output-message":!0,highlighted:i}),s=e.map((e=>e.toLowerCase()===t?W`<span
                      tabindex="0"
                      aria-label=${this.textAriaLabel}
                      class="${n}"
                      >${e}</span
                  >`:W`<span
                      tabindex="0"
                      aria-label=${this.textAriaLabel}
                      class="input-message"
                      >${e}</span
                  >`));return W`
            <ya-text
                id="${this.messagesPairId??""}"
                word-wrap
                class="message-text"
                font-size=${this.mainTextFontSize}
                line-height=${this.mainTextLineHeight}
                font-weight=${this.mainTextFontWeight}
                direction=${this.isRtl?"rtl":"ltr"}
            >
                ${s}
            </ya-text>
        `}renderWordInfo(){const t=Dh(this.dictionaryGroups);return t?W`
            <dictionary-word-info
                .word="${t.text}"
                .transcription="${t.transcription}"
                .part-of-speech="${t.partOfSpeech}"
            ></dictionary-word-info>
        `:K}renderExtraInfo(){if(!this.hasExtraInfo)return K;const t=this.environmentContext.isMobile?"l":"m",e=this.environmentContext.isMobile&&this.hasExamples&&this.hasSynonyms,i=We({"extra-info":!0,"with-separator":e});return W`
            <flex-container
                class="${i}"
                direction="column"
                gap="${t}"
            >
                ${this.renderSynonyms()} ${this.renderExamples()}
            </flex-container>
        `}renderSynonyms(){if(!this.synonyms?.length)return K;const t=this.environmentContext.isMobile?"column":"row",e=this.environmentContext.isMobile?"start":"center";return W`
            <flex-container
                class="synonyms-section"
                direction=${t}
                align=${e}
                gap="2xl"
            >
                <ya-text
                    class="section-header"
                    font-size="s"
                    line-height="${this.blockTitleLineHeight}"
                    color="${this.blockTitleColor}"
                    text-align="start"
                >
                    ${this.localesContext.getText("synonyms_header")}
                </ya-text>
                <synonyms-list
                    ?expanded=${this.areSynonymsExpanded}
                    .synonyms=${this.synonyms}
                    @expand=${this.handleSynonymsExpandChange}
                ></synonyms-list>
            </flex-container>
        `}renderExamples(){const t=this.settingsContext.getBannedExamplesIds(),e=this.examples.filter((e=>!t.has(e.id)));if(!e.length)return K;const i=We({"examples-section":!0,expanded:this.areExamplesExpanded}),n=this.environmentContext.isDesktop?"row":"column";return W`
            <flex-container
                class=${i}
                direction=${n}
                align="start"
                gap="2xl"
            >
                ${this.renderExamplesHeader()}
                <examples-list
                    class="examples"
                    ?expanded=${this.areExamplesExpanded}
                    .examples=${e}
                    @expand=${this.handleExamplesExpandChange}
                ></examples-list>
            </flex-container>
        `}renderExamplesHeader(){return!this.areExamplesExpanded&&this.environmentContext.isMobile?K:W`
            <ya-text
                class="section-header"
                font-size="s"
                line-height="${this.blockTitleLineHeight}"
                color="${this.blockTitleColor}"
                text-align="start"
            >
                ${this.localesContext.getText("examples_header")}
            </ya-text>
        `}handleSizeChange(){const t=new CustomEvent("size-change");this.dispatchEvent(t)}handleSynonymsExpandChange(t){this.areSynonymsExpanded=t.detail.expanded;const e=t.detail.expanded?"message_text_synonyms_expand":"message_text_synonyms_collapse";this.trackingService.trackEvent(e,{message_id:this.messagesPairId??""}),this.environmentContext.isMobile||this.handleSizeChange()}handleExamplesExpandChange(t){this.areExamplesExpanded=t.detail.expanded;const e=t.detail.expanded?"message_text_examples_expand":"message_text_examples_collapse";this.trackingService.trackEvent(e,{message_id:this.messagesPairId??""}),this.handleSizeChange()}};kg.styles=Sg,Tg([ft({type:Boolean})],kg.prototype,"large",void 0),Tg([ft({type:Object})],kg.prototype,"message",void 0),Tg([ft({attribute:"vote",type:String})],kg.prototype,"vote",void 0),Tg([ft({type:Boolean,attribute:"isError"})],kg.prototype,"is-error",void 0),Tg([mt()],kg.prototype,"areSynonymsExpanded",void 0),Tg([mt()],kg.prototype,"areExamplesExpanded",void 0),Tg([mt()],kg.prototype,"isElvishFontReady",void 0),Tg([hi({context:vr,subscribe:!0}),mt()],kg.prototype,"searchSidebarContext",void 0),Tg([hi({context:di,subscribe:!0}),mt()],kg.prototype,"localesContext",void 0),Tg([hi({context:ur}),mt()],kg.prototype,"environmentContext",void 0),Tg([hi({context:pi,subscribe:!0}),mt()],kg.prototype,"settingsContext",void 0),Tg([Ue],kg.prototype,"handleFontStatusUpdate",null),kg=Tg([pt("nt-output-text")],kg);class Eg{constructor(t){this.tasksService=t}handleChangeLangMessage(t){const{messagesPair:e}=t;vn(e)&&this.changeLangText(e,t),yn(e)&&this.changeLangImage(e,t),bn(e)&&this.changeLangDoc(e,t),xn(e)&&this.changeLangSite(e,t)}async changeLangText(t,e){const{newLang:i,type:n}=e,s=zu({launchType:"rewrite",payload:{type:n,newLang:i,messagesPairId:t.id,...t.input}});this.tasksService.executeTask(s)}changeLangImage(t,e){const{newLang:i,type:n}=e,s=nc({launchType:"rewrite",payload:{type:n,newLang:i,messagesPairId:t.id,...t.input}});this.tasksService.executeTask(s)}changeLangDoc(t,e){if(!t.input.file)return;const i=Nl({launchType:"rewrite",payload:{type:e.type,newLang:e.newLang,messagesPair:t,...t.input,file:t.input.file}});this.tasksService.executeTask(i)}changeLangSite(t,e){const{newLang:i,type:n}=e,s=Ap({launchType:"rewrite",payload:{type:n,newLang:i,messagesPairId:t.id,...t.input}});this.tasksService.executeTask(s)}}const Pg=/^(https?:\/\/)?(([\w\-\u0430-\u045f]+\.)+(ac|academy|ae|aero|agency|ai|am|amsterdam|app|ar|art|asia|at|au|az|ba|be|bg|biz|blog|blue|bot|br|buzz|by|ca|cards|cc|center|ch|chat|cl|cloud|club|cn|co|codes|coffee|com|company|computer|cy|cz|data|de|design|dev|dk|download|dz|edu|ee|eg|email|es|eu|fi|finance|flags|fm|foundation|fr|fun|games|ge|gg|gle|global|google|gov|gr|group|guide|guru|help|hk|hr|hu|id|ie|il|im|in|info|institute|int|io|iq|ir|is|ismaili|it|jp|kg|kr|kz|la|li|life|link|live|love|lt|lu|lv|ly|md|me|media|men|mil|mk|ml|mn|moe|moscow|mx|name|net|network|news|ng|nl|no|nz|one|onion|online|org|page|party|ph|pl|plus|porn|post|press|pro|pt|pub|red|ro|rs|ru|run|sa|sc|science|se|sg|sh|shop|si|site|sk|so|social|space|su|tatar|team|tech|th|tips|tj|to|top|town|tr|travel|tv|tw|ua|uk|us|uz|vc|video|vip|vn|work|works|world|ws|xn--p1ai|xxx|xyz|yandex|za|zone|))(:\d+)?(\/\S*)?\.(jpg|jpeg|png|gif|svg|webp|bmp|tiff)$/i;async function Lg(t){const e=await fetch(t);if(!e.ok)throw new Error("Failed to fetch image");return e.arrayBuffer()}class Ig{constructor(t,e,i){this.langsStorage=t,this.tasksService=e,this.trackingService=i}async handleMainInputTextSubmit(t){const{text:e,onInvalidTextLength:i,onSuccess:n}=t;var s;if(e.length<=1e4)if(n?.(),this.trackingService.trackEvent("main_input_submit"),!(s=e).includes(".")||s.includes(" ")||/\s/.test(s)||!Pg.test(s))Uc(e)?this.executeUrlTranslation(t):this.executeTextTranslation(t);else try{let i;const n=performance.now();try{i=await Lg(e)}catch{const t=Rr(e);i=await Lg(t)}const s=e.split("/").pop()||"image",r=i.byteLength,a=e.substring(e.lastIndexOf(".")+1),o={srcLang:t.srcLang,dstLang:t.dstLang,fileName:s,fileSize:r,fileType:a,file:i},l=performance.now();this.executeImageUrlTranslation(o,l-n)}catch(t){}else i?.()}executeImageUrlTranslation(t,e){const i=nc({launchType:"default",payload:{...t,preparationDuration:e}});this.tasksService.executeTask(i)}executeUrlTranslation(t){const{srcLang:e,dstLang:i,text:n}=t,s=Ap({launchType:"default",payload:{srcLang:e,dstLang:i,url:n}});this.tasksService.executeTask(s)}executeTextTranslation(t){const{srcLang:e,dstLang:i,text:n}=t,s=zu({launchType:"default",payload:{...{srcLang:e,dstLang:i,text:n}}});this.langsStorage.addLangToHistory("src",e),this.langsStorage.addLangToHistory("dst",i),this.tasksService.executeTask(s)}}class Mg{constructor(t){this.expFlagsValuesMap=new Map,this.parseConfigFlags(t)}getExpFlagValue(t){return this.expFlagsValuesMap.get(t)}parseConfigFlags(t){if(t)for(const[e,i]of Object.entries(t))this.expFlagsValuesMap.set(e,i)}}class Ag{constructor(){this.expFlagsValuesMap=new Map,this.parseUrlParams()}getExpFlagValue(t){return this.expFlagsValuesMap.get(t)}parseUrlParams(){const t=new URL(document.location.href),e=decodeURIComponent(t.searchParams.get(Ag.EXP_FLAGS_QUERY_PARAM)??"").split(",");for(const t of e)this.expFlagsValuesMap.set(t,!0)}}Ag.EXP_FLAGS_QUERY_PARAM="exp_flags";class Og{constructor(t){this.providers=[],this.addProvider(new Ag),this.addProvider(new Mg(t.flags))}isFlagEnabled(t){for(const e of this.providers){const i=e.getExpFlagValue(t);if(void 0!==i)return i}return!1}addProvider(t){this.providers.push(t)}}class Rg extends Wi{constructor(){super(...arguments),this.source="session",this.name="SessionException"}}class Dg extends Rg{constructor(){super(...arguments),this.name="SessionGettingException"}}class jg{constructor(t){this.config=t,this.lastSidGettingTimestamp=Date.now()}async getSid(){const t=Date.now()-this.lastSidGettingTimestamp>=this.config.sessionTTL;return this.sid&&!t||(this.sid=await this.getNewSid(),this.lastSidGettingTimestamp=Date.now()),this.sid}async getNewSid(){try{return function(){const t=Date.now().toString(16);return t+new Array(16-t.length).fill(null).map((()=>Math.floor(16*Math.random()).toString(16))).join("")}()}catch{throw new Dg}}}class $g{constructor(t){this.experimentService=t,this.experimentService.isFlagEnabled("enable_chat_sounds")&&(this.inputAudio=new Audio($g.INPUT_AUDIO_SOURCE))}async playInput(){this.inputAudio?.play()}}$g.INPUT_AUDIO_SOURCE="https://yastatic.net/s3/translate/outcome-message.mp3";class Fg extends Wi{constructor(t){super(t),this.source="lang-detect",this.name="LangDetectException"}}class zg extends Fg{constructor(){super(...arguments),this.name="LangDetectRequestException"}}var Bg;!function(t){t[t.Keyboard=1]="Keyboard"}(Bg||(Bg={}));class Ng{constructor(t,e){this.config=t,this.sessionService=e}async detectLanguage(t){const{text:e,srcLang:i,dstLang:n}=t,s=`${i},${n}`,r=br({sid:await this.sessionService.getSid(),srv:this.getSrv(),text:e.trim().slice(0,Ng.TEXT_LIMIT),options:Bg.Keyboard,hint:s}),a=`${this.config.apiUrls.langDetect}?${r}`;try{return(await Ll(a)).lang}catch{throw new zg({text:e,hint:s})}}getSrv(){const t=this.config.platform;return this.config.srv[t].trText}}async function Vg(){await Promise.all([Hg(),Ug()])}async function Hg(){const t=document;if(t.prerendering)return new Promise((e=>{t.addEventListener("prerenderingchange",e,{once:!0})}))}async function Ug(){if("complete"!==document.readyState)return new Promise((t=>{window.addEventListener("load",(()=>t()))}))}Ng.TEXT_LIMIT=100;class qg{constructor(t,e,i,n){this.config=t,this.langsStorage=e,this.threadsStorage=i,this.sessionService=n,this.isPageReady=function(){const t=document;return Boolean(!t.prerendering&&"complete"===t.readyState)}(),this.isPageReady||this.handlePageReady()}async handlePageReady(){await Vg(),this.isPageReady=!0}async getCommonTrackingParams(){const{srcLang:t,dstLang:e}=this.langsStorage.getLangsPair();return{ver:this.config.ver,sid:await this.sessionService.getSid(),srv:"yabro-translate",platform:this.config.platform,load_ts:this.config.loadTimestamp,cur_ts:Date.now(),dir:`${t}-${e}`,chat_id:this.getChatId(),is_page_ready:this.isPageReady?"1":"0",is_page_hidden:document.hidden}}getChatId(){try{return this.threadsStorage.getActiveThread().id}catch(t){return"0"}}}class Wg extends qg{async logEvent(t,e){const i={key:t,payload:e};(new Image).src=await this.getLink(i)}async getLink(t){const e={...await this.getCommonTrackingParams(),key:t.key,cid:Wg.GENERIC_CID,dtype:Wg.DTYPE_PARAM,pid:Wg.PID,path:`${Wg.BASE_PATH}${this.config.platform}`};for(const i in t.payload)e[i]=t.payload[i];const i={};for(const t in e){const n=e[t];if("cid"===t)i.cid=n;else{i[`${Wg.KEY_PREFIX}${t}`]=n}}const n=br(i,"/");return`${this.config.tracking.trackingUrl}${n}/*`}}Wg.KEY_PREFIX="ytr_",Wg.GENERIC_CID="74186",Wg.DTYPE_PARAM="stred",Wg.PID="453",Wg.BASE_PATH="yabro_translate";class Zg extends qg{async logEvent(t,e){const i=await this.getCommonTrackingParams();console.log("EVENT LOGGED:",t,{...i,...e})}}class Kg extends qg{async logEvent(t,e){if(!window.yandex?.statistics?.send)return;const i={...await this.getCommonTrackingParams(),...e};window.yandex.statistics.send(Kg.CLIENT_ID,{[t]:i})}}Kg.CLIENT_ID="ntp_translate";class Gg extends qg{async logEvent(t,e){const i=t.toUpperCase(),n=await this.getCommonTrackingParams(),s="mobile"===this.config.platform,r={event_name:t,payload:{...n,...e}};window.sendMetrikaGoal(i,s?void 0:r),s&&window.sendMetrikaHit(window.location.href,{title:document.title,referer:document.referrer,params:r})}}class Yg{constructor(t,e,i,n){this.config=t,this.langStorage=e,this.threadsStorage=i,this.sessionService=n,this.trackingProviders=[];const s="desktop"===this.config.platform;"mobile"===this.config.platform&&this.addProvider(new Wg(this.config,this.langStorage,this.threadsStorage,this.sessionService)),s&&this.addProvider(new Kg(this.config,this.langStorage,this.threadsStorage,this.sessionService)),"prod"===this.config.env&&this.addProvider(new Gg(this.config,this.langStorage,this.threadsStorage,this.sessionService)),this.isVisualLogEnabled&&this.addProvider(new Zg(this.config,this.langStorage,this.threadsStorage,this.sessionService))}trackEvent(t,e){for(const i of this.trackingProviders)i.logEvent(t,e)}addProvider(t){this.trackingProviders.push(t)}get isVisualLogEnabled(){return-1!==document.location.href.indexOf("log=1")}}class Xg{closeTab(){try{window.yandex?.neuro?.closeTab()}catch(t){}}async getApplicationLocale(){let t;try{return t=await(window.yandex?.neuro?.getApplicationLocale()),t}catch{return Qe}}}class Jg{constructor(t,e,i,n){this.config=t,this.langStorage=e,this.settingsStorage=i,this.localesService=n;const s=window.yandex?.neuro?.translate;s?this.yabroApiBridge=s:"dev"===this.config.env&&(console.error("Wrong enviroment! Did not find yandex.neuro.translate api bridge"),this.yabroApiBridge={setOmniboxSubmitTextListener:t=>{window.submitOmniboxValue=t},showLanguagePicker:async(...t)=>(console.log(JSON.stringify(t,void 0,2)),await new Promise((t=>setTimeout(t,1e3))),{src:t[0],dst:t[1],autodetect:t[7]})})}isApiAvailable(){return Boolean(this.yabroApiBridge)}onOmniboxTextSubmit(t){if(!this.isApiAvailable())throw new Error("Wrong enviroment! Mobile api is not available");this.yabroApiBridge?.setOmniboxSubmitTextListener(t)}showLanguagePicker({direction:t}){if(!this.isApiAvailable())throw new Error("Wrong enviroment! Mobile api is not available");const{srcLang:e,dstLang:i}=this.langStorage.getLangsPair(),n="src"===t,{srcRecentLangs:s,dstRecentLangs:r}=this.getRecentLangs(),a=this.getAllLangs(),o=this.settingsStorage.isOptionEnabled("autodetect");return this.yabroApiBridge.showLanguagePicker(e,i,n,a,a,s,r,o)}getRecentLangs(){const{srcLang:t,dstLang:e}=this.langStorage.getLangsPair(),i=this.langStorage.getLangsHistory("src"),n=this.langStorage.getLangsHistory("dst");return{srcRecentLangs:i.filter((e=>e!==t)),dstRecentLangs:n.filter((t=>t!==e))}}getAllLangs(){let t=this.config.langs.translator;return ca()&&(t=t.filter((t=>"kv"!==t))),t.sort(((t,e)=>this.localesService.getLangName(t)>this.localesService.getLangName(e)?1:-1))}}class Qg{constructor(){this.requestsCountersMap=new Map}getRequestsCounter(t){return this.requestsCountersMap.get(t)??0}increaseRequestsCounter(t){const e=this.getRequestsCounter(t);this.requestsCountersMap.set(t,e+1)}}var tf=i(5364),ef=i.n(tf);const nf={apiUrls:{textTranslation:"https://translate.yandex.net/api/v1/tr.json/translate",langDetect:"https://translate.yandex.net/api/v1/tr.json/detect",siteTranslation:"https://translate.yandex.ru/translate",dictionary:"https://dictionary.yandex.net/dicservice.json/lookupMultiple",examples:"https://dictionary.yandex.net/dicservice.json/queryCorpus",llmTranslation:"https://translate.yandex.net/api/v1/tr.json/translate",createDocTranslationTask:"https://translate.yandex.net/doc/api/v1.0/translate-async/create-task",checkDocTranslationTaskStatus:"https://translate.yandex.net/doc/api/v1.0/translate-async/task-status",finalizeDocTranslationTask:"https://translate.yandex.net/doc/api/v1.0/translate-async/finalize-task",uniproxy:"wss://uniproxy.alice.yandex.net/uni.ws"},speechkitKey:"bf4277fc-06c0-405a-b278-b796bbbd3f27",maxNativeTTSLength:300,maxUniproxyTTSLength:300,env:"unknown",ver:"26.6",platform:"desktop",loadTimestamp:Date.now(),srv:{desktop:{trText:"yabrowser-tr-text-app",trImage:"yabrowser-tr-image-app",trUrl:"yabrowser-tr-url-app",trDoc:"yabrowser-tr-doc-app"},mobile:{trText:"mbrowser-tr-text-app",trImage:"mbrowser-tr-image-app",trUrl:"mbrowser-tr-url-app",trDoc:"mbrowser-tr-doc-app"}},uiLang:"ru",sessionTTL:36e5,tracking:{yaMetrikaId:97891316,trackingUrl:"https://yandex.ru/clck/click/",errorBoosterProjectName:"translate-neuro"},langs:{translator:["af","am","ar","az","ba","be","bg","bn","bs","ca","ceb","cs","cv","cy","da","de","el","emj","en","eo","es","et","eu","fa","fi","fr","ga","gd","gl","gu","he","hi","hr","ht","hu","hy","id","is","it","ja","jv","ka","kazlat","kk","km","kn","ko","kv","ky","la","lb","lo","lt","lv","mg","mhr","mi","mk","ml","mn","mr","mrj","ms","mt","my","ne","nl","no","pa","pap","pl","pt","pt-BR","ro","ru","sah","si","sjn","sk","sl","sq","sr","sr-Latn","su","sv","sw","ta","te","tg","th","tl","tr","tt","udm","uk","ur","uz","uzbcyr","vi","xh","yi","zh","zu"],dictionary:["be-be","be-ru","bg-ru","cs-cs","cs-en","cs-ru","da-en","da-ru","de-de","de-en","de-ru","de-tr","el-en","el-ru","emj-en","emj-es","emj-fr","emj-it","emj-pt","emj-ru","emj-tr","en-cs","en-da","en-de","en-el","en-en","en-es","en-et","en-fi","en-fr","en-it","en-lt","en-lv","en-nl","en-no","en-pt","en-pt-BR","en-ru","en-sk","en-sv","en-tr","en-uk","es-en","es-es","es-ru","et-en","et-ru","fi-en","fi-fi","fi-ru","fr-en","fr-fr","fr-ru","hu-hu","hu-ru","it-en","it-it","it-ru","lt-en","lt-lt","lt-ru","lv-en","lv-ru","mhr-ru","mrj-ru","nl-en","nl-ru","no-en","no-ru","pl-ru","pt-en","pt-ru","ru-be","ru-bg","ru-cs","ru-da","ru-de","ru-el","ru-en","ru-es","ru-et","ru-fi","ru-fr","ru-hu","ru-it","ru-lt","ru-lv","ru-mhr","ru-mrj","ru-nl","ru-no","ru-pl","ru-pt","ru-pt-BR","ru-ru","ru-sk","ru-sv","ru-tr","ru-tt","ru-uk","ru-zh","sk-en","sk-ru","sv-en","sv-ru","tr-de","tr-en","tr-ru","tt-ru","uk-en","uk-ru","uk-uk","zh-ru"],antonyms:["cs","en","ru"],derivatives:["cs","en","ru"],declensions:["de","en","es","fr","it","pt"],examples:["de-en","de-es","de-ru","de-tr","en-de","en-es","en-fr","en-id","en-it","en-pt","en-ru","en-tr","es-en","es-fr","es-ru","fr-en","fr-ru","id-en","id-ru","it-en","it-es","it-ru","pt-en","pt-es","pt-ru","ru-de","ru-en","ru-es","ru-fr","ru-id","ru-it","ru-pt","ru-tr","tr-de","tr-en","tr-ru"]},dictionary:{maxQueryLength:100,maxWordsCount:8},examples:{maxQueryLength:100,maxWordsCount:7},flags:{enable_image_translation:!0,enable_blur_text_erasure:!0,enable_doc_translation:!0,enable_llm_translation:!0,enable_image_llm_translation:!0,enable_tts_cv_lang:!0,enable_asr_cv_lang:!0}},sf=(ef()({},nf,{env:"dev"}),ef()({},nf,{env:"prod"}));var rf,af=i(236);!function(t){t[t.Config=0]="Config",t[t.TextTranslatorService=1]="TextTranslatorService",t[t.LLMTranslatorService=2]="LLMTranslatorService",t[t.SiteTranslatorService=3]="SiteTranslatorService",t[t.ImageTranslatorService=4]="ImageTranslatorService",t[t.DocumentTranslatorService=5]="DocumentTranslatorService",t[t.LocalesService=6]="LocalesService",t[t.TasksService=7]="TasksService",t[t.LangDetectService=8]="LangDetectService",t[t.DictionaryService=9]="DictionaryService",t[t.ExamplesService=10]="ExamplesService",t[t.TrackingService=11]="TrackingService",t[t.ExperimentsService=12]="ExperimentsService",t[t.YabroMobileApiService=13]="YabroMobileApiService",t[t.SoundService=14]="SoundService",t[t.TTSService=15]="TTSService",t[t.ASRService=16]="ASRService",t[t.SessionService=17]="SessionService",t[t.YandexApiService=18]="YandexApiService",t[t.MessagesPairsFactory=19]="MessagesPairsFactory",t[t.ThreadsFactory=20]="ThreadsFactory",t[t.MessagesPairsStorage=21]="MessagesPairsStorage",t[t.LangsStorage=22]="LangsStorage",t[t.SettingsStorage=23]="SettingsStorage",t[t.MessagesPairsVotesStorage=24]="MessagesPairsVotesStorage",t[t.IndexedDbStorage=25]="IndexedDbStorage",t[t.RequestsCounterStorage=26]="RequestsCounterStorage",t[t.ThreadsStorage=27]="ThreadsStorage",t[t.UserInputInteractor=28]="UserInputInteractor",t[t.AcceptFileInteractor=29]="AcceptFileInteractor",t[t.ChangeLangMessageInteractor=30]="ChangeLangMessageInteractor",t[t.DocumentsTranslationInteractor=31]="DocumentsTranslationInteractor",t[t.ImagesTranslationInteractor=32]="ImagesTranslationInteractor",t[t.TextTranslationInteractor=33]="TextTranslationInteractor",t[t.Uniproxy=34]="Uniproxy",t[t.FileRepository=35]="FileRepository",t[t.MessagesPairVoteRepository=36]="MessagesPairVoteRepository",t[t.MessagesPairRepository=37]="MessagesPairRepository",t[t.ThreadRepository=38]="ThreadRepository"}(rf||(rf={}));const of=function(){const t=new af.Container;return t.registerValue(rf.Config,sf),t.registerClass(rf.TextTranslatorService,cu,[rf.Config,rf.RequestsCounterStorage,rf.SessionService]),t.registerClass(rf.LLMTranslatorService,ru,[rf.Config,rf.RequestsCounterStorage,rf.SessionService]),t.registerSingleton(rf.ImageTranslatorService,Xl,[rf.Config,rf.SessionService,rf.ExperimentsService]),t.registerClass(rf.SiteTranslatorService,Lp,[rf.Config]),t.registerClass(rf.DocumentTranslatorService,Rl,[rf.Config,rf.SessionService]),t.registerSingleton(rf.LocalesService,ni,[rf.YandexApiService]),t.registerClass(rf.TasksService,pr,[]),t.registerClass(rf.LangDetectService,Ng,[rf.Config,rf.SessionService]),t.registerClass(rf.DictionaryService,Eu,[rf.Config,rf.SettingsStorage,rf.LocalesService,rf.SessionService]),t.registerClass(rf.ExamplesService,ju,[rf.Config,rf.SettingsStorage,rf.LocalesService,rf.SessionService]),t.registerClass(rf.TrackingService,Yg,[rf.Config,rf.LangsStorage,rf.ThreadsStorage,rf.SessionService]),t.registerClass(rf.ExperimentsService,Og,[rf.Config]),t.registerClass(rf.YabroMobileApiService,Jg,[rf.Config,rf.LangsStorage,rf.SettingsStorage,rf.LocalesService]),t.registerClass(rf.SoundService,$g,[rf.ExperimentsService]),t.registerSingleton(rf.SessionService,jg,[rf.Config]),t.registerClass(rf.MessagesPairsFactory,Vn,[rf.ThreadsStorage]),t.registerClass(rf.ThreadsFactory,ps,[rf.LocalesService]),t.registerSingleton(rf.MessagesPairsStorage,Rs,[rf.ThreadsStorage,rf.MessagesPairRepository,rf.FileRepository,rf.TrackingService]),t.registerSingleton(rf.LangsStorage,mn,[]),t.registerSingleton(rf.SettingsStorage,bi,[]),t.registerSingleton(rf.MessagesPairsVotesStorage,ir,[rf.MessagesPairVoteRepository]),t.registerSingleton(rf.IndexedDbStorage,Gi,[]),t.registerSingleton(rf.RequestsCounterStorage,Qg,[]),t.registerSingleton(rf.ThreadsStorage,gs,[rf.ThreadsFactory,rf.ThreadRepository,rf.LocalesService,rf.Config]),t.registerSingleton(rf.TTSService,Ch,[rf.Config,rf.Uniproxy,rf.ExperimentsService]),t.registerSingleton(rf.ASRService,xp,[rf.Uniproxy,rf.ExperimentsService]),t.registerClass(rf.UserInputInteractor,Ig,[rf.LangsStorage,rf.TasksService,rf.TrackingService]),t.registerClass(rf.AcceptFileInteractor,Ld,[rf.TasksService,rf.ExperimentsService,rf.SettingsStorage]),t.registerClass(rf.ChangeLangMessageInteractor,Eg,[rf.TasksService]),t.registerClass(rf.DocumentsTranslationInteractor,Vl,[rf.TasksService,rf.MessagesPairsStorage]),t.registerClass(rf.ImagesTranslationInteractor,sc,[rf.TasksService]),t.registerClass(rf.TextTranslationInteractor,Bu,[rf.TasksService]),t.registerSingleton(rf.YandexApiService,Xg,[]),t.registerFactory(rf.Uniproxy,nh,[rf.Config]),t.registerSingleton(rf.FileRepository,rn,[rf.IndexedDbStorage]),t.registerSingleton(rf.MessagesPairVoteRepository,dr,[rf.IndexedDbStorage]),t.registerSingleton(rf.MessagesPairRepository,Gs,[rf.IndexedDbStorage,rf.FileRepository,rf.MessagesPairVoteRepository]),t.registerSingleton(rf.ThreadRepository,Ss,[rf.IndexedDbStorage,rf.MessagesPairRepository]),t}();var lf=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};class cf{constructor(t,e){this.getLocalesContext=t,this.setLocalesContext=e,this.localesService=of.resolve(rf.LocalesService),this.setLocalesContext(this.getInitialLocalesContext()),this.initLocalesSystem()}disconnect(){}getInitialLocalesContext(){return{isLocalesReady:!1,getText:t=>this.localesService.getText(t),getLangName:t=>this.localesService.getLangName(t),getLangNameGenitive:t=>this.localesService.getLangNameGenitive(t)}}async initLocalesSystem(){await this.localesService.initLocalesSystem(),this.setLocalesContext({...this.getLocalesContext(),isLocalesReady:!0})}}lf([Ue],cf.prototype,"getInitialLocalesContext",null),lf([Ue],cf.prototype,"initLocalesSystem",null);const hf=o`
    .button-wrapper {
        font-family: inherit;
        font-weight: inherit;

        display: flex;
        justify-content: center;
        align-items: center;

        padding: 0;
        border: none;

        transition: background-color var(--transition-duration-m);
    }

    /* size */

    :host([size='l']) .button-wrapper {
        min-width: var(--space_xl);
        height: calc(var(--space_2xl) + var(--space_2xs));

        font-size: var(--size_s);
        line-height: var(--line-height_s);
    }

    :host([size='m']) .button-wrapper {
        min-width: var(--space_xl);
        height: var(--space_xl);
        padding: calc(var(--space_2xs) + var(--space_3xs)) var(--space_xs)
            calc(var(--space_2xs) + var(--space_3xs)) var(--space_2xs);

        font-size: var(--size_s);
        line-height: var(--line-height_s);
    }

    :host([size='m']) .button-wrapper.only-icon {
        padding: var(--space_xs) calc(var(--space_2xs) + var(--space_3xs));
    }

    :host([size='xl']) .button-wrapper {
        min-width: calc(var(--space_xl) + var(--space_2xs));
        height: calc(var(--space_xl) + var(--space_2xs));
        padding: 0 var(--space_s);

        font-size: var(--size_s);
        line-height: var(--line-height_s);
    }

    :host([size='xl']) .button-wrapper.only-icon {
        width: calc(var(--space_xl) + var(--space_2xs));
    }

    :host([size='2xl']) .button-wrapper {
        min-width: var(--space_2xl);
        height: var(--space_2xl);
    }

    :host([size='2xl']) .button-wrapper.only-icon {
        width: var(--space_2xl);
    }

    :host([size='2xl']) .button-wrapper:not(.only-icon) {
        padding: var(--space_xs);
    }

    :host([size='3xl']) .button-wrapper {
        min-width: calc(var(--space_2xl) + var(--space_2xs));
        height: calc(var(--space_2xl) + var(--space_2xs));
        padding: 0 var(--space_s);

        font-size: var(--size_s);
        line-height: var(--line-height_s);
    }

    :host([size='3xl']) .button-wrapper.only-icon {
        width: calc(var(--space_2xl) + var(--space_2xs));
    }

    :host([size='4xl']) .button-wrapper {
        min-width: var(--size_4xl);
        height: var(--size_4xl);
        padding: 0 var(--space_xs);
    }

    :host([size='full']) .button-wrapper {
        width: 100%;
        height: 50%;
        padding: 0 var(--space_s);

        font-size: var(--size_s);
        line-height: var(--line-height_s);
    }

    :host([size='full']) .button-wrapper.only-icon {
        width: 100%;
    }

    /* view */

    :host([view='primary']) .button-wrapper {
        color: var(--control-primary-text);
        background-color: var(--control-primary-bg);
    }

    :host([view='secondary']) .button-wrapper {
        color: var(--control-clear-text);
        background-color: var(--fill_6);
    }

    :host([view='clear']) .button-wrapper {
        color: var(--control-clear-text);
        background-color: var(--control-clear-bg);
    }

    :host([view='none']) .button-wrapper {
        color: var(--control-clear-text);
        background-color: var(--control-clear-bg);
    }

    :host([view='active']) .button-wrapper {
        color: var(--control-active-text);
        background-color: var(--control-active-bg);
    }

    :host([view='graphite']) .button-wrapper {
        color: var(--text-primary);
        background-color: var(--accents-graphite);
    }

    :host([view='graphite']) .button-wrapper:hover {
        background-color: var(--accents-graphite-hover);
    }

    :host([view='stroke']) .button-wrapper {
        color: var(--control-clear-text);
        background-color: var(--control-stroke-bg);
    }

    :host([view='white']) .button-wrapper {
        color: var(--text-primary);
        background-color: var(--bg-secondary);
    }

    :host([view='white']) .button-wrapper:hover {
        background-color: var(--bg-sidebar);
    }

    :host([view='white']) .button-wrapper:active {
        color: var(--text-secondary);
        background-color: var(--bg-secondary);
    }

    :host([view='sensetive']) .button-wrapper {
        color: var(--text-primary);
        background-color: var(--bg-secondary);
    }

    :host([view='sensetive']) .button-wrapper:hover {
        background-color: var(--bg-sensetive);
    }

    /* shape */

    :host([shape='default']) .button-wrapper {
        border-radius: var(--border-radius_m);
    }

    :host([shape='round']) .button-wrapper {
        border-radius: var(--border-radius_max);
    }

    :host([shape='angular']) .button-wrapper {
        border-radius: var(--border-radius_xs);
    }

    :host([shape='brick']) .button-wrapper {
        border-radius: 0;
    }

    /* width */

    :host([full-width]) .button-wrapper {
        width: 100%;
    }

    :host([full-height]) .button-wrapper {
        height: 100%;
    }

    /* shadow */

    :host([shadow]) .button-wrapper {
        box-shadow: 0px 4px 16px 0px var(--control-stroke-bg-shadow);
    }

    /* highlight */

    :host([highlight='light']) {
        -webkit-tap-highlight-color: var(--bg-border-dark);
    }

    :host([highlight='transparent']) {
        -webkit-tap-highlight-color: transparent;
    }

    /* content position */

    :host([position='start']) .button-wrapper {
        justify-content: start;
    }

    :host([position='center']) .button-wrapper {
        justify-content: center;
    }

    :host([position='end']) .button-wrapper {
        justify-content: end;
    }

    /* padding */

    :host([no-padding]) .button-wrapper {
        padding: 0;
    }

    @media (pointer: fine) {
        /* cursor */

        :host([initial-cursor]) .button-wrapper {
            cursor: initial;
        }

        :host([view='clear']) .button-wrapper:hover {
            color: var(--control-clear-text-hover);
            background-color: var(--bg-shadow);
        }

        :host([view='clear']) .button-wrapper:active {
            background-color: var(--control-ghost-bg-active);
        }

        :host([view='active']) .button-wrapper:hover {
            color: var(--control-active-text);
            background-color: var(--control-active-bg-hover);
        }

        :host([view='stroke']) .button-wrapper:hover {
            color: var(--control-clear-text);
            background-color: var(--control-stroke-bg-hover);
        }
    }

    :host .button-wrapper:disabled:hover,
    :host .button-wrapper:disabled {
        background-color: transparent;
        color: var(--bg-disabled);
        cursor: default;
    }

    :host([pulse-animation]) .button-wrapper {
        background-color: var(--control-ghost-bg-hover);
        box-shadow: 0 0 0 transparent;

        animation: pulse 1.8s infinite;
    }

    @keyframes pulse {
        0% {
            box-shadow: 0 0 0 0 var(--control-ghost-bg);
        }

        80% {
            box-shadow: 0 0 0 12px transparent;
        }

        100% {
            box-shadow: 0 0 0 0 transparent;
        }
    }
`;var df=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};const pf={xl:"m","2xl":"xl"};let uf=class extends ht{constructor(){super(...arguments),this.size="m",this["pulse-animation"]=!1,this.view="clear",this.shape="default",this.gap="none",this["full-width"]=!1,this["full-height"]=!1,this.disabled=!1,this.position="center",this.shadow=!1,this.highlight="light",this.label="",this.ariaPressed=null,this["initial-cursor"]=!1,this.hasIcon=!1,this.hasText=!1}focus(){this.button?.focus()}render(){const t=We({"button-wrapper":!0,"only-icon":this.hasIcon&&!this.hasText,"full-width":this["full-width"],"full-height":this["full-height"],"initial-cursor":this["initial-cursor"]}),e=`${this.label} ${this.getAriaPressedText()}`;return W`
            <button
                ?disabled=${this.disabled}
                class="${t}"
                part="button-wrapper"
                role="button"
                type="button"
                aria-label="${Xr(e)}"
            >
                <flex-container
                    role="none"
                    justify="center"
                    align="center"
                    gap="${this.gap}"
                >
                    <slot
                        @slotchange=${t=>this.handleSlotChange("icon",t)}
                        name="icon"
                    ></slot>
                    <slot
                        @slotchange=${t=>this.handleSlotChange("text",t)}
                        name="text"
                    ></slot>
                    <slot
                        @slotchange=${t=>this.handleSlotChange("icon-right",t)}
                        name="icon-right"
                    ></slot>
                </flex-container>
            </button>
        `}handleSlotChange(t,e){const i=e.target.assignedNodes({flatten:!0}),n=Boolean(i&&i.length);"icon"!==t&&"icon-right"!==t?this.hasText=n:this.hasIcon=n}getAriaPressedText(){return this.ariaPressed?"false"===this.ariaPressed?this.localesContext.getText("a11y_btn_not_selected"):this.localesContext.getText("a11y_btn_selected"):""}};uf.styles=hf,df([yt(".button-wrapper")],uf.prototype,"button",void 0),df([ft({attribute:"size",reflect:!0,type:String})],uf.prototype,"size",void 0),df([ft({type:Boolean})],uf.prototype,"pulse-animation",void 0),df([ft({attribute:"view",type:String})],uf.prototype,"view",void 0),df([ft({attribute:"shape",reflect:!0,type:String})],uf.prototype,"shape",void 0),df([ft({attribute:"gap",type:String})],uf.prototype,"gap",void 0),df([ft({attribute:"full-width",type:Boolean})],uf.prototype,"full-width",void 0),df([ft({attribute:"full-height",type:Boolean})],uf.prototype,"full-height",void 0),df([ft({reflect:!0,type:Boolean})],uf.prototype,"disabled",void 0),df([ft({attribute:"position",type:String})],uf.prototype,"position",void 0),df([ft({attribute:"shadow",type:Boolean})],uf.prototype,"shadow",void 0),df([ft({attribute:"highlight",reflect:!0,type:String})],uf.prototype,"highlight",void 0),df([ft({attribute:"label",type:String})],uf.prototype,"label",void 0),df([ft({attribute:"aria-pressed",type:String,reflect:!0})],uf.prototype,"ariaPressed",void 0),df([ft({attribute:"no-padding",type:Boolean})],uf.prototype,"no-padding",void 0),df([ft({attribute:"initial-cursor",type:Boolean,reflect:!0})],uf.prototype,"initial-cursor",void 0),df([mt()],uf.prototype,"hasIcon",void 0),df([mt()],uf.prototype,"hasText",void 0),df([hi({context:di,subscribe:!0}),mt()],uf.prototype,"localesContext",void 0),uf=df([pt("ya-button")],uf);const gf=o`
    :host {
        -webkit-user-select: none;
    }
`;var ff=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let mf=class extends ht{constructor(){super(...arguments),this.buttonSize="xl",this.iconSize="s"}render(){const t=this.localesContext.getText("a11y_swap_button");return W`
            <ya-button view="clear" size=${this.buttonSize} label=${t}>
                <ya-icon slot="icon" size=${this.iconSize} color="primary">
                    ${Rt(Gt())}
                </ya-icon>
            </ya-button>
        `}};mf.styles=gf,ff([ft({attribute:"button-size",type:String})],mf.prototype,"buttonSize",void 0),ff([ft({attribute:"icon-size",type:String})],mf.prototype,"iconSize",void 0),ff([hi({context:di,subscribe:!0}),mt()],mf.prototype,"localesContext",void 0),mf=ff([pt("languages-swap-button")],mf);const vf=o`
    :host {
        user-select: none;
        display: flex;
    }
    .badge {
        display: flex;
        padding: var(--space_3xs) var(--space_xs);
        background-image: var(--ya-gradient-accents-gpt);
        border-radius: var(--border-radius_2xl);
    }

    .badge-text {
        background-image: var(--ya-gradient-accents-neuro-flip);
        color: transparent;
        -webkit-background-clip: text;
        background-clip: text;
    }
`;var yf=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let xf=class extends ht{render(){const t=ha(),e=this.localesContext.getText("yandex_gpt_tooltip"),i=t?this.localesContext.getText("yandex_gpt_translate__short"):this.localesContext.getText("yandex_gpt_translate");return W`<nt-tooltip
            show-tail
            ?disabled=${!t}
            ?show-by-touch=${t}
            y-shift=${t?10:6}
            tabindex="0"
            horizontal-position="right"
            .text=${e}
        >
            <span class="badge"
                ><ya-text class="badge-text" font-size="xs"
                    >${i}</ya-text
                ></span
            >
        </nt-tooltip>`}};xf.styles=vf,yf([hi({context:di,subscribe:!0}),mt()],xf.prototype,"localesContext",void 0),xf=yf([pt("badge-ygpt")],xf);const bf=o`
    /* mobile */
    @media (pointer: coarse) and (max-width: 900px) {
        :host {
            background-color: var(--mobile-langs-container-bg);
        }
    }
`;var wf=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};const _f=["en-ru"];let Cf=class extends ht{constructor(){super(...arguments),this.trackingService=of.resolve(rf.TrackingService)}render(){const t=ha(),{buttonSize:e,iconSize:i}=this.getSwapButtonProps(),n=this.langsContext.langsPair,s=`${n.srcLang}-${n.dstLang}`,r=_f.includes(s),a=W` ${
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
function(t,e,i){return t?e(t):i?.(t)}(r,(()=>W`<badge-ygpt></badge-ygpt>`))}`;return W`
            <flex-container
                class="container"
                gap="2xs"
                justify="space-between"
                align="center"
            >
                <slot name="src-button"></slot>
                <nt-tooltip
                    .text=${this.localesContext.getText("swap_langs")}
                    y-shift="8"
                >
                    <languages-swap-button
                        button-size=${e}
                        icon-size=${i}
                        @keydown=${this.handleSwapButtonKeyDown}
                        @click=${this.handleSwapButtonClick}
                    ></languages-swap-button>
                </nt-tooltip>
                <slot name="dst-button"></slot>
                ${t?K:a}
            </flex-container>
        `}handleSwapButtonKeyDown(t){uc(t)&&(t.preventDefault(),this.handleSwapButtonClick())}handleSwapButtonClick(){this.trackingService.trackEvent("langs_swap"),this.langsContext.swapLangs()}getSwapButtonProps(){return this.environmentContext.isMobile?{buttonSize:"4xl",iconSize:"m"}:{buttonSize:"xl",iconSize:"s"}}};Cf.styles=bf,wf([hi({context:di,subscribe:!0}),mt()],Cf.prototype,"localesContext",void 0),wf([hi({context:cn,subscribe:!0}),mt()],Cf.prototype,"langsContext",void 0),wf([hi({context:ur,subscribe:!0}),mt()],Cf.prototype,"environmentContext",void 0),Cf=wf([pt("languages-select")],Cf);class Sf{constructor(t){this.host=t,this.host.addController(this)}hostConnected(){this.host.addEventListener("focusin",this.dispatchFocusEvent),this.host.addEventListener("focusout",this.dispatchFocusEvent)}hostDisconnected(){this.host.removeEventListener("focusin",this.dispatchFocusEvent),this.host.removeEventListener("focusout",this.dispatchFocusEvent)}dispatchFocusEvent(t){const e=new CustomEvent("focus-event",{detail:{type:t.type,target:t.target},bubbles:!0,composed:!0});window.dispatchEvent(e)}}const Tf=o`
    .container {
        box-sizing: border-box;
        align-items: center;
        margin: var(--space_xs) var(--space_xs) var(--space_xs) var(--space_m);
    }

    .button-icon {
        flex-shrink: 0;
        padding-bottom: 2px;
    }

    .icon {
        color: var(--text-tertiary);
    }

    .search {
        flex-grow: 1;
        flex-shrink: 1;

        width: 100%;
        min-width: 0;

        color: var(--text-primary);
        font-weight: var(--font-weight_regular);
        font-size: var(--size_s);
        line-height: var(--line-height_s);

        font-style: normal;
        font-family: inherit;
        font-variant: inherit;

        background: transparent;
        border: none;
    }

    .search::placeholder {
        color: var(--text-tertiary);
    }

    .search:focus {
        outline-width: 0;
    }

    .clear-button {
        flex-grow: 0;
        flex-shrink: 0;

        box-sizing: border-box;

        color: var(--bg-border-light-weight);
        transition: color 0.3s ease;
    }

    .clear-button,
    .clear-icon_color {
        color: var(--bg-border-light-weight);
    }

    .clear-icon_color:hover,
    .clear-button:hover {
        color: initial;
    }
`;var kf=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let Ef=class extends ht{constructor(){super(...arguments),this.trackingService=of.resolve(rf.TrackingService),this.autofocus=!1}updated(){if(this.autofocus){const t=this.getInputElement();t&&t.focus()}}connectedCallback(){super.connectedCallback(),this.historySearchController=new Sf(this),document.addEventListener("clear-search",this.clearInputFromEvent),document.addEventListener("focus-search",this.setFocusFromEvent)}disconnectedCallback(){document.removeEventListener("clear-search",this.clearInputFromEvent),document.removeEventListener("focus-search",this.setFocusFromEvent)}render(){const t=this.localesContext.getText("search");return W`
            <flex-container class="container">
                <ya-button
                    tabindex="-1"
                    class="button-icon"
                    view="none"
                    size="xl"
                    shape="default"
                    initial-cursor
                    @click="${this.establishFocus}"
                >
                    <ya-icon class="icon" slot="icon" size="s" color="primary">
                        ${Rt(ue())}
                    </ya-icon>
                </ya-button>
                <input
                    class="search"
                    type="text"
                    id="thread-to-find"
                    autocomplete="off"
                    tabindex="0"
                    value="${this["nt-search-text"]}"
                    @input="${this.handleInput}"
                    placeholder="${t}"
                    @focusin="${this.establishFocus||this.autofocus}"
                />
                ${this["nt-search-text"]?W`
                          <ya-button
                              view="clear"
                              size="xl"
                              class="clear-button"
                              label=${this.localesContext.getText("clear")}
                              initial-cursor
                              @click="${this.clearInput}"
                          >
                              <ya-icon slot="icon" class="clear-icon_color">
                                  ${Rt($e())}
                              </ya-icon>
                          </ya-button>
                      `:K}
            </flex-container>
            <div class="bottom-line"></div>
        `}handleInput(t){const e=t.target;clearTimeout(this.changeSearchTimer),clearTimeout(this.handleTrackingSearchTimer),this.changeSearchTimer=setTimeout((()=>{this.handleChangeSearchText(e.value.toLowerCase().trim())}),400),this.handleTrackingSearchTimer=setTimeout((()=>{this.trackingSearch(e.value.length.toString(),e.value.toLowerCase().trim())}),1e3)}trackingSearch(t,e){"sidebar"===this.type?this.trackingService.trackEvent("chat_search",{textLength:t}):this.trackingService.trackEvent("languages_search",{textLength:t,lang:e,chatId:this["thread-id"]||""})}getInputElement(){const t=this.shadowRoot?.querySelector(".search");return t}establishFocus(t){const e=this.getInputElement();if(e){e.focus();const i=t.target;if(i.value){const t=i?.value.toLowerCase().trim();this.handleChangeSearchText(t)}}}clearInput(){const t=this.getInputElement();t&&t.value&&(t.value="",this.handleChangeSearchText(""),t.focus())}handleChangeSearchText(t){const e=new CustomEvent("search-text-changed",{detail:{searchText:t}});this.dispatchEvent(e)}setFocusFromEvent(t){const e=this.getInputElement(),{type:i}=t.detail;e&&this.type===i&&e.focus()}clearInputFromEvent(t){const{type:e}=t.detail;this.type===e&&this.clearInput()}};Ef.styles=Tf,kf([hi({context:di,subscribe:!0}),mt()],Ef.prototype,"localesContext",void 0),kf([ft({attribute:"nt-search-text",type:String})],Ef.prototype,"nt-search-text",void 0),kf([ft({attribute:"type",type:String})],Ef.prototype,"type",void 0),kf([ft({attribute:"autofocus",type:Boolean})],Ef.prototype,"autofocus",void 0),kf([ft({attribute:"thread-id",type:String})],Ef.prototype,"thread-id",void 0),kf([Ue],Ef.prototype,"setFocusFromEvent",null),kf([Ue],Ef.prototype,"clearInputFromEvent",null),Ef=kf([pt("nt-search")],Ef);const Pf=o`
    :host {
        position: fixed;
    }

    .popup {
        position: relative;
        display: flex;
        min-width: 160px;
        height: auto;
        margin: var(--space_2xs) 0;

        border-radius: calc(var(--border-radius_m) + var(--border-radius_3xs));
    }

    .wrapper {
        width: 100%;
        padding: var(--space_xs);
    }

    .action-button {
        width: 100%;

        border-radius: calc(var(--border-radius_m) + var(--border-radius_3xs));
    }
`;var Lf=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let If=class extends ht{constructor(){super(...arguments),this.localesService=of.resolve(rf.LocalesService),this.trackingService=of.resolve(rf.TrackingService),this.open=!1,this["is-delete-action-disabled"]=!1}dispatchCloseEvent(){this.dispatchEvent(new Event("close"))}stopPropagation(t){t.stopPropagation()}handleRenameClick(){const t=new Event("rename-click");this.dispatchEvent(t)}async handleDeleteClick(){const t=new Event("delete-click");this.dispatchEvent(t),this.dispatchCloseEvent(),this.trackingService.trackEvent("chat_deleted",{chatId:this["thread-id"]})}async updated(){await this.updateComplete,this.open&&this.firstActionButton&&this.firstActionButton.focus()}render(){if(!this.open)return K;const t=this["is-delete-action-disabled"]?"disabled":"primary";return W`
            <ya-popup
                ?open=${this.open}
                @click="${this.stopPropagation}"
                class="popup"
                .anchor-nodes=${[this["button-actions-element"]]}
                @request-close=${this.dispatchCloseEvent}
            >
                <flex-container
                    class="wrapper"
                    direction="column"
                    justify="start"
                    align="center"
                >
                    <ya-button
                        class="action-button"
                        position="start"
                        full-width
                        size="xl"
                        shape="default"
                        view="clear"
                        gap="xs"
                        @click=${this.handleRenameClick}
                    >
                        <ya-icon slot="icon" size="m" color="primary">
                            ${Rt(fe())}
                        </ya-icon>
                        <ya-text slot="text" font-size="s" line-height="xs">
                            ${this.localesService.getText("rename")}
                        </ya-text>
                    </ya-button>

                    <ya-button
                        class="action-button"
                        position="start"
                        .disabled="${this["is-delete-action-disabled"]}"
                        full-width
                        size="xl"
                        shape="default"
                        view="clear"
                        gap="xs"
                        @click=${this.handleDeleteClick}
                    >
                        <ya-icon
                            slot="icon"
                            size="m"
                            color="${t}"
                        >
                            ${Rt(oe())}
                        </ya-icon>
                        <ya-text
                            slot="text"
                            font-size="s"
                            line-height="xs"
                            color="${t}"
                        >
                            ${this.localesService.getText("delete")}
                        </ya-text>
                    </ya-button>
                </flex-container>
            </ya-popup>
        `}};If.styles=Pf,Lf([ft({reflect:!0,type:Boolean})],If.prototype,"open",void 0),Lf([ft({type:String})],If.prototype,"thread-id",void 0),Lf([ft({attribute:"is-delete-action-disabled",type:Boolean})],If.prototype,"is-delete-action-disabled",void 0),Lf([ft({attribute:"button-actions-element",type:Object})],If.prototype,"button-actions-element",void 0),Lf([yt(".action-button")],If.prototype,"firstActionButton",void 0),Lf([yt(".delete-button")],If.prototype,"buttonElement",void 0),If=Lf([pt("nt-threads-context-menu")],If);const Mf=t=>{if(t){const e=t.value.length;t.setSelectionRange(e,e),t.focus()}};class Af{constructor(t){this.host=t,this.host.addController(this)}hostConnected(){this.host.addEventListener("focusin",this.dispatchFocusEvent),this.host.addEventListener("focusout",this.dispatchFocusEvent)}hostDisconnected(){this.host.removeEventListener("focusin",this.dispatchFocusEvent),this.host.removeEventListener("focusout",this.dispatchFocusEvent)}dispatchFocusEvent(t){const e=new CustomEvent("focus-event",{detail:{type:t.type,target:t.target},bubbles:!0,composed:!0});window.dispatchEvent(e)}}const Of=o`
    .title {
        background: none;
        outline: none;
        border: 0;

        padding: 2px 2px 2px 0;

        white-space: nowrap;
        text-overflow: ellipsis;

        width: 100%;
        font-size: var(--size_s);
        font-family: inherit;
        color: inherit;
    }

    input.title:disabled {
        pointer-events: none;
    }

    input.title:enabled {
        display: flex;

        border-radius: 4px;

        outline: 1px solid var(--bg-disabled);
        outline-offset: 2px;
    }

    .rtl-lang {
        direction: rtl;
        text-align: right;
    }
`;var Rf=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let Df=class extends ht{constructor(){super(...arguments),this.trackingService=of.resolve(rf.TrackingService),this["thread-id"]="",this["thread-title"]="",this["is-rename-enabled"]=!1,this["src-lang"]="",this.currentThreadTitle=""}connectedCallback(){super.connectedCallback(),this.threadTitleController=new Af(this),document.addEventListener("mousedown",this.handleDocumentClick,!0)}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("mousedown",this.handleDocumentClick,!0)}async updated(t){t.has("is-rename-enabled")&&this.threadTitleElement&&!0===this["is-rename-enabled"]&&(await this.updateComplete,requestAnimationFrame((()=>{Mf(this.threadTitleElement)}))),t.has("thread-title")&&this.currentThreadTitle!==this["thread-title"]&&(await this.updateComplete,this.currentThreadTitle=this["thread-title"]??"")}render(){const t=We({title:!0,"rtl-lang":Hu(this["src-lang"])});return W`
            <input
                class="${t}"
                type="text"
                ?disabled="${!this["is-rename-enabled"]}"
                @input="${this.handleChangeTitle}"
                autocomplete="off"
                .value="${this["is-rename-enabled"]?this.currentThreadTitle:this["thread-title"]}"
                maxlength="${40}"
                @keydown="${this.onConfirmKeydown}"
            />
        `}handleChangeTitle(t){const e=t.target;this.currentThreadTitle=e.value}async onConfirmKeydown(t){const{shiftKey:e}=t;(function(t){return"Space"===t.code})(t)&&t.stopImmediatePropagation(),fc(t)||fc(t)&&e?(t.preventDefault(),t.stopPropagation(),await this.saveThreadTitle(),this.resetFocus()):gc(t)&&(this.cancelThreadTitleChange(),this.resetFocus())}async saveThreadTitle(){const t=this.localesContext.getText("thread_renamed"),e=ks(this.threadsContext.getThreadsList(),this.localesContext.getText("untitled"));this.currentThreadTitle||(this.currentThreadTitle=e),this.currentThreadTitle.trim()!==this["thread-title"]&&(await this.threadsContext.updateThreadTitle(this["thread-id"]??"",this.currentThreadTitle),this["thread-id"]&&(this.appNotificationContext.showSuccessNotification({text:t,autoHide:!0,position:"sidebar"}),await this.threadsContext.updateThreadIsRenamed(this["thread-id"],this.currentThreadTitle!==e),this.getSelectedTheadId()?.isEmpty&&await this.threadsContext.updateThreadIsEmpty(this["thread-id"],!1),this.dispatchRenameIsSucessfull(),this.trackingService.trackEvent("chat_renamed",{chatId:this["thread-id"]})))}resetFocus(){var t;this["is-rename-enabled"]=!1,this.dispatchRenameDisabledEvent(),(t=this.threadTitleElement)&&(t.scrollLeft=0,t.blur())}cancelThreadTitleChange(){Mf(this.threadTitleElement),this.currentThreadTitle=this["thread-title"]??""}getSelectedTheadId(){return this.threadsContext.getThreadsList().find((t=>t.id===this["thread-id"]))}async handleDocumentClick(t){const e=t.composedPath(),i=this.threadTitleElement&&e.includes(this.threadTitleElement)&&this["is-rename-enabled"],n=!e.includes(this)&&this["is-rename-enabled"];i?t.stopImmediatePropagation():n&&(await this.saveThreadTitle(),this.resetFocus())}dispatchRenameDisabledEvent(){this.dispatchEvent(new CustomEvent("rename-disabled",{detail:{isRenameEnabled:this["is-rename-enabled"]},bubbles:!0,composed:!0}))}dispatchRenameIsSucessfull(){this.dispatchEvent(new CustomEvent("rename-sucessfull",{bubbles:!0,composed:!0}))}};var jf;Df.styles=Of,Rf([hi({context:cs})],Df.prototype,"threadsContext",void 0),Rf([hi({context:di})],Df.prototype,"localesContext",void 0),Rf([hi({context:Hn}),mt()],Df.prototype,"appNotificationContext",void 0),Rf([ft({attribute:"thread-id",type:String})],Df.prototype,"thread-id",void 0),Rf([ft({attribute:"thread-title",type:String})],Df.prototype,"thread-title",void 0),Rf([ft({attribute:"is-rename-enabled",type:Boolean})],Df.prototype,"is-rename-enabled",void 0),Rf([ft({type:String})],Df.prototype,"src-lang",void 0),Rf([yt(".title")],Df.prototype,"threadTitleElement",void 0),Rf([mt()],Df.prototype,"currentThreadTitle",void 0),Rf([Ue],Df.prototype,"handleDocumentClick",null),Df=Rf([pt("nt-thread-title")],Df),function(t){t.DeleteThread="delete-thread-warning",t.ClearChat="clear-chat-warning"}(jf||(jf={}));const $f="modal-context";var Ff=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};class zf{constructor(t,e){this.getModalContext=t,this.setModalContext=e,this.setModalContext(this.getInitialModalContext())}disconnect(){}getInitialModalContext(){return{activeModal:void 0,type:void 0,isOpen:!1,payload:{title:void 0,content:void 0,onActionButtonClick:()=>{},onRequestClose:()=>{},onCancelButtonClick:()=>{}},open:this.handleOpenModal,close:this.handleCloseModal}}handleOpenModal({type:t,payload:e}){const i=this.getModalContext();return(!i.isOpen||i.type!==t||i.payload.title!==e.title||i.payload.content!==e.content||i.payload.onActionButtonClick!==e.onActionButtonClick||i.payload.onRequestClose!==e.onRequestClose||i.payload.onCancelButtonClick!==e.onCancelButtonClick)&&(this.setModalContext({...i,type:t,isOpen:!0,payload:{title:e.title,content:e.content,onActionButtonClick:e.onActionButtonClick,onRequestClose:e.onRequestClose,onCancelButtonClick:e.onCancelButtonClick}}),!0)}handleCloseModal(){return!!this.getModalContext().isOpen&&(this.setModalContext(this.getInitialModalContext()),!0)}}Ff([Ue],zf.prototype,"handleOpenModal",null),Ff([Ue],zf.prototype,"handleCloseModal",null);var Bf=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};class Nf{constructor(t,e){this.focusableElements=[],this.currentIndex=-1,this.host=t,this.element=e,this.host.addController(this)}hostConnected(){this.addFocusEventListeners(),this.updateFocusableElements(),ha()||this.element.addEventListener("keydown",this.handleKeyDown)}hostDisconnected(){this.removeFocusEventListeners(),ha()||this.element.removeEventListener("keydown",this.handleKeyDown)}addFocusEventListeners(){ha()||(this.element.addEventListener("focusin",this.dispatchFocusEvent),this.element.addEventListener("focusout",this.dispatchFocusEvent))}removeFocusEventListeners(){ha()||(this.element.removeEventListener("focusin",this.dispatchFocusEvent),this.element.removeEventListener("focusout",this.dispatchFocusEvent))}dispatchFocusEvent(t){const e=t.type,i=new CustomEvent("focus-event",{detail:{type:e,target:t.target},bubbles:!0,composed:!0});window.dispatchEvent(i)}updateFocusableElements(){this.focusableElements=[];const t=e=>{e instanceof Element&&e.matches('a[href], button, textarea, select, [tabindex]:not([tabindex="-1"])')&&e!==this.element&&this.focusableElements.push(e);const i=e;[...e.childNodes,...i.shadowRoot?.childNodes??[]].forEach((e=>{(e instanceof Element||e instanceof ShadowRoot)&&t(e)}))};new MutationObserver((()=>{this.focusableElements=[],t(this.element)})).observe(this.element,{childList:!0,subtree:!0,attributes:!0}),t(this.element)}handleKeyDown(t){if("Tab"!==t.key||!this.focusableElements.length)return;t.preventDefault();const e=this.focusableElements.length-1;t.shiftKey?this.currentIndex=this.currentIndex<=0?e:this.currentIndex-1:this.currentIndex=this.currentIndex>=e?0:this.currentIndex+1,this.focusableElements[this.currentIndex].focus()}focusElement(){this.currentIndex=-1,this.element.focus()}}Bf([Ue],Nf.prototype,"handleKeyDown",null);const Vf=o`
    .modal-overlay {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 100%;
        height: 100%;

        background: var(--bg-overlay);

        box-sizing: border-box;

        z-index: var(--layer_overlay);
    }

    .modal-overlay .modal {
        width: fit-content;
        height: fit-content;

        padding: var(--space_s) var(--space_m) var(--space_xl) 0;
        padding-left: calc(var(--space_2xs) + var(--space_xl));

        max-width: var(--modal-max-width);
        max-height: 100%;

        margin: auto;

        border: 1px solid var(--bg-border);
        border-radius: var(--border-radius_l);

        background-color: var(--bg-secondary);

        box-shadow: 0px 6px 16px 0px var(--bg-popup);
        transition: opacity var(--transition-duration-m) ease;
    }

    .modal-header {
        justify-content: space-between;
        height: var(--space_3xl);
        padding-bottom: var(--space_s);
    }

    .title {
        margin-top: auto;
    }

    .content {
        padding-right: var(--space_m);
        padding-bottom: calc(var(--space_2xs) + var(--space_xl));
    }

    .button-wrapper {
        padding-right: var(--space_m);
    }

    .button-text {
        align-content: center;
        padding: 0 var(--space_m) 0 var(--space_m);
    }

    .close-button {
        top: var(--space_l);
        right: var(--space_l);
    }

    /* mobile */
    .modal-overlay.mobile {
        background-color: var(--bg-overlay-mobile-modal);
        padding: 0 var(--space_m);
    }

    .modal-overlay.mobile .modal {
        position: relative;

        box-sizing: border-box;
        width: 100%;
        height: auto;

        padding: var(--space_m) var(--space_l) var(--space_l);
        margin: auto auto var(--space_m);

        background-color: var(--bg-trinity);
    }

    .mobile .modal-header {
        height: var(--size_2xl);
        justify-content: center;
    }

    .mobile .close-button {
        position: absolute;
        top: var(--space_2xs);
        right: var(--space_2xs);
    }

    .mobile .content {
        padding: 0 0 var(--space_l);
        text-align: center;
    }

    .mobile .button-wrapper {
        flex-direction: column;
        width: 100%;
        padding: 0;
    }

    .mobile .button-text {
        padding: 0;
    }

    .mobile .button-text.action {
        color: var(--control-primary-text);
    }

    .mobile .button {
        height: var(--size_5xl);
    }

    .mobile .button.cancel::part(button-wrapper) {
        background-color: var(--fill_6);
    }
`;var Hf=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let Uf=class extends ht{connectedCallback(){super.connectedCallback(),document.addEventListener("keydown",this.handleKeyDown)}disconnectedCallback(){super.disconnectedCallback(),document.addEventListener("keydown",this.handleKeyDown)}async updated(){this.modalContext.isOpen&&(this.modalController&&(this.modalController.hostDisconnected(),this.modalController=void 0,this.modalContext.activeModal=void 0),this.modalController=new Nf(this,this.modalElement),await this.updateComplete,this.modalController.focusElement())}render(){const{isOpen:t}=this.modalContext;if(!t)return K;const e=We({"modal-overlay":!0,mobile:this.environmentContext.isMobile});return W`
            <flex-container
                class="${e}"
                @click=${this.handleFullScreenOverlayClick}
            >
                ${this.renderFullScreenModal()}
            </flex-container>
        `}renderFullScreenModal(){const{type:t}=this.modalContext;switch(this.modalContext.activeModal=this,t){case jf.ClearChat:case jf.DeleteThread:return this.renderSubmitModal()}return K}renderCloseIcon(){return this.environmentContext.isMobile?Rt(ve()):Rt($e())}renderSubmitModal(){const{isOpen:t}=this.modalContext,{title:e,content:i}=this.modalContext.payload,n=this.getRenderingButtonOptions();if(!(t&&e&&i&&n))return K;const s=this.environmentContext.isMobile?"full":"3xl",r=this.environmentContext.isMobile?"xl":"l",a=this.environmentContext.isMobile?"xs":"s",o=this.environmentContext.isMobile?"xs":"m",l=this.environmentContext.isMobile?"4xl":"xl",c=this.environmentContext.isMobile?"xl":"m",h=this.environmentContext.isMobile?"tertiary":"disabled",d=this.environmentContext.isMobile?"s":"xs",p=this.environmentContext.isMobile?"graphite":"stroke",u=this.environmentContext.isMobile?"center":"start",g=this.localesContext.getText("a11y_close_btn"),f=this.localesContext.getText("a11y_actions_panel");return W`
            <flex-container class="modal" direction="column" tabindex="0">
                <flex-container class="modal-header" direction="row">
                    <ya-text
                        class="title"
                        font-size=${r}
                        line-height=${a}
                        font-weight="medium"
                    >
                        ${this.modalContext.payload.title}
                    </ya-text>
                    <ya-button
                        view="clear"
                        size=${l}
                        class="close-button"
                        @click="${this.modalContext.payload.onRequestClose}"
                        label=${g}
                    >
                        <ya-icon
                            color=${h}
                            slot="icon"
                            size=${c}
                        >
                            ${this.renderCloseIcon()}
                        </ya-icon>
                    </ya-button>
                </flex-container>
                <flex-container class="content">
                    <ya-text
                        line-height=${o}
                        text-align=${u}
                    >
                        ${this.modalContext.payload.content}
                    </ya-text>
                </flex-container>

                <flex-container
                    class="button-wrapper"
                    justify="end"
                    gap=${d}
                    direction="row"
                    aria-label=${f}
                >
                    <ya-button
                        class="button"
                        view=${p}
                        ?full-height=${this.environmentContext.isMobile}
                        size=${s}
                        label=${n.action}
                        @click="${this.modalContext.payload.onActionButtonClick}"
                    >
                        <ya-text slot="text" class="button-text action">
                            ${n.action}
                        </ya-text>
                    </ya-button>
                    <ya-button
                        class="button cancel"
                        view="stroke"
                        ?full-height=${this.environmentContext.isMobile}
                        size=${s}
                        label=${n.cancel}
                        @click="${this.modalContext.payload.onCancelButtonClick}"
                    >
                        <ya-text slot="text" class="button-text">
                            ${n.cancel}
                        </ya-text>
                    </ya-button>
                </flex-container>
            </flex-container>
        `}getRenderingButtonOptions(){const{type:t}=this.modalContext;switch(t){case jf.ClearChat:return{cancel:this.localesContext.getText("cancel"),action:this.localesContext.getText("clear")};case jf.DeleteThread:return{cancel:this.localesContext.getText("cancel"),action:this.localesContext.getText("delete")};default:return}}handleFullScreenOverlayClick(t){const e=t.target;this.fullScreenModalOverlay===e&&this.modalContext.payload.onRequestClose()}handleKeyDown(t){if(!this.modalContext.isOpen)return;this.environmentContext.isDesktop&&gc(t)&&this.modalContext.payload.onRequestClose()}};Uf.styles=Vf,Hf([hi({context:di,subscribe:!0}),mt()],Uf.prototype,"localesContext",void 0),Hf([yt(".modal-overlay")],Uf.prototype,"fullScreenModalOverlay",void 0),Hf([yt(".modal")],Uf.prototype,"modalElement",void 0),Hf([hi({context:$f,subscribe:!0}),mt()],Uf.prototype,"modalContext",void 0),Hf([hi({context:ur}),mt()],Uf.prototype,"environmentContext",void 0),Hf([Ue],Uf.prototype,"handleKeyDown",null),Uf=Hf([pt("nt-modal")],Uf);const qf="threads-context-menu-context";var Wf;!function(t){t[t.Pending=0]="Pending",t[t.Stopped=-1]="Stopped"}(Wf||(Wf={}));class Zf{constructor(t){this.host=t,this.animationScrollId=Wf.Pending,this.animationStep=1,this.isRightFadeVisible=!1,this.isLeftFadeVisible=!1,this.host.addController(this)}hostConnected(){}updateFade(t,e,i){const n=(t+16)/i*100,s=(e+t-16)/i*100,r=this.isLeftFadeVisible?n:0,a=this.isRightFadeVisible?s:100;this.host.fadeElement.style.backgroundImage=`linear-gradient(\n          to right,\n          transparent ${r-7}%,\n          var(--text-tertiary) ${r}%,\n          var(--text-tertiary) ${a}%,\n          transparent ${a+7}%\n      )`,this.host.fadeElement.style.backgroundClip="text"}async animateScroll(t){if(this.animationScrollId===Wf.Stopped)return;const e=this.animationScrollId,i=t.offsetWidth,n=t.scrollWidth;t.scrollBy({left:this.animationStep});const s=t.scrollLeft;this.isRightFadeVisible=n-Math.ceil(s)>i,this.isLeftFadeVisible=Math.ceil(s)>0,this.updateFade(s,i,n),this.isLeftFadeVisible&&this.isRightFadeVisible||await qe(1e3),this.animationScrollId===e&&(this.isLeftFadeVisible||(this.animationStep=1),this.isRightFadeVisible||(this.animationStep=-1),this.animationScrollId=requestAnimationFrame((()=>this.animateScroll(t))))}updateFadeVisibility(t){const e=t.offsetWidth,i=t.scrollWidth,n=t.scrollLeft;if(!(i>e+n))return this.isRightFadeVisible=!1,void this.updateFade(n,e,i);this.isRightFadeVisible=!0,this.updateFade(n,e,i)}startAnimation(t){const e=t.offsetWidth,i=t.scrollWidth;t.scrollTo({left:0,behavior:"instant"}),this.animationStep=1,this.animationScrollId=Wf.Pending,i>e&&this.animateScroll(t)}stopAnimation(t){cancelAnimationFrame(this.animationScrollId),t.scrollTo({left:0,behavior:"smooth"});const e=t.offsetWidth,i=t.scrollWidth;this.isLeftFadeVisible=!1,i>e&&(this.isRightFadeVisible=!0,this.updateFade(0,e,i)),this.animationScrollId=Wf.Stopped}}const Kf=[wd,o`
        .container {
            width: auto;
            position: relative;
            padding: var(--space_s) var(--space_m);

            border-radius: var(--border-radius_m);

            transition: background-color var(--transition-duration-m);

            &:hover {
                background-color: var(--control-ghost-bg-hover);
            }
        }

        .container.active {
            background-color: var(--control-ghost-bg);
        }

        .title {
            width: 100%;

            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .wrapper {
            width: calc(100% - var(--space_l));

            justify-content: space-between;
            align-items: center;
        }

        .fade {
            display: flex;
            width: fit-content;
            height: 100%;
            background-image: linear-gradient(
                to right,
                var(--text-tertiary),
                var(--text-tertiary)
            );
            background-clip: text;
        }

        .languages {
            width: 100%;

            overflow: hidden;
            transition: box-shadow 0.5s;
        }

        .language {
            white-space: nowrap;
            color: transparent;
        }

        .button-actions {
            display: none;
            position: absolute;
            right: 3px;
            bottom: 2px;
        }

        .thread-title {
            width: 100%;
        }

        .container.active .button-actions {
            display: flex;
            padding-left: 5px;
        }

        .container:hover .button-actions {
            display: flex;
            padding-left: 5px;
        }

        .button-actions .icon {
            color: var(--bg-icon-disabled);
        }

        .button-actions:hover .icon {
            color: var(--control-clear-text);
        }

        .arrow-icon {
            color: transparent;
            cursor: default;
            flex-shrink: 0;
        }

        .threads-context-menu {
            opacity: 0;
        }

        .threads-context-menu.visible {
            z-index: calc(var(--layer_overlay) + 1);
            animation: 0.33s forwards smooth-opening-with-scaling;
        }
    `];var Gf=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let Yf=class extends ht{startAnimation(){this.fadeOnScrollController.startAnimation(this.languagesContainer)}stopAnimation(){this.fadeOnScrollController.stopAnimation(this.languagesContainer)}constructor(){super(),this.focusElement=null,this.isRenameEnabled=!1,this.isThreadsContextMenuOpened=!1,this.threadsContextMenuPosition=null,this["thread-title"]="",this["src-lang"]="",this["dst-lang"]="",this["is-delete-action-disabled"]=!1,this.elementPositionController=new He(this),this.fadeOnScrollController=new Zf(this)}windowResizeHandler(){this.fadeOnScrollController.updateFadeVisibility(this.languagesContainer),this.closeThreadsContextMenu()}connectedCallback(){super.connectedCallback(),this.addEventListener("rename-disabled",this.handleRenameCompleted),this.addEventListener("mouseenter",this.startAnimation),this.addEventListener("mouseleave",this.stopAnimation),window.addEventListener("resize",this.windowResizeHandler)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("rename-disabled",this.handleRenameCompleted),this.removeEventListener("mouseenter",this.startAnimation),this.removeEventListener("mouseleave",this.stopAnimation),window.removeEventListener("resize",this.windowResizeHandler)}async firstUpdated(){await this.updateComplete,this.fadeOnScrollController.updateFadeVisibility(this.languagesContainer)}async updated(t){super.updated(t),t.has("active-thread-id")&&(await this.updateComplete,this.setLangPairFromActiveChat()),(t.has("src-lang")||t.has("dst-lang"))&&(await this.updateComplete,this.fadeOnScrollController.updateFadeVisibility(this.languagesContainer))}async openThreadsContextMenu(t){t.stopPropagation(),this.isThreadsContextMenuOpened=!0,await qe(0),this.threadsContextMenuPosition=this.elementPositionController.calculatePosition({vertical:"bottom",horizontal:"center",parent:this.buttonActionsElement,element:this.threadsContextMenu,xShift:-31}),this.threadsContextMenuContext.setActiveMenu(this.threadsContextMenu)}closeThreadsContextMenu(){this.isThreadsContextMenuOpened=!1,this.threadsContextMenuPosition=null,this.threadsContextMenuContext.setActiveMenu(null)}handleActionsDotsClick(t){const e=this.threadsContextMenuContext.activeMenu?.["thread-id"];this.threadsContextMenuContext.activeMenu&&this.threadsContextMenuContext.activeMenu.dispatchCloseEvent(),e!==this["thread-id"]&&this.openThreadsContextMenu(t)}handleOpenDeleteModal(){if(this.environmentContext.isMobile)this.modalContext.open({type:jf.DeleteThread,payload:{title:this.localesContext.getText("delete_warning_title"),content:this.localesContext.getText("delete_warning_content"),onActionButtonClick:()=>this.onRequestDeleteThread(),onRequestClose:()=>this.onCloseModal("request-close-click"),onCancelButtonClick:()=>this.onCloseModal("cancel-button-click")}});else{if(!this["thread-id"])return;const t=new CustomEvent("pre-delete-thread",{detail:{threadId:this["thread-id"]},bubbles:!0,composed:!0});this.dispatchEvent(t)}}renderThreadsContextMenu(){if(!this.isThreadsContextMenuOpened)return K;const t=We({"threads-context-menu":!0,visible:Boolean(this.threadsContextMenuPosition)});return W`<nt-threads-context-menu
            class=${t}
            .button-actions-element=${this.buttonActionsElement}
            ?open=${this.isThreadsContextMenuOpened}
            @close=${this.closeThreadsContextMenu}
            @delete-click=${this.handleOpenDeleteModal}
            @rename-click=${this.handleRenameEnabled}
            .thread-id=${this["thread-id"]??""}
            ?is-delete-action-disabled=${this["is-delete-action-disabled"]}
            style="left: ${this.threadsContextMenuPosition?.xOffset}; top: ${this.threadsContextMenuPosition?.yOffset}"
        ></nt-threads-context-menu>`}render(){const t=this.localesContext.getText("a11y_actions_btn"),e=W`
            <ya-button
                class="button-actions"
                view="clear"
                size="xl"
                shape="default"
                gap="xs"
                @click=${this.handleActionsDotsClick}
                label=${t}
            >
                <ya-icon class="icon" slot="icon" size="m">
                    ${Rt(re())}
                </ya-icon>
            </ya-button>
        `;return W`
            <flex-container
                class="container ${We({active:this["thread-id"]===this["active-thread-id"]})}"
                direction="column"
                gap="2xs"
                justify="center"
                align="start"
                @keydown=${this.handleActiveThreadKeydown}
                tabindex="0"
            >
                <nt-thread-title
                    class="thread-title"
                    .thread-id="${this["thread-id"]}"
                    .is-rename-enabled="${this.isRenameEnabled}"
                    .thread-title="${this["thread-title"]}"
                    .src-lang="${this["src-lang"]}"
                ></nt-thread-title>
                <flex-container class="wrapper">
                    <flex-container class="languages">
                        <span class="fade">
                            <ya-text
                                class="language"
                                font-size="xs"
                                line-height="s"
                                color="tertiary"
                            >
                                ${this.localesContext.getLangName(this["src-lang"])}
                            </ya-text>
                            <ya-icon size="m" class="arrow-icon">
                                ${""}
                            </ya-icon>
                            <ya-text
                                class="language"
                                font-size="xs"
                                line-height="s"
                                color="tertiary"
                            >
                                ${this.localesContext.getLangName(this["dst-lang"])}
                            </ya-text>
                        </span>
                    </flex-container>
                </flex-container>
                ${e}
            </flex-container>
            ${this.renderThreadsContextMenu()}
        `}handleActiveThreadKeydown(t){uc(t)&&this.click()}handleRenameEnabled(){this.isRenameEnabled=!this.isRenameEnabled,this.closeThreadsContextMenu()}async onRequestDeleteThread(){this["thread-id"]&&await this.threadsContext.deleteThread(this["thread-id"]),this.onCloseModal("close-after-delete")}onCloseModal(t){this.modalContext.close(t),this.restoreFocus()}restoreFocus(){this.focusElement?.focus()}setLangPairFromActiveChat(){const t=this.threadsContext.activeThread;if(!t)return;const e=this.langsContext.langsPair,{srcLang:i,dstLang:n}=t.langsPair;e.srcLang!==i?this.langsContext.setSrcLang(i):e.dstLang!==n&&this.langsContext.setDstLang(n)}handleRenameCompleted(t){const e=t.detail;e&&(this.isRenameEnabled=e.isRenameEnabled)}};Yf.styles=Kf,Gf([hi({context:di,subscribe:!0}),mt()],Yf.prototype,"localesContext",void 0),Gf([hi({context:cs,subscribe:!0}),mt()],Yf.prototype,"threadsContext",void 0),Gf([hi({context:ur}),mt()],Yf.prototype,"environmentContext",void 0),Gf([hi({context:$f,subscribe:!0}),mt()],Yf.prototype,"modalContext",void 0),Gf([hi({context:cn,subscribe:!0}),mt()],Yf.prototype,"langsContext",void 0),Gf([hi({context:qf,subscribe:!0}),mt()],Yf.prototype,"threadsContextMenuContext",void 0),Gf([mt()],Yf.prototype,"isRenameEnabled",void 0),Gf([mt()],Yf.prototype,"isThreadsContextMenuOpened",void 0),Gf([mt()],Yf.prototype,"threadsContextMenuPosition",void 0),Gf([yt(".fade")],Yf.prototype,"fadeElement",void 0),Gf([yt(".languages")],Yf.prototype,"languagesContainer",void 0),Gf([yt(".button-actions")],Yf.prototype,"buttonActionsElement",void 0),Gf([yt("nt-threads-context-menu")],Yf.prototype,"threadsContextMenu",void 0),Gf([ft({type:String})],Yf.prototype,"thread-id",void 0),Gf([ft({type:String})],Yf.prototype,"active-thread-id",void 0),Gf([ft({type:String})],Yf.prototype,"thread-title",void 0),Gf([ft({type:String})],Yf.prototype,"src-lang",void 0),Gf([ft({type:String})],Yf.prototype,"dst-lang",void 0),Gf([ft({type:Boolean})],Yf.prototype,"is-delete-action-disabled",void 0),Gf([Ue],Yf.prototype,"startAnimation",null),Gf([Ue],Yf.prototype,"stopAnimation",null),Gf([Ue],Yf.prototype,"windowResizeHandler",null),Gf([Ue],Yf.prototype,"handleActionsDotsClick",null),Yf=Gf([pt("nt-history-tab")],Yf);class Xf{constructor(t){this.host=t,this.isSubscribedToElement=!1,this.host.addController(this)}addElementToAnimate(t){t&&!this.isSubscribedToElement&&(t.addEventListener("animationend",(()=>{t.setAttribute("data-static","true")})),this.isSubscribedToElement=!0)}hostConnected(){}}const Jf=[Vh,o`
        :host {
            flex-basis: var(--sidebar-max-width);
            flex-shrink: 0;

            min-width: var(--sidebar-min-width);
            max-width: var(--sidebar-max-width);
            position: relative;
        }

        .header {
            display: block;
            box-sizing: border-box;
            cursor: default;

            flex: 0 0 auto;
            align-content: center;

            width: 100%;
            height: var(--size_5xl);
            padding: var(--space_s) 0 var(--space_s) var(--space_xl);

            text-align: start;

            border-bottom: 1px solid var(--bg-border);
        }

        .container {
            display: flex;
            flex-direction: column;

            width: 100%;
            height: 100%;

            background-color: var(--bg-sidebar);

            border-top-left-radius: var(--border-radius_xl);
        }

        .history-wrapper {
            width: 100%;
            height: 100%;

            flex: 1 1 auto;

            overflow: auto;

            scrollbar-width: none;
            -ms-overflow-style: none;

            &::-webkit-scrollbar {
                display: none;
            }

            &:not([data-static='true']) {
                animation: 0.1s ease-in-out 0s 1 smooth-opening;
            }
        }

        .bottom-line {
            border-bottom: 1px solid var(--bg-border);
            width: 100%;
            margin-left: var(--space_l);
        }

        .history-list {
            overflow-y: visible;

            margin: var(--space_s) var(--space_xs) var(--space_xs)
                var(--space_xs);

            scrollbar-width: none;
            -ms-overflow-style: none;

            &::-webkit-scrollbar {
                display: none;
            }
        }

        .history-item,
        .history-wrapper {
            margin-bottom: 1px;
        }

        @media (max-width: 1092px) {
            :host {
                flex-shrink: 1;
            }
        }
    `];var Qf=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let tm=class extends ht{constructor(){super(...arguments),this.trackingService=of.resolve(rf.TrackingService),this.firstOpeningAnimationController=new Xf(this),this.areEventListenersSet=!1,this.threadsToShow=[]}setThreadsToShow(t){this.threadsToShow=t}async updated(t){(t.has("threadsContext")||t.has("searchSidebarContext")||t.has("messagesPairsContext"))&&(await this.updateComplete,this.setThreadsToShowWithFiltration()),this.wrapperElement&&!this.areEventListenersSet&&(this.wrapperElement.addEventListener("scroll",this.closeContextMenuOnScroll),window.addEventListener("scroll-to-top-thread-list",this.handleScrollToTop),window.addEventListener("rename-sucessfull",this.handleScrollToTop),this.firstOpeningAnimationController.addElementToAnimate(this.wrapperElement),this.areEventListenersSet=!0)}disconnectedCallback(){super.disconnectedCallback(),this.wrapperElement?.removeEventListener("scroll",this.closeContextMenuOnScroll),window.removeEventListener("scroll-to-top-thread-list",this.handleScrollToTop),window.removeEventListener("rename-sucessfull",this.handleScrollToTop)}render(){return W` <div class="container">${this.renderContent()}</div> `}renderContent(){if(!this.isReadyToRenderContent)return K;const{searchText:t}=this.searchSidebarContext,e=this.threadsContext.activeThread?.id,i=1===this.threadsContext.getThreadsList().length,n=this.threadsToShow.map((t=>W`
                <div class="history-item">
                    <nt-history-tab
                        .thread-id=${t.id}
                        .active-thread-id=${e}
                        .thread-title=${t.name}
                        .src-lang=${t.langsPair.srcLang}
                        .dst-lang=${t.langsPair.dstLang}
                        .is-delete-action-disabled=${i}
                        @click=${()=>this.handleChangeActiveThread(t.id)}
                        @pre-delete-thread=${this.handlePredeleteThread}
                    >
                    </nt-history-tab>
                </div>
            `));return W`
            <ya-text
                font-size="xl"
                line-height="xs"
                font-weight="black"
                class="header"
                role="heading"
                aria-level="1"
                tabindex="-1"
            >
                ${this.localesContext.getText("header_text")}
            </ya-text>
            <nt-search
                type="sidebar"
                .nt-search-text="${t}"
                @search-text-changed="${this.handleSetTextChanged}"
            ></nt-search>
            <div class="bottom-line"></div>
            <div class="history-wrapper">
                <div class="history-list">${n}</div>
            </div>
            <nt-app-notification position="sidebar"></nt-app-notification>
        `}handleChangeActiveThread(t){const{activeThread:e,setActiveThread:i}=this.threadsContext;if(e&&e.id===t)return;this.imageViewerContext.close(),i(t),this.trackingService.trackEvent("chat_open",{chatId:t});const n=this.messagesPairsContext.messagesPairs.filter((e=>e.threadId===t));if(n.length){const t=n[n.length-1].id;this.messagesPairsContext.setMessagesPairRendered(t)}}handleSetTextChanged(t){const{searchText:e}=t.detail,{setSearchText:i}=this.searchSidebarContext;i(e)}async handlePredeleteThread(t){const{threadId:e}=t.detail;if(await this.threadsContext.requestDeleteThread(e),this.setThreadsToShowWithFiltration(),e===this.threadsContext.activeThread?.id){const{threads:t}=this.threadsContext,e=this.threadsToShow.length?this.threadsToShow[0]:t[0];this.handleChangeActiveThread(e.id)}this.setDeleteThreadNotification()}closeContextMenuOnScroll(){this.threadsContextMenuContext.activeMenu?.dispatchCloseEvent()}handleScrollToTop(){this.wrapperElement?.scrollTo({top:0,behavior:"smooth"})}async setDeleteThreadNotification(){this.clearDeleteThreadNotification(),await qe(100),this.appNotificationContext.showDeleteThreadNotification({text:"",position:"center",autoHide:!0})}clearDeleteThreadNotification(){this.appNotificationContext.currentNotification?.type===Fn.DeleteThread&&this.appNotificationContext.clearNotification()}setThreadsToShowWithFiltration(){const{threads:t}=this.threadsContext,{searchText:e}=this.searchSidebarContext,{messagesPairs:i}=this.messagesPairsContext,n=e?function(t,e,i){if(!i)return t;const n=[];for(const s of t)(s.name.toLowerCase().includes(i)||e.filter((t=>t.threadId===s.id)).some((t=>{switch(!0){case vn(t):return t.input.text?.toLowerCase().includes(i)||t.output?.text?.toLowerCase().includes(i);case yn(t):return t.input.fileName.toLowerCase().includes(i);case xn(t):return t.input?.url.toLowerCase().includes(i);case bn(t):return t.input.fileName.toLowerCase().includes(i);default:return!1}})))&&n.push(s);return n}(t,i,e):t;this.setThreadsToShow(n)}get isReadyToRenderContent(){return this.localesContext.isLocalesReady&&this.messagesPairsContext.isMessagesPairsListReady}};tm.styles=Jf,Qf([hi({context:di,subscribe:!0}),mt()],tm.prototype,"localesContext",void 0),Qf([hi({context:cs,subscribe:!0}),mt()],tm.prototype,"threadsContext",void 0),Qf([hi({context:$n,subscribe:!0}),mt()],tm.prototype,"messagesPairsContext",void 0),Qf([hi({context:oc,subscribe:!0}),mt()],tm.prototype,"imageViewerContext",void 0),Qf([hi({context:vr,subscribe:!0}),mt()],tm.prototype,"searchSidebarContext",void 0),Qf([hi({context:Hn,subscribe:!0}),mt()],tm.prototype,"appNotificationContext",void 0),Qf([hi({context:qf,subscribe:!0}),mt()],tm.prototype,"threadsContextMenuContext",void 0),Qf([yt(".history-wrapper")],tm.prototype,"wrapperElement",void 0),Qf([mt()],tm.prototype,"threadsToShow",void 0),Qf([Ue],tm.prototype,"closeContextMenuOnScroll",null),Qf([Ue],tm.prototype,"handleScrollToTop",null),tm=Qf([pt("nt-history-sidebar")],tm);const em=o`
    .icon-hover {
        display: none;
    }

    .add-button:hover .icon-default {
        display: none;
    }

    .add-button:hover .icon-hover {
        display: block;
        --cross-color: var(--control-primary-text);
    }
`;var im=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let nm=class extends ht{constructor(){super(...arguments),this.trackingService=of.resolve(rf.TrackingService)}render(){const t=this.localesContext.getText("a11y_create_chat");return W`
            <ya-button
                class="add-button"
                size="xl"
                view="none"
                label=${t}
                shape="round"
                gap="xs"
                initial-cursor
                @click=${this.handleAddThreadButtonClick}
            >
                <ya-icon slot="text" size="m" class="icon-default">
                    ${Rt($t())}
                </ya-icon>

                <ya-icon slot="text" size="m" class="icon-hover">
                    ${Rt(zt())}
                </ya-icon>

                <ya-text slot="text" font-size="s" line-height="s">
                    ${this.localesContext.getText("add_new_history_tab")}
                </ya-text>
            </ya-button>
        `}async handleAddThreadButtonClick(){this.settingsContext.setIsShowOnboardingEnabled(!1);const{activeThread:t,getThreadsList:e,addNewThread:i,setActiveThread:n}=this.threadsContext,s=e().filter((t=>t.isEmpty));if(s.length&&!t?.isEmpty){const t=(r=s,[...r].sort(((t,e)=>t&&e?t.lastOpenedTimestamp-e.lastOpenedTimestamp:-1)));n(t[0].id)}else t?.isEmpty||(await i(),this.trackingService.trackEvent("add_new_chat"));var r;this.searchSidebarContext.setSearchText(""),this.dispatchScrollEvent()}dispatchScrollEvent(){this.dispatchEvent(new CustomEvent("scroll-to-top",{bubbles:!0,composed:!0})),this.dispatchEvent(new CustomEvent("scroll-to-top-thread-list",{bubbles:!0,composed:!0}))}};nm.styles=em,im([hi({context:cs,subscribe:!0}),mt()],nm.prototype,"threadsContext",void 0),im([hi({context:pi,subscribe:!0}),mt()],nm.prototype,"settingsContext",void 0),im([hi({context:vr,subscribe:!0}),mt()],nm.prototype,"searchSidebarContext",void 0),im([hi({context:di,subscribe:!0}),mt()],nm.prototype,"localesContext",void 0),nm=im([pt("nt-history-tab-add-button")],nm);const sm=o`
    .container {
        padding: var(--space_2xs);

        user-select: none;
    }

    .switch {
        position: relative;

        width: var(--space_3xl);
        height: var(--space_l);
        margin: 0;

        border: none;
        outline: none;
        appearance: none;
        border-radius: var(--border-radius_max);
        background-color: var(--bg-disabled);

        transition: background-color var(--transition-duration-m);
    }

    .switch[checked] {
        background-color: var(--bg-accent);
    }

    .switch::after {
        position: absolute;
        top: var(--space_2xs);
        left: var(--space_2xs);

        display: block;

        width: var(--space_s);
        height: var(--space_s);
        content: '';

        border-radius: var(--border-radius_max);
        background-color: var(--bg-default);

        transition: transform var(--transition-duration-m);
    }

    .switch[checked]::after {
        transform: translateX(20px);
    }
`;var rm=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let am=class extends ht{constructor(){super(...arguments),this.name="",this.gap="none",this.checked=!1}render(){return W`
            <flex-container gap="${this.gap}" class="container">
                <label for="switch" class="label">
                    <slot></slot>
                </label>
                <input
                    id="switch"
                    type="checkbox"
                    name="${this.name}"
                    ?checked=${this.checked}
                    @change=${this.handleChange}
                    class="switch ${We({checked:this.checked})}"
                />
            </flex-container>
        `}handleChange(){const t=new CustomEvent("change",{detail:{checked:!this.checked}});this.dispatchEvent(t)}};am.styles=sm,rm([ft({attribute:"name",type:String})],am.prototype,"name",void 0),rm([ft({attribute:"gap",type:String})],am.prototype,"gap",void 0),rm([ft({attribute:"checked",type:Boolean})],am.prototype,"checked",void 0),am=rm([pt("nt-switch")],am);const om=o`
    :host {
        display: block;

        width: 100%;
        height: 1px;

        background-color: var(--bg-border);
    }
`;var lm=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let cm=class extends ht{};cm.styles=om,cm=lm([pt("ya-separator-line")],cm);const hm="search-languages";class dm{constructor(t,e){this.getSearchContext=t,this.setSearchContext=e,this.setSearchContext(this.getInitialSearchContext())}disconnect(){}getInitialSearchContext(){return{searchText:"",setSearchText:t=>{if(this.getSearchContext().searchText!==t){const e={...this.getSearchContext(),searchText:t};this.setSearchContext(e)}}}}}const pm=o`
    :host {
        display: block;

        width: 100%;
    }

    .container {
        max-height: 100%;
    }

    .popup {
        top: var(--space_3xs);
        left: var(--space_s);

        width: calc(100% - 2 * var(--space_s));
        height: calc(100% - var(--space_6xl) - var(--space_l));
    }

    .top-panel {
        flex-shrink: 0;

        box-sizing: border-box;

        width: 100%;
        height: 60px;
        padding: var(--space_xs);
    }

    .autodetect-checkbox {
        flex-grow: 1;
        flex-shrink: 0;
    }

    .autodetect-checkbox.hidden {
        display: none;
    }

    .separator {
        flex-shrink: 0;

        width: calc(100% - 2 * var(--space_m));
        margin-bottom: var(--space_xs);
    }

    .column-separator {
        width: calc(100% - 2 * var(--space_xs));
        margin-left: var(--space_s);

        border-top: var(--space_xs) solid var(--bg-secondary);
        border-bottom: var(--space_3xl) solid var(--bg-secondary);
    }

    .bottom-panel {
        overflow-y: auto;

        width: 100%;

        scrollbar-width: none;
        -ms-overflow-style: none;
    }

    .bottom-panel::-webkit-scrollbar {
        display: none;
    }

    .langs-list-column-wrapper {
        column-count: 4;
        overflow-y: hidden;
    }

    .langs-list_padding {
        padding: var(--space_xl) var(--space_xs) var(--space_xs) 0;
    }

    .lang-option {
        position: relative;

        min-height: var(--space_2xl);
        margin-bottom: var(--space_3xs);

        break-inside: avoid;
    }

    .lang-option-name {
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;

        pointer-events: none;
    }

    .lang-option-extra-sign {
        width: var(--space_2xl);
        flex-shrink: 0;
        min-height: var(--space_m);

        color: var(--text-trinity);

        pointer-events: none;
    }

    .lang-option-empty {
        width: var(--space_l);
    }

    .lang-option--main-content {
        width: 100%;
        box-sizing: border-box;
        max-width: calc(100% - var(--space_2xl) - var(--space_2xs));
        padding: calc(var(--space_2xs) + var(--space_3xs)) var(--space_2xs);
        gap: var(--space_2xs);
        border-radius: var(--border-radius_s);

        &:hover {
            background-color: var(--control-ghost-bg);
        }

        &.active {
            background-color: var(--control-ghost-bg-active);
        }
    }

    .selected-icon {
        margin-right: var(--space_3xs);
    }

    .language-search {
        width: 100%;
    }

    @media (max-width: 1380px) {
        .langs-list-column-wrapper {
            column-count: 2;
        }
    }
`;var um=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let gm=class extends ht{constructor(){super(...arguments),this.config=of.resolve(rf.Config),this.isAutodetectEnabled=!1,this.open=!1,this.type="src",this.mode="main"}render(){const t=this.localesContext.getText("a11y_lang_select_panel");return W`
            <ya-popup
                ?open=${this.open}
                .anchor-nodes=${this["lang-buttons-nodes"]}
                @request-close=${this.requestClose}
                @close=${this.handleOpen}
                class="popup"
            >
                <flex-container
                    direction="column"
                    gap="none"
                    justify="center"
                    align="center"
                    class="container"
                >
                    ${this.renderTopPanel()}
                    <ya-separator-line
                        class="separator"
                        aria-label=${t}
                    ></ya-separator-line>
                    ${this.renderBottomPanel()}
                </flex-container>
            </ya-popup>
        `}handleOpen(){this.bottomPanelElement&&(this.bottomPanelElement.scrollTop=0),this.open&&this.langsList?.focus()}requestClose(){const t=new CustomEvent("request-close");this.dispatchEvent(t)}handleSetTextChanged(t){const{searchText:e}=t.detail,{setSearchText:i}=this.searchLanguagesContext;i(e)}renderBottomPanel(){const{searchText:t}=this.searchLanguagesContext,e=We({"langs-list_padding":!0,"langs-list-column-wrapper":!t}),i=t?K:W`
                  ${this.renderLangsHistory()}
                  <ya-separator-line
                      class="column-separator"
                  ></ya-separator-line>
              `;return W`
            <div class="bottom-panel">
                <div class="${e}" @click=${this.handleLangsListClick}>
                    ${i} ${this.renderLanguagesList()}
                </div>
            </div>
        `}renderAutoDetectSwitch(){const t=this.localesContext.getText("autodetect"),e="dst"===this.type;return W`
            ${"main"===this.mode?W`
                      <nt-switch
                          gap="m"
                          name="${t}"
                          ?checked=${this.isAutodetectEnabled}
                          @change=${this.handleAutodetectCheckboxChange}
                          @keydown=${this.handleSwitchKeydown}
                          class="autodetect-checkbox ${We({hidden:e})}"
                          tabindex="0"
                      >
                          <ya-text font-size="s" line-height="s">
                              ${t}
                          </ya-text>
                      </nt-switch>
                  `:K}
        `}renderTopPanel(){const{searchText:t}=this.searchLanguagesContext;return W`
            <flex-container
                direction="row"
                gap="none"
                justify="space-between"
                align="center"
                class="top-panel"
            >
                <nt-search
                    class="language-search"
                    ?autofocus="${this.open}"
                    type="languages"
                    .nt-search-text="${t}"
                    @search-text-changed="${this.handleSetTextChanged}"
                    .thread-id=${this["thread-id"]}
                ></nt-search>
                ${this.renderAutoDetectSwitch()}
            </flex-container>
        `}renderLangsHistory(){const t=this["langs-history"].filter((t=>t!==this["active-lang"]));return W`
            ${t.map((t=>this.renderLangOption({code:t,name:this.localesContext.getLangName(t)})))}
        `}renderLanguagesList(){const t=this.getAllLangsList(),{searchText:e}=this.searchLanguagesContext,i=function(t,e){if(!t)return e;const i=e.filter((e=>e.name.toLowerCase().startsWith(t))),n=e.filter((e=>e.name.toLowerCase().includes(t)&&!e.name.toLowerCase().startsWith(t))),s=e.filter((e=>!e.name.toLowerCase().includes(t)&&e.code.toLowerCase().startsWith(t)));return i.sort(((t,e)=>t.name.localeCompare(e.name))),n.sort(((t,e)=>t.name.localeCompare(e.name))),s.sort(((t,e)=>t.name.localeCompare(e.name))),[...i,...n,...s]}(e,t);return i.length?W`
            ${i.map((t=>this.renderLangOption(t)))}
        `:W`
                <flex-container justify="center" align="center">
                    ${this.localesContext.getText("not_found")}
                </flex-container>
            `}renderLangOption(t){const{code:e,name:i,accentLetter:n,isActive:s}=t,{searchText:r}=this.searchLanguagesContext,a=W`<ya-icon size="s" class="selected-icon"
            >${Rt(ne())}</ya-icon
        >`;return W`
            <flex-container
                class="lang-option"
                justify="start"
                align="center"
                gap="2xs"
            >
                <flex-container
                    justify="center"
                    align="center"
                    class="${r?"lang-option-empty":"lang-option-extra-sign"}"
                >
                    ${n||K}
                </flex-container>
                <flex-container
                    justify="space-between"
                    align="center"
                    class="lang-option--main-content ${s?"active":""}"
                    data-lang-code="${e}"
                    tabindex="0"
                    @keydown=${this.handleLangKeydown}
                >
                    <ya-text
                        font-size="s"
                        line-height="s"
                        text-align="start"
                        class="lang-option-name"
                    >
                        ${i}
                    </ya-text>

                    ${s?a:K}
                </flex-container>
            </flex-container>
        `}handleAutodetectCheckboxChange(){const t=new CustomEvent("autodetect-checkbox-click");this.dispatchEvent(t)}handleLangsListClick(t){const e=t.target.getAttribute("data-lang-code");if(Boolean(e)){const t=new CustomEvent("lang-select",{detail:{code:e}});this.dispatchEvent(t)}}handleSwitchKeydown(t){uc(t)&&(t.preventDefault(),this.handleAutodetectCheckboxChange())}handleLangKeydown(t){uc(t)&&(t.preventDefault(),this.handleLangsListClick(t))}getAllLangsList(){const t=this.config.langs.translator;let e="";const{searchText:i}=this.searchLanguagesContext;return t.map((t=>({code:t,name:this.localesContext.getLangName(t)}))).sort(((t,e)=>t.name>e.name?1:-1)).reduce(((t,{code:n,name:s})=>{const r=this.localesContext.getLangName(n).at(0),a=this["active-lang"]===n;let o="";return i||(r!==e&&(o=r),e=r),t.push({code:n,name:s,isActive:a,accentLetter:o}),t}),[])}};gm.styles=pm,um([hi({context:di,subscribe:!0}),mt()],gm.prototype,"localesContext",void 0),um([hi({context:hm,subscribe:!0}),mt()],gm.prototype,"searchLanguagesContext",void 0),um([ft({attribute:"active-lang",type:String})],gm.prototype,"active-lang",void 0),um([ft({attribute:"langs-history",type:Array})],gm.prototype,"langs-history",void 0),um([ft({attribute:"is-autodetect-enabled",type:Boolean})],gm.prototype,"isAutodetectEnabled",void 0),um([ft({attribute:"open",type:Boolean})],gm.prototype,"open",void 0),um([ft({attribute:"type",type:String})],gm.prototype,"type",void 0),um([ft({attribute:"mode",type:String})],gm.prototype,"mode",void 0),um([ft({attribute:"lang-buttons-nodes",type:Array})],gm.prototype,"lang-buttons-nodes",void 0),um([ft({attribute:"thread-id",type:String})],gm.prototype,"thread-id",void 0),um([yt(".separator")],gm.prototype,"langsList",void 0),um([yt(".bottom-panel")],gm.prototype,"bottomPanelElement",void 0),gm=um([pt("language-popup")],gm);const fm=o`
    :host {
        position: relative;
    }

    :host([full-width][alignment='start'])::after {
        content: '';
        position: absolute;
        top: 0;
        right: 0;
        width: var(--space_xl);
        height: 100%;
        background: linear-gradient(
            270deg,
            var(--bg-secondary) 0%,
            rgba(255, 255, 255, 0) 100%
        );
        pointer-events: none;
    }

    .mobile-button {
        width: fit-content;
        max-width: 100%;
        height: var(--space_3xl);
        padding: 0 var(--space_xs);

        border-radius: var(--border-radius_m);

        transition: background-color var(--transition-duration-m);
    }

    :host([type='src']) .mobile-button {
        margin-left: auto;
    }

    :host([type='dst']) .mobile-button {
        margin-right: auto;
    }

    /* mobile */
    @media (pointer: coarse) and (max-width: 900px) {
        .mobile-button:active {
            background-color: var(--control-ghost-bg-active);
        }

        :host([full-width][alignment='start'])::after {
            background: linear-gradient(
                270deg,
                var(--mobile-langs-container-bg) 0%,
                rgba(255, 255, 255, 0) 100%
            );
        }
    }
`;var mm=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let vm=class extends ht{constructor(){super(...arguments),this.type="src",this.size="xl",this.fontWeight="regular",this.alignment="center"}get isSrc(){return"src"===this.type}get a11yLabel(){return`${this.isSrc?this.localesContext.getText("a11y_original_lang_btn"):this.localesContext.getText("a11y_translation_lang_btn")} ${this.langName}`}get langName(){const{srcLang:t,dstLang:e}=this.langsContext.langsPair,i=this.isSrc?t:e;return this.localesContext.getLangName(i)}updated(){this.updateTextAlignment()}render(){return this.environmentContext.isMobile?this.renderMobile():this.renderDesktop()}renderDesktop(){return W`
            <ya-button
                size=${this.size}
                view="clear"
                label=${this.a11yLabel}
                ?full-width=${this.getFullWidth()}
                ?no-padding=${this["no-padding"]}
            >
                <ya-text
                    slot="text"
                    font-size="s"
                    text-align="center"
                    line-height="s"
                    color="graphite"
                    font-weight=${this.fontWeight}
                    no-wrap
                >
                    ${this.langName}
                </ya-text>
            </ya-button>
        `}renderMobile(){const t=this.isSrc?"end":"start";return W`
            <flex-container
                class="mobile-button"
                direction="row"
                justify=${t}
                align="center"
                role="button"
                aria-label=${this.a11yLabel}
            >
                <ya-text
                    font-size="s"
                    text-align="center"
                    line-height="s"
                    color="graphite"
                    font-weight=${this.fontWeight}
                    no-wrap
                >
                    ${this.langName}
                </ya-text>
            </flex-container>
        `}updateTextAlignment(){requestAnimationFrame((()=>{if(!this.yaText)return;const t=this.getTextAlignment();this.alignment!==t&&(this.alignment=t,this.requestUpdate())}))}getTextAlignment(){if(!this["full-width"])return"center";if(this.environmentContext.isMobile){const{clientWidth:t,scrollWidth:e}=this.yaText;return e>t?"start":"center"}const t=this.getBoundingClientRect().width;return this.yaText.getBoundingClientRect().width>t?"start":"center"}getFullWidth(){return!(!this["full-width"]||"center"!==this.alignment)}};vm.styles=fm,mm([ft({attribute:"type",type:String})],vm.prototype,"type",void 0),mm([ft({type:String})],vm.prototype,"size",void 0),mm([ft({attribute:"font-weight",type:String})],vm.prototype,"fontWeight",void 0),mm([ft({attribute:"full-width",type:Boolean})],vm.prototype,"full-width",void 0),mm([ft({attribute:"no-padding",type:Boolean})],vm.prototype,"no-padding",void 0),mm([ft({type:String,reflect:!0})],vm.prototype,"alignment",void 0),mm([hi({context:cn,subscribe:!0}),mt()],vm.prototype,"langsContext",void 0),mm([hi({context:di,subscribe:!0}),mt()],vm.prototype,"localesContext",void 0),mm([hi({context:ur,subscribe:!0}),mt()],vm.prototype,"environmentContext",void 0),mm([yt("ya-text")],vm.prototype,"yaText",void 0),vm=mm([pt("language-button")],vm);const ym=o`
    :host {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;

        display: flex;
        align-items: center;
        justify-content: center;

        box-sizing: border-box;
        padding: var(--space_l);

        background: var(--bg-secondary);
        z-index: var(--layer_overlay);
    }

    :host::before {
        content: '';
        box-sizing: border-box;
        position: absolute;
        z-index: var(--layer-negative);
        left: var(--space_xl);
        top: var(--space_xl);
        width: calc(100% - var(--space_xl) * 2);
        height: calc(100% - var(--space_xl) * 2);

        border: 1px solid transparent;
        border-radius: var(--border-radius_l);
        background: linear-gradient(var(--bg-secondary), var(--bg-secondary)),
            var(--ya-gradient-accents-neuro-flip);
        background-origin: border-box;
        background-clip: padding-box, border-box;
    }

    :host::after {
        content: '';
        box-sizing: border-box;
        position: absolute;
        z-index: 0;
        left: calc(var(--space_xl) - 1px);
        top: calc(var(--space_xl) - 1px);
        width: calc(100% - var(--space_xl) * 2 + 2px);
        height: calc(100% - var(--space_xl) * 2 + 2px);

        border: 5px dashed var(--bg-secondary);
        border-radius: var(--border-radius_l);
        background-origin: border-box;
        background-clip: padding-box, border-box;
    }

    .wrapper {
        border: 1px stroke var(--border-stroke);
        display: flex;
        align-items: center;
        justify-content: center;
        box-sizing: border-box;
    }
`;var xm=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let bm=class extends ht{render(){return W`
            <flex-container
                direction="column"
                justify="center"
                align="center"
                class="wrapper"
                gap="s"
            >
                <ya-text font-size="2xl" line-height="xs" font-weight="medium">
                    ${this.localesContext.getText("drop_zone_title")}
                </ya-text>
                <ya-text font-size="m" line-height="m" font-weight="regular">
                    ${this.localesContext.getText("drop_zone_subtitle")}
                </ya-text>
            </flex-container>
        `}};bm.styles=ym,xm([hi({context:di,subscribe:!0}),mt()],bm.prototype,"localesContext",void 0),bm=xm([pt("drop-zone")],bm);const wm=o`
    :host {
        box-sizing: border-box;
    }

    .container {
        height: 100%;
        width: 100%;
        box-sizing: border-box;
    }
`;var _m=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};const Cm=["text/plain"];let Sm=class extends ht{constructor(){super(...arguments),this.isDragOver=!1}connectedCallback(){super.connectedCallback(),this.addEventListener("dragenter",this.handleDragEnter),this.addEventListener("dragover",this.handleDragOver),this.addEventListener("dragleave",this.handleDragLeave),this.addEventListener("drop",this.handleDrop)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("dragenter",this.handleDragEnter),this.removeEventListener("dragover",this.handleDragOver),this.removeEventListener("dragleave",this.handleDragLeave),this.removeEventListener("drop",this.handleDrop)}isDragDisabled(t){return t.dataTransfer?.types.some((t=>Cm.includes(t)))||this.imageViewerContext.isOpen}handleDragEnter(t){t.preventDefault(),this.isDragDisabled(t)||this.isDragOver||(this.isDragOver=!0,this.handleCustomChangeIsDragOver(!0))}handleCustomChangeIsDragOver(t){const e=new CustomEvent("drag-over-changed",{detail:{isDragOver:t}});this.dispatchEvent(e)}handleDragOver(t){t.preventDefault(),this.isDragDisabled(t)||this.isDragOver||(this.isDragOver=!0,this.handleCustomChangeIsDragOver(!0))}handleDragLeave(t){t.preventDefault(),this.isDragDisabled(t)||null!==t.relatedTarget&&this.contains(t.relatedTarget)||(this.isDragOver=!1,this.handleCustomChangeIsDragOver(!1))}async handleDrop(t){if(t.preventDefault(),this.isDragDisabled(t))return;this.handleCustomChangeIsDragOver(!1),this.isDragOver=!1;const e=Array.from(t.dataTransfer?.files??[]);e.length?this.handleInternalFileDrop(e):await this.handleExternalFileDrop(t)}handleInternalFileDrop(t){const e=t[0],i=new CustomEvent("drop-file",{bubbles:!0,composed:!0,detail:Pr(e)});this.dispatchEvent(i)}async handleExternalFileDrop(t){const e=function(t){let e=t.dataTransfer?.getData("text/uri-list");if(e){try{e=new URL(e).searchParams.get("imgurl")||e}catch{}return Rr(e)}}(t);if(!e)return;const i=await async function(t){try{const e=await fetch(t),i=await e.arrayBuffer(),n=e.headers.get("content-type")??"",s=Sr[n];if(!s)return;return new File([i],`image.${s}`,{type:n})}catch{return}}(e);if(!i)return;const n=new CustomEvent("drop-file",{bubbles:!0,composed:!0,detail:Pr(i)});this.dispatchEvent(n)}render(){return W`
            <flex-container class="container" gap="none">
                <slot></slot>
            </flex-container>
        `}};Sm.styles=wm,_m([hi({context:oc,subscribe:!0}),mt()],Sm.prototype,"imageViewerContext",void 0),_m([mt()],Sm.prototype,"isDragOver",void 0),Sm=_m([pt("drop-container")],Sm);const Tm=o`
    .container {
        width: 152px;
        height: var(--size_4xl);
        margin-top: var(--space_xs);
        padding: var(--space_2xs);

        align-content: center;
    }

    .wrapper {
        height: 100%;
    }

    .clear-button {
        width: 100%;
        height: 100%;

        border-radius: calc(var(--border-radius_m) + var(--border-radius_3xs));
    }
`;var km=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let Em=class extends ht{constructor(){super(...arguments),this.open=!1,this.trackingService=of.resolve(rf.TrackingService)}get isEmptyThread(){const t=this.threadsContext.activeThread;return t?.isEmpty}handleCloseContextMenu(){this.dispatchEvent(new Event("close")),this.open=!1,this.modalContext.close()}handleCloseModal(){this.modalContext.close()}openClearModal(){this.handleCloseContextMenu(),this.modalContext.open({type:jf.ClearChat,payload:{title:this.localesContext.getText("clear_chat_title"),content:this.localesContext.getText("clear_chat_content"),onActionButtonClick:()=>this.handleClearMessagesClick(),onRequestClose:()=>this.handleCloseContextMenu(),onCancelButtonClick:()=>this.handleCloseModal()}})}clickClearIcon(){this.settingsContext.isShowOnboardingEnabled&&this.settingsContext.setIsShowOnboardingEnabled(!1),this.environmentContext.isMobile?this.openClearModal():this.handleClearMessagesClick()}async updated(){await this.updateComplete,this.open&&this.clearButton&&this.clearButton.focus()}render(){const t=this.isEmptyThread,e=t?"disabled":"primary",i=this.localesContext.getText("clear_messages");return this.open?W`
            <ya-popup
                .anchor-nodes=${[this["action-controls"],this.modalContext.activeModal]}
                ?open=${this.open}
                class="container"
                arrow="top"
                close-on-resize
                @request-close=${this.handleCloseContextMenu}
            >
                <flex-container
                    class="wrapper"
                    justify="start"
                    align="center"
                    gap="s"
                >
                    <ya-button
                        ?disabled="${t}"
                        class="clear-button"
                        position="start"
                        full-width
                        full-height
                        size="full"
                        shape="default"
                        view="clear"
                        gap="xs"
                        @click=${this.clickClearIcon}
                        label=${i}
                    >
                        <ya-icon slot="icon" size="m" color=${e}>
                            ${Rt(oe())}
                        </ya-icon>
                        <ya-text
                            slot="text"
                            font-size="s"
                            line-height="xs"
                            color=${e}
                        >
                            ${i}
                        </ya-text>
                    </ya-button>
                </flex-container>
            </ya-popup>
        `:K}async handleClearMessagesClick(){const t=this.threadsContext.activeThread;t&&(this.environmentContext.isMobile?(await this.threadsContext.clearThread(t.id),this.handleCloseModal()):(this.threadsContext.requestClearThread(t.id),this.appNotificationContext.showClearThreadNotification({text:"",position:"center",autoHide:!0}),this.handleCloseContextMenu()),this.trackingService.trackEvent("chat_cleared",{chatId:t.id}))}};Em.styles=Tm,km([ft({reflect:!0,type:Boolean})],Em.prototype,"open",void 0),km([ft({attribute:"action-controls",type:Object})],Em.prototype,"action-controls",void 0),km([hi({context:cs,subscribe:!0}),mt()],Em.prototype,"threadsContext",void 0),km([hi({context:pi,subscribe:!0}),mt()],Em.prototype,"settingsContext",void 0),km([hi({context:ur}),mt()],Em.prototype,"environmentContext",void 0),km([hi({context:$f,subscribe:!0}),mt()],Em.prototype,"modalContext",void 0),km([hi({context:di,subscribe:!0}),mt()],Em.prototype,"localesContext",void 0),km([hi({context:Hn,subscribe:!0}),mt()],Em.prototype,"appNotificationContext",void 0),km([yt(".clear-button")],Em.prototype,"clearButton",void 0),Em=km([pt("messages-context-menu")],Em);const Pm=o`
    :host {
        display: flex;
        align-items: center;

        padding-right: var(--space_l);
    }

    .chevron {
        color: var(--text-trinity);
        transition: transform 0.3s ease;
        transform: rotate(180deg);
    }

    .chevron.down {
        transform: rotate(360deg);
    }
`;var Lm=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let Im=class extends ht{constructor(){super(...arguments),this.type="src"}render(){const t=!this.environmentContext.isMobile,e=kn(this.messageStatus)||En(this.messageStatus)||Cn(this.messageStatus)||Rn(this.messageStatus)||On(this.messageStatus),i=We({down:this.message?.id===this.langsContext.activeMessagePopup?.messageId&&this.type===this.langsContext.activeMessagePopup?.type});return W`
            ${t?W`
                      <ya-button
                          position="start"
                          full-width
                          size="m"
                          gap="3xs"
                          shape="angular"
                          view="clear"
                          @click="${this.handleLanguageEvent}"
                          ?disabled="${e}"
                      >
                          <ya-text
                              slot="text"
                              font-size="s"
                              line-height="s"
                              font-weight="regular"
                              color="tertiary"
                          >
                              ${this.getTitleText()}
                          </ya-text>
                          <ya-icon
                              slot="icon-right"
                              size="s"
                              class="chevron ${i}"
                          >
                              ${Rt(qt())}
                          </ya-icon>
                      </ya-button>
                  `:W`
                      <ya-text
                          font-size="s"
                          line-height="s"
                          font-weight="medium"
                          color="secondary"
                      >
                          ${this.getTitleText()}
                      </ya-text>
                  `}
        `}getTitleText(){const t="src"===this.type?this.message?.input.srcLang:this.message?.input.dstLang;if(!t)return"";return this.localesContext.getLangName(t)}get messageStatus(){return this.message?.status??""}handleLanguageEvent(t){if(!this.message)return;const{id:e,input:i}=this.message;this.langsContext.setActiveMessagePopup({messageId:e,type:this.type});const n=t.currentTarget,s=new CustomEvent("lang-button-click",{detail:{currentElement:n,buttonType:this.type,message:this.message,currentMessageLang:"src"===this.type?i.srcLang:i.dstLang,languagesSource:"message"},composed:!0,bubbles:!0});this.dispatchEvent(s)}};Im.styles=Pm,Lm([ft({type:Object})],Im.prototype,"message",void 0),Lm([ft({type:String})],Im.prototype,"type",void 0),Lm([hi({context:di,subscribe:!0}),mt()],Im.prototype,"localesContext",void 0),Lm([hi({context:cn,subscribe:!0}),mt()],Im.prototype,"langsContext",void 0),Lm([hi({context:ur}),mt()],Im.prototype,"environmentContext",void 0),Im=Lm([pt("message-language-select")],Im);const Mm=o`
    :host {
        display: block;

        width: 100%;
    }

    .container {
        position: relative;
    }

    .wrapper {
        box-sizing: border-box;
        width: 100%;
        height: var(--size_5xl);
        padding: var(--space_s);

        border-bottom: 1px solid var(--bg-border);
    }

    .translate-button::part(button-wrapper) {
        width: 172px;
    }

    .context-menu {
        position: absolute;

        height: auto;
        width: auto;

        top: 50px;
        right: 165px;
    }
`;var Am=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let Om=class extends ht{constructor(){super(...arguments),this.isMenuOpen=!1,this.imagesTranslationInteractor=of.resolve(rf.ImagesTranslationInteractor),this.trackingService=of.resolve(rf.TrackingService)}getMode(){return this.imageViewerContext.imageSelectionMode===ac.Translation?"translation":"original"}get isEmptyThread(){const t=this.threadsContext.activeThread;return t?.isEmpty}renderContextMenuButton(){if(this.isEmptyThread)return K;const t=this.localesContext.getText("a11y_actions_btn");return W` <ya-button
            class="action-controls"
            size="xl"
            view="clear"
            @click="${this.toggleContextMenu}"
            label=${t}
        >
            <ya-icon slot="icon" size="m">
                ${Rt(re())}
            </ya-icon>
        </ya-button>`}renderMainToolbar(){if(this.imageViewerContext.isOpen&&!this.environmentContext.isMobile)return K;const t=W`
            <nt-history-tab-add-button></nt-history-tab-add-button>
            ${this.renderContextMenuButton()}
        `;return W`<flex-container
                justify="space-between"
                align="center"
                class="wrapper"
            >
                ${t}
            </flex-container>

            <messages-context-menu
                class="context-menu"
                .open="${this.isMenuOpen}"
                @close="${this.handleCloseContextMenu}"
                .action-controls="${this.actionControls}"
            ></messages-context-menu>`}getRenderingModeOptions(){return[this.localesContext.getText("show_translate_btn"),this.localesContext.getText("show_original_btn")]}handleRenderModeChange(t){this.imageViewerContext.setImageSelectionMode(t.detail.selectedIndex),this.trackingService.trackEvent("ocr_image_mode_change",{mode:this.getMode(),message_id:this.imageViewerContext.message?.id??""})}async translateMessageWithAnotherAngle(){const t=this.imageViewerContext.message;if(!t?.input.file)return;const e=this.imageViewerContext.rotateValue,i=await Wl.getImageWithRotation(t.input.file,e);i&&this.imagesTranslationInteractor.translateImageWithAnotherAngle({...t.input,file:i,fileSize:i.byteLength,messagesPairId:t.id})}renderImageTranslatorToolbar(){if(!this.imageViewerContext.isOpen||this.environmentContext.isMobile)return K;const t=0===this.imageViewerContext.rotateValue;return W`<flex-container
            justify="space-between"
            align="center"
            class="wrapper"
        >
            <message-language-select
                .message=${this.imageViewerContext.message}
                type="dst"
                class="message-language-select"
            ></message-language-select>

            ${t?W`<ya-choice-group
                      .items=${this.getRenderingModeOptions()}
                      @selection-changed="${this.handleRenderModeChange}"
                      .selected-index=${this.imageViewerContext.imageSelectionMode}
                      class="render-mode-choice-group"
                  ></ya-choice-group>`:W`<ya-button
                      view="graphite"
                      size="xl"
                      class="translate-button"
                      @click=${this.translateMessageWithAnotherAngle}
                  >
                      <ya-text
                          slot="text"
                          color="control-primary"
                          font-size="s"
                          line-height="m"
                          >${this.localesContext.getText("translate")}
                      </ya-text>
                  </ya-button>`}

            <nt-control-buttons
                type="dst"
                render-collapse-viewer
                .message=${this.imageViewerContext.message}
            ></nt-control-buttons>
        </flex-container>`}render(){return W`<div class="container">
            ${this.renderMainToolbar()} ${this.renderImageTranslatorToolbar()}
        </div> `}toggleContextMenu(){this.isMenuOpen=!this.isMenuOpen}handleCloseContextMenu(){this.isMenuOpen=!1}};Om.styles=Mm,Am([hi({context:di,subscribe:!0}),mt()],Om.prototype,"localesContext",void 0),Am([mt()],Om.prototype,"isMenuOpen",void 0),Am([hi({context:cs,subscribe:!0}),mt()],Om.prototype,"threadsContext",void 0),Am([hi({context:ur}),mt()],Om.prototype,"environmentContext",void 0),Am([hi({context:oc,subscribe:!0}),mt()],Om.prototype,"imageViewerContext",void 0),Am([yt(".action-controls")],Om.prototype,"actionControls",void 0),Om=Am([pt("messages-toolbar")],Om);const Rm=o`
    :host {
        display: block;
        min-width: 1px;
        min-height: 1px;
    }
`;var Dm=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let jm=class extends ht{constructor(){super(...arguments),this.enabled=!0,this["triggering-debounce"]=0,this.isTriggered=!1,this.triggeringTimeout=0}connectedCallback(){super.connectedCallback();this.observer=new IntersectionObserver((t=>{for(const e of t){const t=e.isIntersecting;if(t&&this.enabled&&(!this["trigger-once"]||!this.isTriggered))return void(this.triggeringTimeout=window.setTimeout(this.dispatchShowEvent,this["triggering-debounce"]));t||clearTimeout(this.triggeringTimeout)}}),{root:null,rootMargin:"0px",threshold:.1}),this.observer.observe(this)}disconnectedCallback(){super.disconnectedCallback(),this.observer?.disconnect()}dispatchShowEvent(){this.isTriggered=!0;const t=new CustomEvent("show");this.dispatchEvent(t)}};function $m(){return!la()||oa()>=16}jm.styles=Rm,Dm([ft({attribute:"trigger-once",type:Boolean})],jm.prototype,"trigger-once",void 0),Dm([ft({attribute:"disabled",type:Boolean})],jm.prototype,"enabled",void 0),Dm([ft({attribute:"triggering-debounce",type:Number})],jm.prototype,"triggering-debounce",void 0),Dm([Ue],jm.prototype,"dispatchShowEvent",null),jm=Dm([pt("ya-beacon")],jm);class Fm{constructor(t,e=200){this.host=t,this.delay=e,this.host.addController(this)}hostConnected(){}async expandAndScrollMessage(){requestAnimationFrame((()=>{const t=this.host;t.style.height="0px";const e=t.scrollHeight;requestAnimationFrame((async()=>{t.style.height=`${e}px`,$m()&&await qe(this.delay);const i=this.getMessageScrollTarget(t);t.style.height="auto",t.scrollIntoView({behavior:"smooth",block:i})}))}))}getMessageScrollTarget(t){if(!$m())return"end";return t.className.includes("src")?"end":"start"}}const zm=o`
    @keyframes fade-message {
        0% {
            opacity: 0;
            transform: translateY(0);
        }
        20% {
            opacity: 0;
            transform: translateY(20px);
        }
        100% {
            opacity: 1;
            transform: translateY(0);
        }
    }
`,Bm=[zm,o`
        :host {
            margin-left: auto;
            max-width: var(--nt-src-message-max-width, 80%);
        }

        :host([with-animation][with-expanding]) {
            height: 0;
            transition: height 0.15s ease-in;
        }

        .container {
            display: block;

            border-radius: var(--border-radius_l);
            background: var(--control-ghost-bg);

            word-break: break-word;
        }

        :host([with-animation]) .container {
            animation: fade-message 0.8s ease-out;
        }

        .message-header {
            padding: var(--space_xs) calc(var(--space_xs) + var(--space_3xs))
                var(--space_xs);
        }

        .message-header.touch {
            padding: var(--space_xs) var(--space_s) var(--space_xs);
        }

        .message-content {
            padding: 0 var(--space_m) var(--space_m);
        }

        .title {
            width: 100%;
        }

        /* mobile */
        @media (pointer: coarse) and (max-width: 900px) {
            .message-content {
                padding: 0 var(--space_s) var(--space_s);
            }

            .message-header_touch {
                padding: var(--space_xs) var(--space_s);
            }
        }
    `];var Nm=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let Vm=class extends ht{constructor(){super(...arguments),this["with-animation"]=!1,this.messageExpandController=new Fm(this,150)}firstUpdated(){this["with-animation"]&&this.messageExpandController.expandAndScrollMessage()}render(){const t=this.environmentContext.isMobile?"m":"xs",e=We({"message-header":!0,touch:this.environmentContext.isMobile});return W`
            <div class="container">
                <flex-container
                    class="${e}"
                    justify="space-between"
                >
                    <message-language-select
                        .message="${this.message}"
                        type="src"
                    ></message-language-select>
                    <slot name="controls"></slot>
                </flex-container>
                <flex-container
                    direction="column"
                    justify="center"
                    align="start"
                    gap=${t}
                    class="message-content"
                >
                    <slot></slot>
                </flex-container>
            </div>
        `}};Vm.styles=Bm,Nm([ft({type:Object})],Vm.prototype,"message",void 0),Nm([ft({attribute:"with-animation",type:Boolean})],Vm.prototype,"with-animation",void 0),Nm([hi({context:ur}),mt()],Vm.prototype,"environmentContext",void 0),Vm=Nm([pt("src-message")],Vm);const Hm=[zm,o`
        :host {
            overflow: hidden;
        }

        :host([with-animation][with-expanding]) {
            height: 0;
            transition: height 0.4s ease-out;
        }

        .container {
            overflow: hidden;

            box-sizing: border-box;
            width: fit-content;
            max-width: 90%;

            border: 1px solid var(--bg-border);
            border-radius: var(--border-radius_l);
        }

        .container.mobile {
            width: 100%;
            max-width: unset;
        }

        :host([with-animation]) .container {
            animation: fade-message 1s ease-out;
        }

        .message-header {
            padding: var(--space_xs) calc(var(--space_xs) + var(--space_3xs)) 0;
        }

        .container.mobile .message-header {
            padding: var(--space_xs) var(--space_s) 0;
        }

        .message-content {
            box-sizing: border-box;
            width: 100%;
            padding: var(--space_xs) var(--space_m) var(--space_s);

            word-break: break-word;
        }

        /* mobile */
        @media (pointer: coarse) and (max-width: 900px) {
            :host {
                width: 100%;
                max-width: 100%;
            }

            .message-content {
                padding: var(--space_xs) var(--space_s) var(--space_s);
            }
        }
    `];var Um=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let qm=class extends ht{constructor(){super(...arguments),this["with-animation"]=!1,this["with-expanding"]=!1,this.messageExpandController=new Fm(this,400),this.onTransitionEnd=t=>{"height"===t.propertyName&&this.setMessageRendered()}}get messageId(){return this.message?.id??""}get isVisible(){if(!this.message)return!1;const{status:t}=this.message;if(yn(this.message)){const e=Tn(t)||kn(t)||En(t),i=Mn(t)||Pn(t),n=wn(t);return e||i||n}if(bn(this.message)){const e=An(t),i=jn(t);return!e&&!i}return!0}get shouldHideTitle(){return!this.message||Dn(this.message.status)}async connectedCallback(){super.connectedCallback(),this["with-animation"]&&(this.messageExpandController.expandAndScrollMessage(),this["with-expanding"]?this.addEventListener("transitionend",this.onTransitionEnd):(await qe(1e3),this.setMessageRendered()))}disconnectedCallback(){this.removeEventListener("transitionend",this.onTransitionEnd),super.disconnectedCallback()}render(){if(!this.isVisible)return K;const t=this.environmentContext.isMobile?"m":"xs",e=We({container:!0,mobile:this.environmentContext.isMobile});return W`
            <div class="${e}">
                <flex-container
                    class="message-header"
                    justify="space-between"
                    align="center"
                    gap="2xl"
                >
                    ${this.renderTitle()}
                    <slot name="controls"></slot>
                </flex-container>
                <flex-container
                    direction="column"
                    justify="center"
                    align="start"
                    gap=${t}
                    class="message-content"
                >
                    <slot></slot>
                </flex-container>
                <slot name="footer"></slot>
            </div>
        `}renderTitle(){return this.shouldHideTitle?K:W`
            <slot name="title">
                <message-language-select
                    .message=${this.message}
                    type="dst"
                    class="message-language-select"
                ></message-language-select>
            </slot>
        `}setMessageRendered(){this.dispatchEvent(new CustomEvent("message-rendered",{detail:{messageId:this.messageId},bubbles:!0,composed:!0}))}};qm.styles=Hm,Um([ft({type:Object})],qm.prototype,"message",void 0),Um([ft({type:String,attribute:"error-text"})],qm.prototype,"error-text",void 0),Um([ft({attribute:"with-animation",type:Boolean})],qm.prototype,"with-animation",void 0),Um([ft({attribute:"with-expanding",type:Boolean})],qm.prototype,"with-expanding",void 0),Um([hi({context:ur}),mt()],qm.prototype,"environmentContext",void 0),qm=Um([pt("dst-message")],qm);var Wm=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};class Zm extends ht{constructor(){super(...arguments),this.currentIndex=0,this.status=hn.Pending,this.timerId=0}getValues(){return[]}connectedCallback(){super.connectedCallback(),this.rotateValues()}disconnectedCallback(){clearTimeout(this.timerId),super.disconnectedCallback()}getLoaderText(){return this.getValues()[this.currentIndex]}rotateValues(){this.timerId=window.setTimeout((()=>{this.currentIndex=(this.currentIndex+1)%this.getValues().length,this.rotateValues()}),1500)}render(){return W`
            <ya-text
                font-size="s"
                line-height="s"
                font-weight="medium"
                color="tertiary"
                >${this.getLoaderText()}</ya-text
            >
        `}}Wm([mt()],Zm.prototype,"currentIndex",void 0),Wm([ft({type:String})],Zm.prototype,"status",void 0);var Km=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let Gm=class extends Zm{getValues(){return[`${this.localesContext.getText("download_file_loader_recognize_text")}...`,`${this.localesContext.getText("download_file_loader_translate_text")}...`,`${this.localesContext.getText("download_file_loader_send_text")}...`]}};Km([hi({context:di,subscribe:!0}),mt()],Gm.prototype,"localesContext",void 0),Gm=Km([pt("image-dst-message-loader")],Gm);var Ym=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let Xm=class extends Zm{getLoaderText(){return`${this.localesContext.getText("download_file_loader_translate_text")}...`}render(){return this.environmentContext.isMobile?K:super.render()}};Ym([hi({context:di,subscribe:!0}),mt()],Xm.prototype,"localesContext",void 0),Ym([hi({context:ur,subscribe:!0}),mt()],Xm.prototype,"environmentContext",void 0),Xm=Ym([pt("document-dst-message-loader")],Xm);const Jm=o`
    .error-text {
        display: block;

        padding-bottom: var(--space_xs);
    }
`;var Qm=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let tv=class extends ht{render(){return W`
            <ya-text
                font-size="s"
                line-height="s"
                font-weight="medium"
                color="tertiary"
                class="error-text"
            >
                <slot></slot>
            </ya-text>
        `}};tv.styles=Jm,tv=Qm([pt("dst-message-error")],tv);var ev=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let iv=class extends ht{render(){return W`
            <dst-message-error>
                ${this.localesContext.getText("file_translate_error")}
            </dst-message-error>
        `}};ev([hi({context:di,subscribe:!0}),mt()],iv.prototype,"localesContext",void 0),iv=ev([pt("image-dst-message-error")],iv);var nv=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let sv=class extends ht{render(){return W`
            <dst-message-error>
                ${this.localesContext.getText("file_translate_error")}
            </dst-message-error>
        `}};nv([hi({context:di,subscribe:!0}),mt()],sv.prototype,"localesContext",void 0),sv=nv([pt("text-dst-message-error")],sv);var rv=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};class av{constructor(t){this.host=t,this.trackingService=of.resolve(rf.TrackingService),this.host.addController(this)}hostConnected(){this.host.addEventListener("copy",this.handleCopySelectionEvent)}hostDisconnected(){this.host.removeEventListener("copy",this.handleCopySelectionEvent)}handleCopySelectionEvent(){const t=this.host.message,e=document.getSelection();if(t&&e&&vn(t)){const i=t.input.text.includes(e.toString()),n=t.output?.text.includes(e.toString());(i||n)&&this.trackingService.trackEvent("message_text_copy",{message_id:t?.id??"",message_direction:i?"src":"dst",type:"selection"})}}}rv([Ue],av.prototype,"handleCopySelectionEvent",null);const ov=o`
    :host {
        overflow: hidden;

        display: flex;
        flex-direction: column;

        gap: var(--nt-message-gap, var(--space_s));
    }

    .highlighted {
        background: var(--highlighted-color-text);
        border-radius: 3px;
    }

    @keyframes fadeSrc {
        0% {
            opacity: 0;
            transform: translateY(20px);
        }
        40% {
            opacity: 0;
            transform: translateY(20px);
        }
        100% {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .dst-message.mobile .render-mode-choice-group {
        display: none;
    }

    @keyframes fadeDst {
        0% {
            opacity: 0;
            transform: translateY(0);
        }
        50% {
            opacity: 0;
            transform: translateY(20px);
        }
        100% {
            opacity: 1;
            transform: translateY(0);
        }
    }
`;var lv=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let cv=class extends ht{constructor(){super(...arguments),this["with-animation"]=!1,this["is-last"]=!1,this["is-expanding-animation"]=!1,this.trackingService=of.resolve(rf.TrackingService),this.documentsTranslationInteractor=of.resolve(rf.DocumentsTranslationInteractor),this.imagesTranslationInteractor=of.resolve(rf.ImagesTranslationInteractor),this.textTranslationInteractor=of.resolve(rf.TextTranslationInteractor),this.selectedRenderMode=0,this.translationImageSrc="",this.originalImageSrc=""}connectedCallback(){super.connectedCallback(),this.renderRoot.addEventListener("animationend",this.handeAnimationEnd),this.addController(new av(this))}disconnectedCallback(){super.disconnectedCallback(),this.renderRoot.removeEventListener("animationend",this.handeAnimationEnd)}get translationImage(){if(this.message?.type!==un.Image)return;const t=this.message?.output;return t?.previewFile}get originalImage(){if(this.message?.type!==un.Image)return;const t=this.message;return t?.input?.file}async updated(t){const e=this.message;if(!e||!t.has("message"))return;if(void 0!==this.translationImage&&void 0!==this.originalImage){const{url:t}=Ir(this.translationImage,"jpeg");this.translationImageSrc=t;const{url:e}=Ir(this.originalImage,"jpeg");this.originalImageSrc=e}const i=t.get("message"),n=this.message;if(this.imageViewerContext.isOpen&&this.message&&yn(this.message)&&this.openImageViewer(),!this["is-last"]&&i?.output===n?.output)return;const s=new CustomEvent("output-updated",{bubbles:!0,composed:!0,detail:{messageId:e.id,messageType:e.type,messageElement:this,dstMessage:this.dstMessage}});this.dispatchEvent(s)}renderSrcControls(){if(!this.message)return K;const t=this.message;return vn(t)?W`<nt-control-buttons
            slot="controls"
            type="src"
            .message=${t}
        ></nt-control-buttons>`:K}getMode(){return 0===this.selectedRenderMode?"translation":"original"}getFullScreenMode(){return 0===this.imageViewerContext.imageSelectionMode?"translation":"original"}getRenderingModeOptions(){return[this.localesContext.getText("show_translate_btn"),this.localesContext.getText("show_original_btn")]}handleImageViewerClose(t){this.outputImage?.focusImage(),this.trackingService.trackEvent("ocr_fullscreen_mode_close",{mode:this.getFullScreenMode(),message_id:this.message?.id??""}),"navigation-back"!==t&&window.history.back()}handleRenderModeChange(t){this.selectedRenderMode=t.detail.selectedIndex,this.trackingService.trackEvent("ocr_image_mode_change",{mode:this.getMode(),message_id:this.message?.id??""})}openImageViewer(){if(this.imageViewerContext.message&&this.imageViewerContext.message.id!==this.message?.id)return;const{originalImageSrc:t,translationImageSrc:e,selectedRenderMode:i}=this,n=this.message?.output,s=this.imageViewerContext.isOpen?this.imageViewerContext.imageSelectionMode:i;this.imageViewerContext.open({originalImageSrc:t,translationImageSrc:e,message:this.message,language:this.message?.input.dstLang||"",recognizeResult:n?.recognizeResult,imageSelectionMode:s,onClose:this.handleImageViewerClose})&&(this.trackingService.trackEvent("ocr_fullscreen_mode_open",{mode:this.getMode(),message_id:this.message?.id??""}),window.history.pushState({},""))}renderDstControls(){if(!this.message)return K;const{status:t}=this.message,e=Mn(t)||Pn(t)||Dn(t)||jn(t),i=yn(this.message),n=vn(this.message),s=bn(this.message);if(e||!i&&!n&&!s)return K;const r=this.message;if(!r.output)return K;const a=i?W`<ya-choice-group
                  slot="controls"
                  .items=${this.getRenderingModeOptions()}
                  @selection-changed="${this.handleRenderModeChange}"
                  .selected-index=${this.selectedRenderMode}
                  class="render-mode-choice-group"
              ></ya-choice-group>`:K;return W`${a}<nt-control-buttons
                slot="controls"
                type="dst"
                .message=${r}
                @open-image-viewer=${this.openImageViewer}
            ></nt-control-buttons>`}render(){if(!this.message)return K;const{status:t}=this.message,e=bn(this.message)&&Dn(t)||yn(this.message)&&(Pn(t)||Mn(t)||kn(t)||En(t))?this.localesContext.getText("file_translate_error"):"",i=function(t){const e=t.status;return wn(e)||Cn(e)||Rn(e)||kn(e)||En(e)||e.includes(hn.Error)}(this.message),n=this["with-animation"],s=this["is-expanding-animation"],r=We({"dst-message":!0,mobile:this.environmentContext.isMobile});return W`
            <src-message
                class="src-message"
                .message="${this.message}"
                ?with-animation=${n}
            >
                ${this.renderInput(this.message)} ${this.renderSrcControls()}
            </src-message>
            ${i?W` <dst-message
                      class=${r}
                      .message="${this.message}"
                      ?with-animation=${n}
                      ?with-expanding=${s}
                      .error-text=${e}
                      @message-rendered=${this.setMessagesPairRendered}
                  >
                      ${this.getLoaderText(this.message)}
                      ${this.renderDstControls()}
                      ${this.renderOutput(this.message)}
                  </dst-message>`:K}
        `}setMessagesPairRendered(t){t.detail.messageId&&this.messagesPairsContext.setMessagesPairRendered(t.detail.messageId)}renderInput(t){return t?.input?yn(t)?this.renderImageInput(t):xn(t)?this.renderSiteInput(t):bn(t)?this.renderDocumentInput(t):this.renderTextInput(t):K}renderOutput(t){return t&&yn(t)?this.renderImageOutput(t):t&&bn(t)?this.renderDocumentOutput(t):t&&vn(t)?this.renderTextOutput(t):t?.output?this.renderSiteOutput(t):K}getLoaderText(t){if(bn(t)&&On(t.status))return W`
                    <document-dst-message-loader
                        status=${t.status}
                        slot="title"
                    ></document-dst-message-loader>
                `;if(yn(t)){const{status:e}=t,i=Pn(e)||Mn(e);if(Tn(e))return W`<image-dst-message-loader
                    slot="title"
                ></image-dst-message-loader>`;if(i)return W`<image-dst-message-error
                    slot="title"
                ></image-dst-message-error>`}return vn(t)&&Sn(t.status)?W`<text-dst-message-error
                    slot="title"
                ></text-dst-message-error>`:K}renderImageInput(t){const{status:e,input:i,id:n}=t,{fileSize:s,type:r}=jr(i.fileSize);return W`
            <nt-input-image
                .messages-pair-id="${n}"
                .src="${i.file}"
                .status=${e}
                .name="${i.fileName}"
                .file-info="${{size:s,type:r}}"
            >
            </nt-input-image>
        `}renderImageOutput(t){if(!t)return K;const{status:e}=t,i=Pn(e)||Mn(e)||Sn(e);return W`<nt-output-image
            .message=${t}
            .is-error=${i}
            .selected-render-mode=${this.selectedRenderMode}
            @retry-click=${this.handleImageRetry}
            @open-image-viewer=${this.openImageViewer}
        ></nt-output-image>`}hasExtraInfo(t){const{output:e}=t,i=e?.dictionary?.relatedWords?.synonyms,n=e?.examples?.examples,s=Boolean(i?.length),r=Boolean(n?.length);return s||r}hasRichInfo(t){const{output:e}=t,i=e?.dictionary?.dictionaryGroups,n=Boolean(Dh(i)),s=this.hasExtraInfo(t);return n||s}renderTextInput(t){const e=We({"message-text":!0,"rtl-lang":Hu(t.input.srcLang)}),i=this.hasRichInfo(t)&&this.environmentContext.isMobile;return W`<nt-input-text
            .message=${t}
            class="${e}"
            ?large=${i}
        >
            ${t.input.text}
        </nt-input-text>`}handleOutputTextSizeChange(t){t.stopPropagation();const e=new CustomEvent("message-size-change",{bubbles:!0,composed:!0,detail:{element:this}});this.dispatchEvent(e)}renderTextOutput(t){return W`
            <nt-output-text
                class="message-text"
                ?large=${this.hasRichInfo(t)}
                .message=${t}
                .is-error=${Sn(t.status)}
                @retry-click=${this.handleTextTranslationRetry}
                @size-change=${this.handleOutputTextSizeChange}
            ></nt-output-text>
        `}handleTextTranslationRetry(){this.message&&vn(this.message)&&this.textTranslationInteractor.retryTextTranslation(this.message)}renderSiteInput(t){const{input:e,id:i}=t,{searchText:n}=this.searchSidebarContext,s=fr(n,e.url),r=mr(n,e.url),a=We({highlighted:r});r&&$r(i,this.shadowRoot);const o=s.map((t=>t.toLowerCase()===n?W`<span class="${a}">${t}</span>`:W`<span>${t}</span>`));return W`
            <nt-input-link .message=${t}>
                ${o}
            </nt-input-link>
        `}renderSiteOutput(t){return W`
            <nt-output-link-preview
                .message=${t}
                @click=${this.trackTranslateUrlClick}
            ></nt-output-link-preview>
        `}renderDocumentInput(t){return W`
            <nt-input-document
                .message=${t}
                @retry-click=${this.handleDocumentRetry}
            ></nt-input-document>
        `}renderDocumentOutput(t){return W`
            <nt-output-document
                .message=${t}
                @retry-click=${this.handleDocumentRetry}
            ></nt-output-document>
        `}handleDocumentRetry(){this.message&&bn(this.message)&&this.documentsTranslationInteractor.retryDocTranslation(this.message)}handleImageRetry(){this.message&&yn(this.message)&&this.imagesTranslationInteractor.retryImageTranslation(this.message)}trackTranslateUrlClick(){this.trackingService.trackEvent("message_translate_url_click")}handeAnimationEnd(t){if(!this.message)return;if(t.target.classList.contains("dst-message")){const t=new CustomEvent("animation-completed",{bubbles:!0,composed:!0,detail:{messageId:this.message?.id}});this.dispatchEvent(t)}}};cv.styles=ov,lv([ft({type:Object})],cv.prototype,"message",void 0),lv([ft({attribute:"with-animation",type:Boolean})],cv.prototype,"with-animation",void 0),lv([ft({attribute:"is-last",type:Boolean})],cv.prototype,"is-last",void 0),lv([ft({attribute:"is-expanding-animation",type:Boolean})],cv.prototype,"is-expanding-animation",void 0),lv([hi({context:di,subscribe:!0}),mt()],cv.prototype,"localesContext",void 0),lv([hi({context:$n,subscribe:!0}),mt()],cv.prototype,"messagesPairsContext",void 0),lv([hi({context:ur}),mt()],cv.prototype,"environmentContext",void 0),lv([hi({context:Hn}),mt()],cv.prototype,"appNotificationContext",void 0),lv([hi({context:vr,subscribe:!0}),mt()],cv.prototype,"searchSidebarContext",void 0),lv([hi({context:oc,subscribe:!0}),mt()],cv.prototype,"imageViewerContext",void 0),lv([yt(".dst-message")],cv.prototype,"dstMessage",void 0),lv([yt("output-image")],cv.prototype,"outputImage",void 0),lv([mt()],cv.prototype,"selectedRenderMode",void 0),lv([mt()],cv.prototype,"translationImageSrc",void 0),lv([mt()],cv.prototype,"originalImageSrc",void 0),lv([Ue],cv.prototype,"handleImageViewerClose",null),lv([Ue],cv.prototype,"setMessagesPairRendered",null),lv([Ue],cv.prototype,"handeAnimationEnd",null),cv=lv([pt("nt-message")],cv);
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const{I:hv}=lt,dv=()=>document.createComment(""),pv=(t,e,i)=>{const n=t._$AA.parentNode,s=void 0===e?t._$AB:e._$AA;if(void 0===i){const e=n.insertBefore(dv(),s),r=n.insertBefore(dv(),s);i=new hv(e,r,t,t.options)}else{const e=i._$AB.nextSibling,r=i._$AM,a=r!==t;if(a){let e;i._$AQ?.(t),i._$AM=t,void 0!==i._$AP&&(e=t._$AU)!==r._$AU&&i._$AP(e)}if(e!==s||a){let t=i._$AA;for(;t!==e;){const e=t.nextSibling;n.insertBefore(t,s),t=e}}}return i},uv=(t,e,i=t)=>(t._$AI(e,i),t),gv={},fv=t=>{t._$AP?.(!1,!0);let e=t._$AA;const i=t._$AB.nextSibling;for(;e!==i;){const t=e.nextSibling;e.remove(),e=t}},mv=(t,e,i)=>{const n=new Map;for(let s=e;s<=i;s++)n.set(t[s],s);return n},vv=Pt(class extends Lt{constructor(t){if(super(t),t.type!==Et)throw Error("repeat() can only be used in text expressions")}dt(t,e,i){let n;void 0===i?i=e:void 0!==e&&(n=e);const s=[],r=[];let a=0;for(const e of t)s[a]=n?n(e,a):a,r[a]=i(e,a),a++;return{values:r,keys:s}}render(t,e,i){return this.dt(t,e,i).values}update(t,[e,i,n]){const s=(t=>t._$AH)(t),{values:r,keys:a}=this.dt(e,i,n);if(!Array.isArray(s))return this.ut=a,r;const o=this.ut??=[],l=[];let c,h,d=0,p=s.length-1,u=0,g=r.length-1;for(;d<=p&&u<=g;)if(null===s[d])d++;else if(null===s[p])p--;else if(o[d]===a[u])l[u]=uv(s[d],r[u]),d++,u++;else if(o[p]===a[g])l[g]=uv(s[p],r[g]),p--,g--;else if(o[d]===a[g])l[g]=uv(s[d],r[g]),pv(t,l[g+1],s[d]),d++,g--;else if(o[p]===a[u])l[u]=uv(s[p],r[u]),pv(t,s[d],s[p]),p--,u++;else if(void 0===c&&(c=mv(a,u,g),h=mv(o,d,p)),c.has(o[d]))if(c.has(o[p])){const e=h.get(a[u]),i=void 0!==e?s[e]:null;if(null===i){const e=pv(t,s[d]);uv(e,r[u]),l[u]=e}else l[u]=uv(i,r[u]),pv(t,s[d],i),s[e]=null;u++}else fv(s[p]),p--;else fv(s[d]),d++;for(;u<=g;){const e=pv(t,l[g+1]);uv(e,r[u]),l[u++]=e}for(;d<=p;){const t=s[d++];null!==t&&fv(t)}return this.ut=a,((t,e=gv)=>{t._$AH=e})(t,l),Z}}),yv=o`
    :host {
        box-sizing: border-box;
        overflow-y: scroll;
        display: flex;
        align-items: center;

        padding: 0 var(--nt-messages-list-padding, 0);
        scrollbar-width: thin;
        scrollbar-color: var(--bg-shadow) transparent;
    }

    :host([data-scroll='auto']) {
        scroll-behavior: auto;
    }

    :host([data-scroll='smooth']) {
        scroll-behavior: smooth;
    }

    .list {
        gap: var(--nt-message-list-gap, var(--space_m));
        display: flex;
        flex-direction: column;

        width: 100%;
        max-width: var(--nt-messages-list-max-width, 100%);
        margin: 0 auto;
    }

    .message-beacon {
        margin-bottom: calc(-1 * (var(--nt-message-list-gap) + 1px));
    }

    /* desktop */
    @media (min-width: 901px) {
        :host {
            flex-direction: column;
        }

        .empty-space {
            flex: 1;
        }

        .list {
            flex-grow: 0;
        }
    }

    /* mobile */
    @media (max-width: 900px) {
        :host {
            flex-direction: column-reverse;
        }
    }
`;var xv=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};const bv="data-scroll";let wv=class extends ht{constructor(){super(...arguments),this.trackingService=of.resolve(rf.TrackingService),this.messages=[],this.isScrollStarted=!1,this.isDSTLoading=!1,this.currentThreadId="",this.messagesListSize=0}updated(t){if(!t.has("messages"))return;const e=this.messages[0]?.threadId,i=this.messages.length,n=this.messages.filter((t=>!t.status.includes(hn.Error)&&!t.status.includes(hn.Ready))).length>0;if(this.isDSTLoading!=n){this.isDSTLoading=n;const t=this.settingsContext.isShowOnboardingEnabled;if(n&&!t)this.appNotificationContext.showTrobberNotification({text:"",position:"center",autoHide:!1});else{this.appNotificationContext.currentNotification?.type===Fn.Trobber&&this.appNotificationContext.clearNotification()}}this.currentThreadId!==e&&(this.currentThreadId=e,this.handleScrollBehavior()),this.messagesListSize===i||$m()||(this.messagesListSize=i,this.handleScrollBehavior()),super.updated(t)}handleScrollBehavior(){document.hidden||(this.setAttribute(bv,"auto"),setTimeout((()=>{this.setAttribute(bv,"smooth")}),100))}get isOldIos(){return!!la()&&oa()<16}render(){return this.messages?W`
            <div class="empty-space"></div>
            <div class="list">
                ${vv(this.messages,(t=>t.id),((t,e)=>this.renderMessage(t,e===this.messages.length-1)))}
                <slot></slot>
            </div>

            <nt-bottom-sheet></nt-bottom-sheet>
        `:K}handleScroll(){this.isScrollStarted=!0,this.voteContextMenuContext.activeMenu?.dispatchCloseEvent()}renderMessage(t,e){const i=this.messagesPairsContext.isMessagesPairFirstRender(t.id),n=e&&i&&(!this.currentThreadId||t.threadId===this.currentThreadId),s=$m(),r=wn(t.status);return W`
            <ya-beacon
                class="message-beacon"
                .enabled=${r}
                trigger-once
                .triggering-debounce=${2e3}
                @show=${()=>this.handleMessageShow(t.id)}
            ></ya-beacon>
            <nt-message
                .message=${t}
                ?with-animation=${n}
                ?is-last=${e}
                ?is-expanding-animation=${s}
                @output-updated=${this.handleMessageOutputUpdated}
            ></nt-message>
        `}handleMessageShow(t){this.isScrollStarted&&this.trackingService.trackEvent("message_old_show",{message_id:t})}handleMessageOutputUpdated(t){const e=this.messages[this.messages.length-1],{messageElement:i,messageId:n,messageType:s,dstMessage:r}=t.detail;(e.id===n||this["active-rewrite-message-id"]===e.id)&&requestAnimationFrame((async()=>{const t=r?.getBoundingClientRect();if(t){const t=s===un.Document||s===un.Site?"end":"start";this.isOldIos&&await qe(200),this.scrollToElement(r,t)}else{const t=un.Image?"end":"start";this.scrollToElement(i,t)}}))}scrollToElement(t,e){this.isOldIos?t?.scrollIntoView():t?.scrollIntoView({block:e})}connectedCallback(){super.connectedCallback(),setTimeout((()=>{this.addEventListener("scroll",this.handleScroll)}),500)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("scroll",this.handleScroll)}};wv.styles=yv,xv([hi({context:$n,subscribe:!0}),mt()],wv.prototype,"messagesPairsContext",void 0),xv([hi({context:Hn,subscribe:!0}),mt()],wv.prototype,"appNotificationContext",void 0),xv([hi({context:pi,subscribe:!0}),mt()],wv.prototype,"settingsContext",void 0),xv([hi({context:ed,subscribe:!0}),mt()],wv.prototype,"voteContextMenuContext",void 0),xv([ft({type:Array})],wv.prototype,"messages",void 0),xv([ft({type:Boolean})],wv.prototype,"language-popup-open",void 0),xv([ft({type:String})],wv.prototype,"active-rewrite-message-id",void 0),xv([Ue],wv.prototype,"handleScroll",null),wv=xv([pt("nt-messages-list")],wv);i(251);function _v(t){return new DataView(t.buffer,t.byteOffset)}const Cv={len:1,get:(t,e)=>_v(t).getUint8(e),put:(t,e,i)=>(_v(t).setUint8(e,i),e+1)},Sv={len:2,get:(t,e)=>_v(t).getUint16(e,!0),put:(t,e,i)=>(_v(t).setUint16(e,i,!0),e+2)},Tv={len:2,get:(t,e)=>_v(t).getUint16(e),put:(t,e,i)=>(_v(t).setUint16(e,i),e+2)},kv={len:4,get:(t,e)=>_v(t).getUint32(e,!0),put:(t,e,i)=>(_v(t).setUint32(e,i,!0),e+4)},Ev={len:4,get:(t,e)=>_v(t).getUint32(e),put:(t,e,i)=>(_v(t).setUint32(e,i),e+4)},Pv={len:4,get:(t,e)=>_v(t).getInt32(e),put:(t,e,i)=>(_v(t).setInt32(e,i),e+4)},Lv={len:8,get:(t,e)=>_v(t).getBigUint64(e,!0),put:(t,e,i)=>(_v(t).setBigUint64(e,i,!0),e+8)};class Iv{constructor(t,e){this.len=t,this.encoding=e,this.textDecoder=new TextDecoder(e)}get(t,e){return this.textDecoder.decode(t.subarray(e,e+this.len))}}class Mv extends Error{constructor(){super("End-Of-Stream")}}class Av{constructor(){this.maxStreamReadSize=1048576,this.endOfStream=!1,this.peekQueue=[]}async peek(t,e,i){const n=await this.read(t,e,i);return this.peekQueue.push(t.subarray(e,e+n)),n}async read(t,e,i){if(0===i)return 0;let n=this.readFromPeekBuffer(t,e,i);if(n+=await this.readRemainderFromStream(t,e+n,i-n),0===n)throw new Mv;return n}readFromPeekBuffer(t,e,i){let n=i,s=0;for(;this.peekQueue.length>0&&n>0;){const i=this.peekQueue.pop();if(!i)throw new Error("peekData should be defined");const r=Math.min(i.length,n);t.set(i.subarray(0,r),e+s),s+=r,n-=r,r<i.length&&this.peekQueue.push(i.subarray(r))}return s}async readRemainderFromStream(t,e,i){let n=0;for(;i>0&&!this.endOfStream;){const s=Math.min(i,this.maxStreamReadSize),r=await this.readFromStream(t,e+n,s);if(0===r)break;n+=r,i-=r}return n}}class Ov extends Av{constructor(t){super(),this.reader=t.getReader({mode:"byob"})}async readFromStream(t,e,i){if(this.endOfStream)throw new Mv;const n=await this.reader.read(new Uint8Array(i));return n.done&&(this.endOfStream=n.done),n.value?(t.set(n.value,e),n.value.byteLength):0}}class Rv{constructor(t){var e;this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=null!==(e=null==t?void 0:t.fileInfo)&&void 0!==e?e:{},this.onClose=null==t?void 0:t.onClose}async readToken(t,e=this.position){const i=new Uint8Array(t.len);if(await this.readBuffer(i,{position:e})<t.len)throw new Mv;return t.get(i,0)}async peekToken(t,e=this.position){const i=new Uint8Array(t.len);if(await this.peekBuffer(i,{position:e})<t.len)throw new Mv;return t.get(i,0)}async readNumber(t){if(await this.readBuffer(this.numBuffer,{length:t.len})<t.len)throw new Mv;return t.get(this.numBuffer,0)}async peekNumber(t){if(await this.peekBuffer(this.numBuffer,{length:t.len})<t.len)throw new Mv;return t.get(this.numBuffer,0)}async ignore(t){if(void 0!==this.fileInfo.size){const e=this.fileInfo.size-this.position;if(t>e)return this.position+=e,e}return this.position+=t,t}async close(){var t;await(null===(t=this.onClose)||void 0===t?void 0:t.call(this))}normalizeOptions(t,e){if(e&&void 0!==e.position&&e.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return e?{mayBeLess:!0===e.mayBeLess,offset:e.offset?e.offset:0,length:e.length?e.length:t.length-(e.offset?e.offset:0),position:e.position?e.position:this.position}:{mayBeLess:!1,offset:0,length:t.length,position:this.position}}}class Dv extends Rv{constructor(t,e){super(e),this.streamReader=t}async readBuffer(t,e){const i=this.normalizeOptions(t,e),n=i.position-this.position;if(n>0)return await this.ignore(n),this.readBuffer(t,e);if(n<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(0===i.length)return 0;const s=await this.streamReader.read(t,i.offset,i.length);if(this.position+=s,(!e||!e.mayBeLess)&&s<i.length)throw new Mv;return s}async peekBuffer(t,e){const i=this.normalizeOptions(t,e);let n=0;if(i.position){const e=i.position-this.position;if(e>0){const s=new Uint8Array(i.length+e);return n=await this.peekBuffer(s,{mayBeLess:i.mayBeLess}),t.set(s.subarray(e),i.offset),n-e}if(e<0)throw new Error("Cannot peek from a negative offset in a stream")}if(i.length>0){try{n=await this.streamReader.peek(t,i.offset,i.length)}catch(t){if(e&&e.mayBeLess&&t instanceof Mv)return 0;throw t}if(!i.mayBeLess&&n<i.length)throw new Mv}return n}async ignore(t){const e=Math.min(256e3,t),i=new Uint8Array(e);let n=0;for(;n<t;){const s=t-n,r=await this.readBuffer(i,{length:Math.min(e,s)});if(r<0)return r;n+=r}return n}}class jv extends Rv{constructor(t,e){super(e),this.uint8Array=t,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:t.length}async readBuffer(t,e){if(e&&e.position){if(e.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=e.position}const i=await this.peekBuffer(t,e);return this.position+=i,i}async peekBuffer(t,e){const i=this.normalizeOptions(t,e),n=Math.min(this.uint8Array.length-i.position,i.length);if(!i.mayBeLess&&n<i.length)throw new Mv;return t.set(this.uint8Array.subarray(i.position,i.position+n),i.offset),n}close(){return super.close()}}Object.prototype.toString;new globalThis.TextDecoder("utf8");new globalThis.TextEncoder;Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function $v(t){const{byteLength:e}=t;return 6===e?t.getUint16(0)*2**32+t.getUint32(2):5===e?t.getUint8(0)*2**32+t.getUint32(1):4===e?t.getUint32(0):3===e?65536*t.getUint8(0)+t.getUint16(1):2===e?t.getUint16(0):1===e?t.getUint8(0):void 0}function Fv(t,e){const i=t.length,n=e.length;if(0===n)return-1;if(n>i)return-1;const s=i-n;for(let i=0;i<=s;i++){let s=!0;for(let r=0;r<n;r++)if(t[i+r]!==e[r]){s=!1;break}if(s)return i}return-1}const zv={get:(t,e)=>127&t[e+3]|t[e+2]<<7|t[e+1]<<14|t[e]<<21,len:4},Bv=4100;function Nv(t,e,i){i={offset:0,...i};for(const[n,s]of e.entries())if(i.mask){if(s!==(i.mask[n]&t[n+i.offset]))return!1}else if(s!==t[n+i.offset])return!1;return!0}class Vv{constructor(t){this.detectors=t?.customDetectors,this.fromTokenizer=this.fromTokenizer.bind(this),this.fromBuffer=this.fromBuffer.bind(this),this.parse=this.parse.bind(this)}async fromTokenizer(t){const e=t.position;for(const i of this.detectors||[]){const n=await i(t);if(n)return n;if(e!==t.position)return}return this.parse(t)}async fromBuffer(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof t}\``);const e=t instanceof Uint8Array?t:new Uint8Array(t);var i;if(e?.length>1)return this.fromTokenizer(new jv(e,i))}async fromBlob(t){return this.fromStream(t.stream())}async fromStream(t){const e=await(i=t,new Dv(new Ov(i),n));var i,n;try{return await this.fromTokenizer(e)}finally{await e.close()}}async toDetectionStream(t,e){const{sampleSize:i=Bv}=e;let n,s;const r=t.getReader({mode:"byob"});try{const{value:t,done:e}=await r.read(new Uint8Array(i));if(s=t,!e&&t)try{n=await this.fromBuffer(t.slice(0,i))}catch(t){if(!(t instanceof Mv))throw t;n=void 0}s=t}finally{r.releaseLock()}const a=new TransformStream({async start(t){t.enqueue(s)},transform(t,e){e.enqueue(t)}}),o=t.pipeThrough(a);return o.fileType=n,o}check(t,e){return Nv(this.buffer,t,e)}checkString(t,e){return this.check((i=t,[...i].map((t=>t.charCodeAt(0)))),e);var i}async parse(t){if(this.buffer=new Uint8Array(Bv),void 0===t.fileInfo.size&&(t.fileInfo.size=Number.MAX_SAFE_INTEGER),this.tokenizer=t,await t.peekBuffer(this.buffer,{length:12,mayBeLess:!0}),this.check([66,77]))return{ext:"bmp",mime:"image/bmp"};if(this.check([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(this.check([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(this.check([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(this.check([37,33]))return await t.peekBuffer(this.buffer,{length:24,mayBeLess:!0}),this.checkString("PS-Adobe-",{offset:2})&&this.checkString(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(this.check([31,160])||this.check([31,157]))return{ext:"Z",mime:"application/x-compress"};if(this.check([199,113]))return{ext:"cpio",mime:"application/x-cpio"};if(this.check([96,234]))return{ext:"arj",mime:"application/x-arj"};if(this.check([239,187,191]))return this.tokenizer.ignore(3),this.parse(t);if(this.check([71,73,70]))return{ext:"gif",mime:"image/gif"};if(this.check([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(this.check([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(this.check([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(this.checkString("ID3")){await t.ignore(6);const n=await t.readToken(zv);return t.position+n>t.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await t.ignore(n),this.fromTokenizer(t))}if(this.checkString("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((67===this.buffer[0]||70===this.buffer[0])&&this.check([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(this.check([255,216,255]))return this.check([247],{offset:3})?{ext:"jls",mime:"image/jls"}:{ext:"jpg",mime:"image/jpeg"};if(this.check([79,98,106,1]))return{ext:"avro",mime:"application/avro"};if(this.checkString("FLIF"))return{ext:"flif",mime:"image/flif"};if(this.checkString("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(this.checkString("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(this.checkString("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(this.checkString("FORM"))return{ext:"aif",mime:"audio/aiff"};if(this.checkString("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(this.check([80,75,3,4])){try{for(;t.position+30<t.fileInfo.size;){await t.readBuffer(this.buffer,{length:30});const s=new DataView(this.buffer.buffer),r={compressedSize:s.getUint32(18,!0),uncompressedSize:s.getUint32(22,!0),filenameLength:s.getUint16(26,!0),extraFieldLength:s.getUint16(28,!0)};if(r.filename=await t.readToken(new Iv(r.filenameLength,"utf-8")),await t.ignore(r.extraFieldLength),"META-INF/mozilla.rsa"===r.filename)return{ext:"xpi",mime:"application/x-xpinstall"};if(r.filename.endsWith(".rels")||r.filename.endsWith(".xml")){switch(r.filename.split("/")[0]){case"_rels":default:break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};case"visio":return{ext:"vsdx",mime:"application/vnd.visio"}}}if(r.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(r.filename.startsWith("3D/")&&r.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if("mimetype"===r.filename&&r.compressedSize===r.uncompressedSize){let a=await t.readToken(new Iv(r.compressedSize,"utf-8"));switch(a=a.trim(),a){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}}if(0===r.compressedSize){let o=-1;for(;o<0&&t.position<t.fileInfo.size;)await t.peekBuffer(this.buffer,{mayBeLess:!0}),o=Fv(this.buffer,new Uint8Array([80,75,3,4])),await t.ignore(o>=0?o:this.buffer.length)}else await t.ignore(r.compressedSize)}}catch(l){if(!(l instanceof Mv))throw l}return{ext:"zip",mime:"application/zip"}}if(this.checkString("OggS")){await t.ignore(28);const c=new Uint8Array(8);return await t.readBuffer(c),Nv(c,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:Nv(c,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:Nv(c,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:Nv(c,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:Nv(c,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:Nv(c,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(this.check([80,75])&&(3===this.buffer[2]||5===this.buffer[2]||7===this.buffer[2])&&(4===this.buffer[3]||6===this.buffer[3]||8===this.buffer[3]))return{ext:"zip",mime:"application/zip"};if(this.checkString("ftyp",{offset:4})&&96&this.buffer[8]){const h=new Iv(4,"latin1").get(this.buffer,8).replace("\0"," ").trim();switch(h){case"avif":case"avis":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return h.startsWith("3g")?h.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(this.checkString("MThd"))return{ext:"mid",mime:"audio/midi"};if(this.checkString("wOFF")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(this.checkString("wOF2")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(this.check([212,195,178,161])||this.check([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(this.checkString("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(this.checkString("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(this.checkString("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(this.check([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(this.checkString("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(this.checkString("%PDF")){try{await t.ignore(1350);const d=10485760,p=new Uint8Array(Math.min(d,t.fileInfo.size));if(await t.readBuffer(p,{mayBeLess:!0}),e=p,i=(new TextEncoder).encode("AIPrivateData"),-1!==Fv(e,i))return{ext:"ai",mime:"application/postscript"}}catch(u){if(!(u instanceof Mv))throw u}return{ext:"pdf",mime:"application/pdf"}}var e,i;if(this.check([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(this.check([73,73])){const g=await this.readTiffHeader(!1);if(g)return g}if(this.check([77,77])){const f=await this.readTiffHeader(!0);if(f)return f}if(this.checkString("MAC "))return{ext:"ape",mime:"audio/ape"};if(this.check([26,69,223,163])){async function m(){const e=await t.peekNumber(Cv);let i=128,n=0;for(;!(e&i)&&0!==i;)++n,i>>=1;const s=new Uint8Array(n+1);return await t.readBuffer(s),s}async function v(){const t=await m(),e=await m();e[0]^=128>>e.length-1;const i=Math.min(6,e.length),n=new DataView(t.buffer),s=new DataView(e.buffer,e.length-i,i);return{id:$v(n),len:$v(s)}}async function y(e){for(;e>0;){const i=await v();if(17026===i.id){return(await t.readToken(new Iv(i.len))).replaceAll(/\00.*$/g,"")}await t.ignore(i.len),--e}}const x=await v();switch(await y(x.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(this.check([82,73,70,70])){if(this.check([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(this.check([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/wav"};if(this.check([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(this.checkString("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(this.check([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(this.checkString("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(this.checkString("MSCF")||this.checkString("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(this.check([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(this.check([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(this.check([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(this.check([127,69,76,70]))return{ext:"elf",mime:"application/x-elf"};if(this.check([33,66,68,78]))return{ext:"pst",mime:"application/vnd.ms-outlook"};if(this.checkString("PAR1"))return{ext:"parquet",mime:"application/x-parquet"};if(this.check([207,250,237,254]))return{ext:"macho",mime:"application/x-mach-binary"};if(this.check([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(this.checkString("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(this.checkString("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(this.check([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(this.checkString("IMPM"))return{ext:"it",mime:"audio/x-it"};if(this.checkString("-lh0-",{offset:2})||this.checkString("-lh1-",{offset:2})||this.checkString("-lh2-",{offset:2})||this.checkString("-lh3-",{offset:2})||this.checkString("-lh4-",{offset:2})||this.checkString("-lh5-",{offset:2})||this.checkString("-lh6-",{offset:2})||this.checkString("-lh7-",{offset:2})||this.checkString("-lzs-",{offset:2})||this.checkString("-lz4-",{offset:2})||this.checkString("-lz5-",{offset:2})||this.checkString("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(this.check([0,0,1,186])){if(this.check([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(this.check([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(this.checkString("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(this.check([202,254,186,190]))return{ext:"class",mime:"application/java-vm"};if(this.check([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(this.checkString("<?xml "))return{ext:"xml",mime:"application/xml"};if(this.check([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(this.check([82,97,114,33,26,7])&&(0===this.buffer[6]||1===this.buffer[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(this.checkString("solid "))return{ext:"stl",mime:"model/stl"};if(this.checkString("AC")){const b=new Iv(4,"latin1").get(this.buffer,2);if(b.match("^d*")&&b>=1e3&&b<=1050)return{ext:"dwg",mime:"image/vnd.dwg"}}if(this.checkString("070707"))return{ext:"cpio",mime:"application/x-cpio"};if(this.checkString("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(this.checkString("!<arch>")){await t.ignore(8);return"debian-binary"===await t.readToken(new Iv(13,"ascii"))?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"}}if(this.checkString("**ACE",{offset:7})&&(await t.peekBuffer(this.buffer,{length:14,mayBeLess:!0}),this.checkString("**",{offset:12})))return{ext:"ace",mime:"application/x-ace-compressed"};if(this.check([137,80,78,71,13,10,26,10])){async function w(){return{length:await t.readToken(Pv),type:await t.readToken(new Iv(4,"latin1"))}}await t.ignore(8);do{const _=await w();if(_.length<0)return;switch(_.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await t.ignore(_.length+4)}}while(t.position+8<t.fileInfo.size);return{ext:"png",mime:"image/png"}}if(this.check([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(this.check([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(this.check([102,114,101,101],{offset:4})||this.check([109,100,97,116],{offset:4})||this.check([109,111,111,118],{offset:4})||this.check([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(this.check([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(this.checkString("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(this.check([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(this.check([48,38,178,117,142,102,207,17,166,217])){async function C(){const e=new Uint8Array(16);return await t.readBuffer(e),{id:e,size:Number(await t.readToken(Lv))}}for(await t.ignore(30);t.position+24<t.fileInfo.size;){const S=await C();let T=S.size-24;if(Nv(S.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const k=new Uint8Array(16);if(T-=await t.readBuffer(k),Nv(k,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(Nv(k,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await t.ignore(T)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(this.check([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((this.check([126,16,4])||this.check([126,24,4]))&&this.check([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(this.check([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(this.check([255,79,255,81]))return{ext:"j2c",mime:"image/j2c"};if(this.check([0,0,0,12,106,80,32,32,13,10,135,10])){await t.ignore(20);switch(await t.readToken(new Iv(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}}if(this.check([255,10])||this.check([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(this.check([254,255]))return this.check([0,60,0,63,0,120,0,109,0,108],{offset:2})?{ext:"xml",mime:"application/xml"}:void 0;if(this.check([0,0,1,186])||this.check([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(this.check([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(this.check([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(this.check([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(this.check([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await t.peekBuffer(this.buffer,{length:Math.min(256,t.fileInfo.size),mayBeLess:!0}),this.check([97,99,115,112],{offset:36}))return{ext:"icc",mime:"application/vnd.iccprofile"};if(this.checkString("BEGIN:")){if(this.checkString("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(this.checkString("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(this.checkString("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(this.checkString("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(this.checkString("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(this.check([4,0,0,0])&&this.buffer.length>=16){const E=new DataView(this.buffer.buffer).getUint32(12,!0);if(E>12&&this.buffer.length>=E+16)try{const P=(new TextDecoder).decode(this.buffer.slice(16,E+16));if(JSON.parse(P).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(this.check([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(this.checkString("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(this.check([71])&&this.check([71],{offset:188}))return{ext:"mts",mime:"video/mp2t"};if(this.check([71],{offset:4})&&this.check([71],{offset:196}))return{ext:"mts",mime:"video/mp2t"};if(this.check([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(this.check([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(this.check([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(this.check([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(this.checkString("Kaydara FBX Binary  \0"))return{ext:"fbx",mime:"application/x.autodesk.fbx"};if(this.check([76,80],{offset:34})&&(this.check([0,0,1],{offset:8})||this.check([1,0,2],{offset:8})||this.check([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(this.check([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await t.peekBuffer(this.buffer,{length:Math.min(512,t.fileInfo.size),mayBeLess:!0}),function(t,e=0){const i=Number.parseInt(new Iv(6).get(t,148).replace(/\0.*$/,"").trim(),8);if(Number.isNaN(i))return!1;let n=256;for(let i=e;i<e+148;i++)n+=t[i];for(let i=e+156;i<e+512;i++)n+=t[i];return i===n}(this.buffer))return{ext:"tar",mime:"application/x-tar"};if(this.check([255,254]))return this.check([60,0,63,0,120,0,109,0,108,0],{offset:2})?{ext:"xml",mime:"application/xml"}:this.check([255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0],{offset:2})?{ext:"skp",mime:"application/vnd.sketchup.skp"}:void 0;if(this.checkString("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(this.buffer.length>=2&&this.check([255,224],{offset:0,mask:[255,224]})){if(this.check([16],{offset:1,mask:[22]}))return this.check([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(this.check([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(this.check([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(this.check([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}async readTiffTag(t){const e=await this.tokenizer.readToken(t?Tv:Sv);switch(this.tokenizer.ignore(10),e){case 50341:return{ext:"arw",mime:"image/x-sony-arw"};case 50706:return{ext:"dng",mime:"image/x-adobe-dng"}}}async readTiffIFD(t){const e=await this.tokenizer.readToken(t?Tv:Sv);for(let i=0;i<e;++i){const e=await this.readTiffTag(t);if(e)return e}}async readTiffHeader(t){const e=(t?Tv:Sv).get(this.buffer,2),i=(t?Ev:kv).get(this.buffer,4);if(42===e){if(i>=6){if(this.checkString("CR",{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(i>=8&&(this.check([28,0,254,0],{offset:8})||this.check([31,0,11,0],{offset:8})))return{ext:"nef",mime:"image/x-nikon-nef"}}await this.tokenizer.ignore(i);return await this.readTiffIFD(t)??{ext:"tif",mime:"image/tiff"}}if(43===e)return{ext:"tif",mime:"image/tiff"}}}new Set(["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","elf","macho","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","j2c","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf","jls","pst","dwg","parquet","class","arj","cpio","ace","avro","icc","fbx","vsdx"]),new Set(["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/wav","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-elf","application/x-mach-binary","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/j2c","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd","image/jls","application/vnd.ms-outlook","image/vnd.dwg","application/x-parquet","application/java-vm","application/x-arj","application/x-cpio","application/x-ace-compressed","application/avro","application/vnd.iccprofile","application/x.autodesk.fbx","application/vnd.visio"]);var Hv=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let Uv=class extends ht{render(){return K}connectedCallback(){super.connectedCallback(),this.handleExternalFile(),window.addEventListener("paste",this.handlePasteEvent,!1)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("paste",this.handlePasteEvent)}async handleExternalFile(){try{await this.handleExternalDragNDrop()}catch(t){}}async handleExternalDragNDrop(){const t=new URL(window.location.href),e=new URLSearchParams(t.search);if(!e)return;const i=e.get("file");if(!i)return;const n=await fetch(i),s=await n.blob(),r=await this.getBlobInfo(s);if(r){const t=this.getFileName(e,r.extension),i=new File([s],t,{type:r.mime}),n=new CustomEvent("external-file",{bubbles:!0,composed:!0,detail:Pr(i)});this.dispatchEvent(n)}URL.revokeObjectURL(i)}getFileName(t,e){let i=t.get("filename");if(i)return i;const n=new Date(Date.now());return i=`${`${n.getDate()}-${n.getMonth()+1}-${n.getFullYear()}`}_${`${n.getHours()}:${n.getMinutes()}`}`,`${i}.${e}`}async getBlobInfo(t){const e=kr(t.type);if(e)return{mime:t.type,extension:e};const i=await async function(t){return(new Vv).fromBlob(t)}(t);return i?{mime:i.mime,extension:i.ext}:void 0}async handlePasteEvent(t){const e=t.clipboardData?.items||[];for(const t of e){const e=t.getAsFile();if(!e)break;const i=new CustomEvent("paste-file",{bubbles:!0,composed:!0,detail:Pr(e)});this.dispatchEvent(i);break}}};Hv([Ue],Uv.prototype,"handlePasteEvent",null),Uv=Hv([pt("files-provider")],Uv);const qv=[o`
        :host {
            position: absolute;

            top: 0;
            left: 100%;
        }

        .cross-button-wrapper {
            position: relative;

            padding-left: 16px;
            width: 100vw;
            display: flex;
        }

        .cross-button {
            position: sticky;
            right: 16px;
            margin-left: auto;
        }
    `];var Wv=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let Zv=class extends ht{constructor(){super(...arguments),this.trackingService=of.resolve(rf.TrackingService),this.yandexApiService=of.resolve(rf.YandexApiService)}render(){const t=this.localesContext.getText("a11y_close_translator");return W`
            <flex-container class="cross-button-wrapper">
                <ya-button
                    class="cross-button"
                    label=${t}
                    size="3xl"
                    shape="round"
                    view="white"
                    shadow
                    @click=${this.handleClose}
                >
                    <ya-icon slot="icon" size="m">
                        ${Rt(ze())}
                    </ya-icon>
                </ya-button>
            </flex-container>
        `}handleClose(){this.trackingService.trackEvent("close_desktop_ntp"),this.yandexApiService.closeTab()}};Zv.styles=qv,Wv([hi({context:di,subscribe:!0}),mt()],Zv.prototype,"localesContext",void 0),Zv=Wv([pt("cross-button")],Zv);const Kv=o`
    :host {
        box-sizing: border-box;
        display: flex;
        min-height: var(--size_2xl);
        height: fit-content;
        align-content: center;
        padding: calc(var(--space_2xs) + var(--space_3xs)) 0px;
    }

    .disclaimer {
        color: var(--text-trinity);
    }

    .disclaimer-link::part(text) {
        color: var(--text-trinity);
        text-decoration: underline;
    }
`;var Gv=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let Yv=class extends ht{render(){const t=ha()?"xs":"2xs",e=ha()?"s":"xs",i=this.localesContext.getText("disclaimer_text"),n=this.localesContext.getText("disclaimer_link");return W`<ya-text
            text-align="center"
            class="disclaimer"
            font-size=${t}
            line-height=${e}
            >${i}
            <ya-link
                link-aria-label=${`${i} ${n}`}
                class="disclaimer-link"
                href=${"https://yandex.ru/legal/browser_agreement/"}
                target="_blank"
                font-size=${t}
                line-height=${e}
                >${n}</ya-link
            ></ya-text
        >`}};Yv.styles=Kv,Gv([hi({context:di,subscribe:!0}),mt()],Yv.prototype,"localesContext",void 0),Yv=Gv([pt("nt-disclaimer")],Yv);var Xv=i(854),Jv=i.n(Xv),Qv=i(4413),ty=i.n(Qv),ey=i(555),iy=i.n(ey);const ny=o`
    :host {
        border-radius: var(--border-radius_m);
        background-color: var(--bg-accent);
    }
`;var sy=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let ry=class extends ht{render(){return W`<ya-button class="button" view="clear" size="xl">
            <ya-icon slot="icon" color="control-primary" size="m">
                ${Rt(Jv())}
            </ya-icon>
        </ya-button>`}};ry.styles=ny,ry=sy([pt("rotate-button")],ry);const ay=o`
    .container {
        box-sizing: border-box;
        background-color: var(--bg-accent);
        min-width: 106px;
        height: calc(var(--size_xl) + var(--size_3xs));
        padding: var(--space_2xs) var(--space_3xs);
        border-radius: var(--border-radius_m);
    }

    .button::part(button-wrapper) {
        width: var(--size_2xl);
        height: var(--size_2xl);
    }
`;var oy=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let ly=class extends ht{constructor(){super(...arguments),this["min-scale"]=1,this["max-scale"]=3,this.scale=1,this.step=.1}handleMinusClick(){this.scale<=this["min-scale"]||this.dispatchEvent(new CustomEvent("scale-change",{detail:{value:-this.step}}))}handlePlusClick(){this.scale>=this["max-scale"]||this.dispatchEvent(new CustomEvent("scale-change",{detail:{value:this.step}}))}render(){return W`<flex-container
            justify="space-between"
            align="center"
            gap="xs"
            class="container"
        >
            <ya-button
                @click=${this.handleMinusClick}
                class="button"
                view="clear"
            >
                <ya-icon slot="icon" color="control-primary" size="m">
                    ${Rt(iy())}
                </ya-icon></ya-button
            >
            <ya-text font-size="s" line-height="m" color="control-primary"
                >${t=this.scale,(100*t).toFixed(0)}%</ya-text
            >
            <ya-button
                @click=${this.handlePlusClick}
                class="button"
                view="clear"
            >
                <ya-icon slot="icon" color="control-primary" size="m">
                    ${Rt(ty())}
                </ya-icon>
            </ya-button>
        </flex-container>`;var t}};ly.styles=ay,oy([ft({attribute:"min-scale",type:Number})],ly.prototype,"min-scale",void 0),oy([ft({attribute:"max-scale",type:Number})],ly.prototype,"max-scale",void 0),oy([ft({type:Number})],ly.prototype,"scale",void 0),oy([ft({type:Number})],ly.prototype,"step",void 0),ly=oy([pt("scale-bar")],ly);const cy=o`
    :host {
        position: absolute;
        left: 0;
        pointer-events: none;
        top: 0;
        width: 100%;
        height: 100%;
    }

    .image-overlay {
        position: absolute;
        top: 50%;
        left: 50%;
        pointer-events: auto;
        transform: translate(-50%, -50%);
        width: 100%;
        height: 100%;

        background: var(--bg-image-overlay);
        box-sizing: border-box;

        z-index: var(--layer_overlay);
    }

    .image-overlay:focus {
        outline: none;
    }

    .image-overlay .image {
        width: fit-content;
        height: fit-content;
        max-width: 100%;
        max-height: 90%;
        object-fit: contain;

        margin: auto;

        anchor-name: --image-position;
    }

    .image-overlay_hidden {
        display: none;
    }

    .close-button {
        position: absolute;

        position-anchor: --image-position;
        top: calc(anchor(top) + var(--space_3xs) + var(--space_2xs));
        left: calc(anchor(right) - var(--space_2xl) - var(--space_3xs));
    }

    .rotate-button {
        position: absolute;
        top: var(--space_m);
        right: var(--space_m);
    }

    .scale-bar {
        position: absolute;
        bottom: var(--space_m);
        left: var(--space_m);
    }

    .close-button_touch {
        position: absolute;

        top: 0;
        right: var(--space_xs);
    }

    .top-block {
        position: relative;
        width: 100%;
        flex-shrink: 0;
        height: calc(var(--size_2xl) + var(--size_xl));
        box-sizing: border-box;
        padding: 0 var(--space_xs);
    }

    .central-block {
        height: 100%;
        width: 100%;
        max-height: calc(
            100% - var(--size_4xl) - var(--size_2xl) - var(--size_xl) -
                var(--size_xs)
        );
    }

    .central-block canvas {
        max-width: 100%;
        max-height: 100%;
    }

    .bottom-block {
        box-sizing: border-box;
        width: 100%;
        height: calc(var(--size_4xl) + var(--size_xs));
        padding: var(--space_xs) var(--space_s);
        flex-shrink: 0;
    }

    .full-screen-choice-group {
        height: calc(var(--space_2xl) + var(--space_2xs));
        width: calc(100% - 2 * var(--space_l));
    }

    /* desktop */
    @media (pointer: fine) {
        .image-overlay canvas {
            anchor-name: --image-position;
        }

        .full-screen-choice-group {
            display: none;
        }
    }

    /* mobile */
    @media screen and (max-width: 900px) {
        .top-block {
            anchor-name: --image-position;
        }

        .image-overlay {
            padding: 0;
            background-color: var(--bg-overlay-mobile);
        }

        .image-overlay .image {
            box-sizing: border-box;
            height: auto;
            padding-bottom: var(--space_3xl);
        }
    }
`;var hy=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let dy=class extends ht{constructor(){super(...arguments),this.trackingService=of.resolve(rf.TrackingService)}connectedCallback(){super.connectedCallback(),document.addEventListener("keydown",this.handleKeyDown),window.addEventListener("orientationchange",this.handleOrientationChange)}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("orientationchange",this.handleOrientationChange)}async handleOrientationChange(){const{width:t,height:e}=await this.getCanvasSize();this.imageViewerContext.updateCanvasSize(t,e)}async getCanvasSize(){if(!this.imageViewerContext.originalImageSrc||this.environmentContext.isMobile&&!this.centralBlock)return{width:0,height:0};const{width:t,height:e}=await async function(t){const e=new Image;return e.src=t,new Promise((t=>{e.onload=()=>{t({width:e.naturalWidth,height:e.naturalHeight})}}))}(this.imageViewerContext.originalImageSrc),i=getComputedStyle(this.fullScreenOverlayElement),n=parseInt(i.paddingLeft,10)+parseInt(i.paddingRight,10),s=parseInt(i.paddingTop,10)+parseInt(i.paddingBottom,10),r=this.fullScreenOverlayElement.offsetWidth-n,a=this.fullScreenOverlayElement.offsetHeight-s;if(this.environmentContext.isMobile){const i=this.centralBlock?.clientWidth??1,n=this.centralBlock?.clientHeight??1,s=t>e,r=s?n/i:i/n;return s?{width:t,height:t*r}:{width:e*r,height:e}}return{width:r,height:a}}async updated(t){if(!t.has("imageViewerContext"))return;if(this.imageViewerContext.isOpen&&this.imageViewerContext.message&&(Ln(this.imageViewerContext.message.status)||In(this.imageViewerContext.message.status)))return void this.imageViewerContext.close();const e=t.get("imageViewerContext"),i=this.imageViewerContext.isOpen!==e?.isOpen,n=this.imageViewerContext.recognizeResult!==e?.recognizeResult,s=this.imageViewerContext.imageSelectionMode!==e?.imageSelectionMode,r=this.imageViewerContext.originalImageSrc!==e?.originalImageSrc;if((i||n||s)&&this.imageViewerContext.isOpen){if(this.imageViewerController||(this.imageViewerController=new Nf(this,this.fullScreenOverlayElement)),this.imageViewerController?.focusElement(),await this.updateComplete,!this.imageViewerContext.originalImageSrc||!this.imageViewerContext.translationImageSrc||this.environmentContext.isMobile&&!this.centralBlock)return;r&&this.imageViewerContext.updateRotateValue(0);const t=await this.getCanvasSize(),e=this.imageViewerContext.imageSelectionMode===ac.Translation,i=this.imageViewerContext.recognizeResult,n=e?this.imageViewerContext.translationImageSrc:this.imageViewerContext.originalImageSrc;this.imageViewerContext.renderImage(i?this.imageViewerContext.originalImageSrc:n,this.imageViewerContext.language,e,t,this.imageViewerContext.scale,this.imageViewerContext.rotateValue,i)}}renderCloseButton(){if(!this.environmentContext.isMobile)return K;const t=this.getCloseButtonProps(),e=this.localesContext.getText("a11y_close_btn");return W` <ya-button
            view="none"
            .size=${t.buttonSize}
            class="${this.environmentContext.isMobile?"close-button_touch":"close-button"}"
            shape="round"
            @click="${this.handleClose}"
            label=${e}
        >
            <ya-icon
                slot="icon"
                .size=${t.iconSize}
                color=${"primary"}
            >
                ${Rt($e())}
            </ya-icon>
        </ya-button>`}handleClickRotationButton(){const t=(this.imageViewerContext.rotateValue+90)%360;this.imageViewerContext.updateRotateValue(t,!0)}render(){const{isOpen:t}=this.imageViewerContext,e=this.localesContext.getText("a11y_image_viewer"),i=this.environmentContext.isMobile?"column":"row";return W`
            <flex-container
                class="${t?"image-overlay":"image-overlay_hidden"}"
                @mousedown=${this.handleFullScreenOverlayClick}
                direction=${i}
                justify="center"
                align="center"
                tabindex="0"
                aria-label=${e}
            >
                ${this.renderFullScreenImage()} ${this.renderCloseButton()}
            </flex-container>
        `}renderRotateButton(){const t=this.imageViewerContext.message?.status!==hn.Ready;return this.environmentContext.isMobile||t?K:W`<rotate-button
            @click=${this.handleClickRotationButton}
            class="rotate-button"
        ></rotate-button>`}handleScaleChange(t){const e=this.imageViewerContext.scale+t.detail.value;this.imageViewerContext.updateScale(Math.min(Math.max(e,1),3))}renderScaleBar(){const t=this.imageViewerContext.message?.status!==hn.Ready;return this.environmentContext.isMobile||t?K:W`<scale-bar
            class="scale-bar"
            scale=${this.imageViewerContext.scale}
            max-scale=${3}
            min-scale=${1}
            @scale-change=${this.handleScaleChange}
        ></scale-bar>`}renderFullScreenImage(){const{isOpen:t,originalImageSrc:e,translationImageSrc:i,imageSelectionMode:n,getCanvas:s}=this.imageViewerContext;return t&&e&&i&&void 0!==n?this.environmentContext.isMobile?W`<div class="top-block"></div>
                <div class="central-block">${s()}</div>
                <div class="bottom-block">
                    <ya-choice-group
                        view="dark"
                        width="full"
                        .items=${this.getRenderingModeOptions()}
                        @selection-changed="${this.handleFullScreenRenderModeChange}"
                        @focus-to-close="${this.handleFocusToClose}"
                        .selected-index=${n}
                        class="full-screen-choice-group"
                        font-weight="medium"
                    ></ya-choice-group>
                </div> `:W`${this.renderRotateButton()}${s()}${this.renderScaleBar()}`:K}getRenderingModeOptions(){return[this.localesContext.getText("show_translate_btn"),this.localesContext.getText("show_original_btn")]}getCloseButtonProps(){return this.environmentContext.isDesktop?{buttonSize:"xl",iconSize:"m"}:{buttonSize:"2xl",iconSize:"xl"}}handleFullScreenOverlayClick(t){const e=t.target;this.fullScreenOverlayElement===e&&this.handleClose()}handleClose(){this.imageViewerContext.close()}handleFullScreenRenderModeChange(t){const e=t.detail.selectedIndex,i=e===ac.Original?"original":"translation";this.logSelectionModeChange(i),this.imageViewerContext.setImageSelectionMode(e)}handleFocusToClose(){this.closeButtonTouchElement.focus()}toggleImage(){const t=this.imageViewerContext.imageSelectionMode,e=t===ac.Original?"translation":"original";this.logSelectionModeChange(e),this.imageViewerContext.setImageSelectionMode(t===ac.Translation?ac.Original:ac.Translation)}logSelectionModeChange(t){this.trackingService.trackEvent("ocr_image_mode_change",{mode:t,message_id:this.imageViewerContext.message?.id??""})}handleKeyDown(t){this.imageViewerContext.isOpen&&(gc(t)&&this.handleClose(),("ArrowLeft"===t.code||function(t){return"ArrowRight"===t.code}(t))&&this.toggleImage())}};dy.styles=cy,hy([hi({context:di,subscribe:!0}),mt()],dy.prototype,"localesContext",void 0),hy([hi({context:oc,subscribe:!0}),mt()],dy.prototype,"imageViewerContext",void 0),hy([hi({context:ur}),mt()],dy.prototype,"environmentContext",void 0),hy([yt(".image-overlay")],dy.prototype,"fullScreenOverlayElement",void 0),hy([yt(".central-block")],dy.prototype,"centralBlock",void 0),hy([yt(".close-button_touch")],dy.prototype,"closeButtonTouchElement",void 0),hy([Ue],dy.prototype,"handleOrientationChange",null),hy([Ue],dy.prototype,"handleKeyDown",null),dy=hy([pt("image-viewer")],dy);var py=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};const uy=["Escape","Tab","ArrowUp","CapsLock","ArrowDown","ArrowLeft","ArrowRight","ShiftLeft","ShiftRight","Insert","Enter","Help","Home","PrintScreen","ScrollLock","ContextMenu","Space","End"];class gy{constructor(t,e){this.host=t,this.textarea=e,this.inputFocused=!1,this.host.addController(this)}hostConnected(){document.addEventListener("keydown",this.handleInputKeydown),window.addEventListener("focus-event",this.handleFocusEvent)}hostDisconnected(){document.removeEventListener("keydown",this.handleInputKeydown),window.removeEventListener("focus-event",this.handleFocusEvent)}handleInputKeydown(t){const{ctrlKey:e,shiftKey:i,altKey:n,metaKey:s,code:r}=t;if(e||n||s||i||uy.includes(r))return;const a=document.activeElement;this.inputFocused||this.textarea?.contains(a)||this.textarea.focus()}handleFocusEvent(t){const{type:e}=t.detail;"focusin"===e?this.inputFocused=!0:"focusout"===e&&(this.inputFocused=!1,this.textarea.blur())}}py([Ue],gy.prototype,"handleInputKeydown",null),py([Ue],gy.prototype,"handleFocusEvent",null);const fy=o`
    :host {
        display: flex;
        flex-direction: column;
    }

    .textarea {
        border: none;
        background-color: var(--bg-secondary);
        overflow: auto;
        outline: none;
        box-shadow: none;
        resize: none;
        width: 100%;
        color: inherit;
        font-family: inherit;
        font-size: var(--size_m);
        line-height: var(--line-height_m);
        overflow-x: hidden;
        box-sizing: border-box;
        scrollbar-width: thin;
        scrollbar-color: var(--bg-shadow) transparent;
    }

    .textarea::placeholder {
        color: var(--text-tertiary);
    }

    .textarea.rtl-lang {
        direction: rtl;
        text-align: right;
    }
`;var my=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let vy=class extends ht{constructor(){super(...arguments),this.autofocus=!1,this.value="",this.disabled=!1}focus(){this.textarea?.focus()}firstUpdated(){this.setTextareaMaxHeight(),this.autofocus&&requestAnimationFrame((()=>{this.focus()})),this.textarea&&(this.inputDesktopController=new gy(this,this.textarea))}updated(t){t.has("value")&&this.resizeTextarea()}render(){const{name:t,placeholder:e,value:i,disabled:n}=this,s=Hu(this.getSrcLang())?"rtl":"ltr";return W`
            <textarea
                aria-describedby="desc"
                aria-labelledby="label"
                autocomplete="off"
                class="textarea"
                dir="${s}"
                id="${Xr(t)}"
                name="${Xr(t)}"
                placeholder="${Xr(e)}"
                rows="1"
                ?disabled="${n}"
                .value="${i}"
                @input=${this.handleInput}
            ></textarea>
        `}handleInput(t){t.target instanceof HTMLTextAreaElement&&(this.value=t.target.value)}setTextareaMaxHeight(){if(!this.textarea||!this.maxRows)return;const t=window.getComputedStyle(this.textarea,null),e=parseFloat(t.lineHeight)||parseFloat(t.height),i=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),n=parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),s="border-box"===t.boxSizing?i+n:0;this.textarea.style.maxHeight=`${e*this.maxRows+s}px`}resizeTextarea(){const{textarea:t}=this;t&&(t.style.height="auto",t.style.height=`${t.scrollHeight}px`)}getSrcLang(){return this.langsContext.langsPair.srcLang}};vy.styles=fy,my([hi({context:cn,subscribe:!0}),mt()],vy.prototype,"langsContext",void 0),my([ft({type:String})],vy.prototype,"name",void 0),my([ft({type:String})],vy.prototype,"placeholder",void 0),my([ft({type:Boolean})],vy.prototype,"autofocus",void 0),my([ft({type:String})],vy.prototype,"value",void 0),my([ft({type:Number})],vy.prototype,"maxRows",void 0),my([ft({type:Boolean})],vy.prototype,"disabled",void 0),my([yt(".textarea")],vy.prototype,"textarea",void 0),vy=my([pt("auto-resize-textarea")],vy);const yy=o`
    .file-input {
        display: none;
    }

    .submit-button-wrapper {
        padding-bottom: var(--space_xs);
    }

    /* mobile */
    @media (pointer: coarse) and (max-width: 900px) {
        .button_action_clip {
            pointer-events: none;
        }
    }
`;var xy=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};const by=Cr.toString(),wy=wr.toString(),_y=_r.toString();let Cy=class extends ht{constructor(){super(...arguments),this.trackingService=of.resolve(rf.TrackingService),this.empty=!1,this.experimentsService=of.resolve(rf.ExperimentsService)}openFileInput(t="all"){if(this.filelInputElement){switch(t){case"image":this.filelInputElement.accept=wy;break;case"document":this.filelInputElement.accept=_y;break;default:this.filelInputElement.accept=by}this.filelInputElement.click(),"all"!==t&&(this.filelInputElement.accept=by)}}render(){return this.empty?W`
                  <flex-container justify="center" align="center" gap="xs">
                      <label class="file-input-label">
                          <input
                              type="file"
                              name="file"
                              @change=${this.handleFileSelect}
                              accept="${by}"
                              class="file-input"
                          />
                          ${this.renderClipButton()}
                      </label>
                      ${this.renderMicrophoneButton()}
                  </flex-container>
              `:W`
                  <flex-container
                      class="submit-button-wrapper"
                      justify="center"
                      align="end"
                      gap="s"
                  >
                      <ya-button
                          class="button button_action_submit"
                          view="clear"
                          shape="default"
                          size="xl"
                          @click=${this.handleSubmit}
                      >
                          <ya-icon slot="icon" size="xl">
                              ${Rt(Nt())}
                          </ya-icon>
                      </ya-button>
                  </flex-container>
              `}renderClipButton(){const t=this.experimentsService.isFlagEnabled("enable_doc_translation"),e=this.experimentsService.isFlagEnabled("enable_image_translation"),i=t||e,n=this.localesContext.getText("a11y_clip_btn");return i?W`
                  <nt-tooltip
                      class="tooltip_action_clip"
                      y-shift="8"
                      .text=${this.localesContext.getText("attach_file")}
                  >
                      <ya-button
                          class="button button_action_clip"
                          view="clear"
                          size="xl"
                          label=${n}
                          @keydown=${this.handleClipKeydown}
                      >
                          <ya-icon slot="icon" size="xl">
                              ${Rt(Ht())}
                          </ya-icon>
                      </ya-button>
                  </nt-tooltip>
              `:K}renderMicrophoneButton(){return!ha()?W`
                  <nt-asr-button
                      @network-error=${this.handleASRNetworkError}
                      @recognition-finished=${this.handleRecognitionFinished}
                  ></nt-asr-button>
              `:K}handleASRNetworkError(){this.appNotificationsContext.showOfflineNotification({text:this.localesContext.getText("network_recognition_error"),position:"center",autoHide:!0})}handleRecognitionFinished(){if(this.recognitionContext.recognitionResult?.final){const t=new CustomEvent("asr-end",{detail:{recognizedText:this.recognitionContext.recognitionResult.text}});this.dispatchEvent(t)}else this.appNotificationsContext.showWarningNotification({text:this.localesContext.getText("empty_recognition_warning"),position:"center",autoHide:!0});this.recognitionContext.setRecognitionResult(null)}handleClipKeydown(t){uc(t)&&this.openFileInput()}handleSubmit(){const t=new CustomEvent("submit");this.dispatchEvent(t)}handleFileSelect(t){const e=t?.target,i=e?.files;if(this.trackingService.trackEvent("file_upload_tap"),!i?.length)return;const n=new CustomEvent("file-choose",{detail:{file:i[0]}});this.dispatchEvent(n),this.clearFileInput()}clearFileInput(){this.filelInputElement&&(this.filelInputElement.value="")}};Cy.styles=yy,xy([ft({type:Boolean})],Cy.prototype,"empty",void 0),xy([hi({context:di,subscribe:!0}),mt()],Cy.prototype,"localesContext",void 0),xy([hi({context:Hn,subscribe:!0}),mt()],Cy.prototype,"appNotificationsContext",void 0),xy([hi({context:bp,subscribe:!0}),mt()],Cy.prototype,"recognitionContext",void 0),xy([yt(".file-input")],Cy.prototype,"filelInputElement",void 0),Cy=xy([pt("nt-main-input-controls")],Cy);const Sy=o`
    :host {
        position: relative;

        display: block;

        box-sizing: border-box;
        width: 100%;

        border-radius: 0 0 var(--border-radius_l) var(--border-radius_l);
        background-color: var(--bg-secondary);
    }

    .wrapper {
        box-sizing: border-box;
        min-height: var(--size_3xl);
        padding: 0 var(--space_xs) var(--space_3xs)
            calc(var(--space_l) + var(--space_3xs));
    }

    .main-input {
        width: 100%;
        height: 100%;
        min-height: calc(var(--space_2xl) + var(--space_2xs));

        font-size: var(--size_l);
        line-height: var(--line-height_s);
    }

    .textarea-wrapper {
        width: 100%;
        position: relative;
    }

    .recognition-block {
        box-sizing: border-box;
        position: absolute;
        overflow: auto;
        height: 100%;
        width: 100%;

        background-color: var(--bg-secondary);

        text-align: start;
        font-size: var(--size_m);
        line-height: var(--line-height_m);

        scrollbar-width: thin;
        scrollbar-color: var(--bg-shadow) transparent;
    }

    .primary-text {
        color: var(--text-primary);
    }

    .secondary-text {
        color: var(--text-tertiary);
    }
`;var Ty=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};const ky=wr.toString(),Ey=Cr.toString();let Py=class extends ht{constructor(){super(...arguments),this["input-text"]="",this.mobileHiddenFileInput=document.getElementById("fileAttachmentInput"),this.trackingService=of.resolve(rf.TrackingService),this.experimentsService=of.resolve(rf.ExperimentsService),this.soundService=of.resolve(rf.SoundService),this.isWebInputEnabled=this.experimentsService.isFlagEnabled("enable_mobile_web_input"),this.isInputedStarted=!1}openFileInput(t="all"){this.controlsElement.openFileInput(t)}focus(){this.textArea?.focus()}connectedCallback(){if(super.connectedCallback(),!this.mobileHiddenFileInput)return;const t=this.experimentsService.isFlagEnabled("enable_doc_translation");this.mobileHiddenFileInput.accept=t?Ey:ky,this.mobileHiddenFileInput.addEventListener("change",this.handleMobileFileSelect)}disconnectedCallback(){super.disconnectedCallback(),this.mobileHiddenFileInput?.removeEventListener("change",this.handleMobileFileSelect)}submit(t){const e=new CustomEvent("submit",{bubbles:!0,composed:!0,detail:{text:t}});this.dispatchEvent(e),this.isInputedStarted=!1,this.soundService.playInput()}handleKeyPress(t){"Enter"===t.key&&!t.shiftKey&&(t.preventDefault(),this.submit(this["input-text"]))}handleInputTextChange(t){const e=t.target,i=new CustomEvent("text-input",{detail:{value:e.value},bubbles:!0,composed:!0});this.dispatchEvent(i),!e.value&&this.isInputedStarted&&this.trackInputClear(),this["input-text"]||this.isInputedStarted||this.trackInputStart()}handlePaste(t){t.clipboardData?.files.length&&t.preventDefault()}trackInputStart(){this.trackingService.trackEvent("main_input_typing_start"),this.isInputedStarted=!0}trackInputClear(){this.trackingService.trackEvent("main_input_clear"),this.isInputedStarted=!1}handleMobileFileSelect(t){const e=t?.target,i=e?.files;i?.length&&this.handleFileSelect(i[0])}handleDesktopFileSelect(t){const{file:e}=t.detail;this.handleFileSelect(e)}handleFileSelect(t){const e=new CustomEvent("file-select",{bubbles:!0,composed:!0,detail:Pr(t)});this.dispatchEvent(e),this.clearFileInput()}clearFileInput(){this.mobileHiddenFileInput&&(this.mobileHiddenFileInput.value="")}handleTextAreaFocus(){const t=new CustomEvent("text-area-focus",{bubbles:!0,composed:!0,detail:{focused:!0}});this.dispatchEvent(t)}handleTextAreaBlur(){const t=new CustomEvent("text-area-focus",{bubbles:!0,composed:!0,detail:{focused:!1}});this.dispatchEvent(t)}renderRecognitionBlock(){return this.recognitionContext.isActive?W`<div class="recognition-block">
            <span class="primary-text">${this["input-text"]}</span>
            <span class="secondary-text"
                >${this.recognitionContext.recognitionResult?.text||""}</span
            >
        </div>`:K}handleWrapperClick(t){t.target===this.inputWrapper&&this.focus()}render(){if(this.environmentContext.isMobile&&!this.isWebInputEnabled)return K;const t=this.recognitionContext.isActive&&this.recognitionContext.recognitionResult?this.recognitionContext.recognitionResult.text:"",e=this["input-text"]+t,i=!this["input-text"].length,n=!this.settingsContext.isShowOnboardingEnabled;return W`
            <flex-container
                class="wrapper"
                @click=${this.handleWrapperClick}
                justify="center"
                align="stretch"
                gap="s"
            >
                <span class="textarea-wrapper">
                    ${this.renderRecognitionBlock()}
                    <auto-resize-textarea
                        ?autofocus=${n}
                        class="main-input"
                        name="src-text"
                        maxRows="7"
                        .value=${e}
                        placeholder=${this.getPlacehoderText()}
                        @input=${this.handleInputTextChange}
                        @keypress=${this.handleKeyPress}
                        @paste=${this.handlePaste}
                        @focus=${this.handleTextAreaFocus}
                        @blur=${this.handleTextAreaBlur}
                    ></auto-resize-textarea
                ></span>
                <nt-main-input-controls
                    class="controls"
                    ?empty="${i}"
                    @asr-end=${this.handleAsrEnd}
                    @submit=${this.handleSubmit}
                    @file-choose=${this.handleDesktopFileSelect}
                ></nt-main-input-controls>
            </flex-container>
        `}handleAsrEnd(t){const{recognizedText:e}=t.detail;this.submit(this["input-text"]+e)}handleSubmit(){this.submit(this["input-text"])}getPlacehoderText(){return this.localesContext.getText("main_input_placeholder")}};Py.styles=Sy,Ty([ft({attribute:"input-text",type:String})],Py.prototype,"input-text",void 0),Ty([yt("auto-resize-textarea")],Py.prototype,"textArea",void 0),Ty([hi({context:di,subscribe:!0}),mt()],Py.prototype,"localesContext",void 0),Ty([hi({context:bp,subscribe:!0}),mt()],Py.prototype,"recognitionContext",void 0),Ty([hi({context:pi,subscribe:!0}),mt()],Py.prototype,"settingsContext",void 0),Ty([hi({context:ur}),mt()],Py.prototype,"environmentContext",void 0),Ty([yt(".controls")],Py.prototype,"controlsElement",void 0),Ty([yt(".wrapper")],Py.prototype,"inputWrapper",void 0),Ty([Ue],Py.prototype,"handleMobileFileSelect",null),Py=Ty([pt("nt-main-input")],Py);class Ly{constructor(t,e){this.host=t,this.callbacks=e,this.host.addController(this)}hostConnected(){this.callbacks.onOnlineStatus&&window.addEventListener("online",this.callbacks.onOnlineStatus),this.callbacks.onOfflineStatus&&window.addEventListener("offline",this.callbacks.onOfflineStatus)}hostDisconnected(){this.callbacks.onOnlineStatus&&window.removeEventListener("online",this.callbacks.onOnlineStatus),this.callbacks.onOfflineStatus&&window.removeEventListener("offline",this.callbacks.onOfflineStatus)}}const Iy=o`
    :host {
        display: flex;
        flex-direction: column;
        align-items: center;

        --input-panel-shadow: rgba(240, 92, 185, 0.22);
    }

    .languages-select {
        position: relative;

        box-sizing: border-box;
        width: 100%;
        height: calc(var(--space_3xl) + var(--space_2xs));
        padding-left: var(--space_s);

        display: flex;
        flex: 0 0 auto;
    }

    .input-panel {
        position: relative;
        width: calc(100% - 2 * var(--space_xl));
        max-width: var(--text-content-max-width);
        min-height: 82px;
        margin: 0 var(--space_xl) 0;

        border-radius: var(--border-radius_l);
    }

    .input-panel.online::before {
        content: '';
        position: absolute;
        z-index: 0;
        inset: -1px;
        border: 1px solid transparent;
        border-radius: var(--border-radius_l);
        background: linear-gradient(var(--bg-secondary), var(--bg-secondary)),
            var(--ya-gradient-accents-neuro-flip);
        background-origin: border-box;
        background-clip: padding-box, border-box;
        opacity: 0.3;
    }

    .input-panel.focused::before {
        box-shadow: 0px 4px 14px 0px var(--input-panel-shadow);
        opacity: 1;
    }

    .elvish {
        font-family: 'Tengwar Annatar', Arial, Helvetica, sans-serif;
    }

    .offline-banner {
        box-sizing: border-box;
        height: 100%;
        padding: var(--space_m) var(--space_s) var(--space_m)
            calc(var(--space_s) + var(--space_xl));

        border-radius: var(--border-radius_l);
        background-color: var(--bg-warning);

        user-select: none;
    }

    .error-icon {
        position: absolute;
        top: var(--space_m);
        left: var(--space_s);
    }

    .reload-link {
        color: var(--text-link);

        transition: color var(--transition-duration-m);
    }

    .reload-link:hover {
        color: var(--text-link-hover);
    }
`;var My=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let Ay=class extends ht{handleCardClick(t){"focus-input"!==t?("attach-document"===t&&this.mainInput?.openFileInput("document"),"attach-image"===t&&this.mainInput?.openFileInput("image")):this.mainInput?.focus()}updated(){this.langsContext.langsPair.srcLang!==on||this.elvishFontController||(this.elvishFontController=new Nu)}constructor(){super(),this.elvishFontController=null,this["main-input-text"]="",this["language-popup-current-type"]="src",this.isOnline=yh(),this.isTextAreaFocused=!1,this.offlineController=new Ly(this,{onOfflineStatus:this.handleOfflineStatus,onOnlineStatus:this.handleOnlineStatus})}handleInputFocus(t){this.isTextAreaFocused=t.detail.focused}handleSrcLanguageButtonClick(){this.handleLanguageButtonClick("src")}handleDstLanguageButtonClick(){this.handleLanguageButtonClick("dst")}handleLanguageButtonClick(t){const e=new CustomEvent("lang-button-click",{detail:{buttonType:t,languagesSource:"main"}});this.langsContext.activeMessagePopup&&this.langsContext.setActiveMessagePopup(void 0),this.dispatchEvent(e)}handleOfflineStatus(){this.isOnline=!1}handleOnlineStatus(){this.isOnline=!0}handlePageReloadClick(){window.location.reload()}render(){const t=We({"input-panel":!0,focused:this.isTextAreaFocused,online:this.isOnline});return W`
            <div class=${t}>
                ${this.isOnline?this.renderOnlineState():this.renderOfflineState()}
            </div>
            <nt-disclaimer></nt-disclaimer>
        `}languagesPanelClick(t){t.target===this.languagesSelect&&this.mainInput?.focus()}renderOnlineState(){const t=We({"main-input":!0,elvish:this.langsContext.langsPair.srcLang===on});return W`
            <languages-select
                @click=${this.languagesPanelClick}
                class="languages-select"
            >
                <language-button
                    class="src-language-button"
                    slot="src-button"
                    type="src"
                    @click=${this.handleSrcLanguageButtonClick}
                ></language-button>
                <language-button
                    class="dst-language-button"
                    slot="dst-button"
                    type="dst"
                    @click=${this.handleDstLanguageButtonClick}
                ></language-button>
            </languages-select>
            <nt-main-input
                class=${t}
                .input-text=${this["main-input-text"]}
                @text-area-focus=${this.handleInputFocus}
            ></nt-main-input>
        `}renderOfflineState(){return W`
            <ya-icon size="m" class="error-icon">
                ${Rt(ee())}
            </ya-icon>
            <flex-container
                direction="column"
                justify="center"
                align="start"
                gap="xs"
                class="offline-banner"
            >
                <ya-text font-size="s" line-height="xs" font-weight="medium">
                    ${this.localesContext.getText("offline_banner_title")}
                </ya-text>
                <div>
                    <ya-text
                        font-size="s"
                        line-height="xs"
                        font-weight="regular"
                    >
                        ${this.localesContext.getText("offline_banner_text")}
                    </ya-text>
                    <ya-text
                        font-size="s"
                        line-height="xs"
                        class="reload-link"
                        @click=${this.handlePageReloadClick}
                    >
                        ${this.localesContext.getText("reload_page")}
                    </ya-text>
                </div>
            </flex-container>
        `}};function Oy(){const t=new CustomEvent("clear-search",{detail:{type:"languages"},bubbles:!0,composed:!0});document.dispatchEvent(t)}function Ry(){const t=new CustomEvent("focus-search",{detail:{type:"languages"},bubbles:!0,composed:!0});document.dispatchEvent(t)}Ay.styles=Iy,My([hi({context:cn,subscribe:!0}),mt()],Ay.prototype,"langsContext",void 0),My([ft({attribute:"main-input-text",type:String})],Ay.prototype,"main-input-text",void 0),My([ft({attribute:"language-popup-current-type",type:String})],Ay.prototype,"language-popup-current-type",void 0),My([mt()],Ay.prototype,"isOnline",void 0),My([mt()],Ay.prototype,"isTextAreaFocused",void 0),My([yt("languages-select")],Ay.prototype,"languagesSelect",void 0),My([yt(".src-language-button")],Ay.prototype,"srcLanguageButtonElement",void 0),My([yt(".dst-language-button")],Ay.prototype,"dstLanguageButtonElement",void 0),My([yt(".main-input")],Ay.prototype,"mainInput",void 0),My([mt(),hi({context:di,subscribe:!0})],Ay.prototype,"localesContext",void 0),My([Ue],Ay.prototype,"handleOfflineStatus",null),My([Ue],Ay.prototype,"handleOnlineStatus",null),Ay=My([pt("nt-central-section-input-wrapper")],Ay);const Dy=o`
    .card-container {
        height: var(--size_5xl);
        align-items: flex-start;
        box-sizing: border-box;
        border: 1px solid transparent;
        border-radius: calc(var(--border-radius_4xl) + var(--border-radius_s));
        padding: var(--space_xs) var(--space_m) var(--space_xs) var(--space_m);
        overflow: hidden;
    }

    .card-container:hover {
        border: 1px solid var(--bg-shadow);
    }

    .card {
        gap: calc(var(--space_2xs) + var(--space_3xs));
    }

    /* mobile */
    @media (pointer: coarse) and (max-width: 900px) {
        .cards-container {
            pointer-events: none;
            width: calc(106px + 144px + 2 * var(--space_xs));
            gap: var(--space_xs);
        }
    }

    /* mobile + landscape */
    @media (pointer: coarse) and (max-width: 900px) and (orientation: landscape) {
        .cards-container {
            width: 100%;
        }
    }
`;var jy=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};const $y=[{icon:Rt(Le()),textKey:"empty_messages_list_text",popupTextKey:"empty_messages_list_popup_text",clickAction:"focus-input"},{icon:Rt(Me()),textKey:"empty_messages_list_pictures",popupTextKey:"empty_messages_list_popup_pictures",clickAction:"attach-image"},{icon:Rt(Ee()),textKey:"empty_messages_list_websites",popupTextKey:"empty_messages_list_popup_websites",clickAction:"focus-input"}],Fy=[{icon:Rt(Te()),textKey:"empty_messages_list_documents",popupTextKey:"empty_messages_list_popup_documents",clickAction:"attach-document"},{icon:Rt(Le()),textKey:"empty_messages_list_text",popupTextKey:"empty_messages_list_popup_text",clickAction:"focus-input"},{icon:Rt(Me()),textKey:"empty_messages_list_pictures",popupTextKey:"empty_messages_list_popup_pictures",clickAction:"attach-image"},{icon:Rt(Ee()),textKey:"empty_messages_list_websites",popupTextKey:"empty_messages_list_popup_websites",clickAction:"focus-input"}],zy=ha()?$y:Fy;let By=class extends ht{handleCardClick(t){const e=new CustomEvent("card-click",{bubbles:!0,composed:!0,detail:{action:t}});this.dispatchEvent(e)}render(){return W`<flex-container
            class="cards-container"
            justify="center"
            wrap="wrap"
        >
            ${
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
function*(t,e){if(void 0!==t){let i=0;for(const n of t)yield e(n,i++)}}(zy,(t=>W`<nt-tooltip
                    class="card-container"
                    y-shift="8"
                    preferred-vertical-position="bottom"
                    .text=${this.localesContext.getText(t.popupTextKey)}
                >
                    <flex-container
                        @click=${()=>this.handleCardClick(t.clickAction)}
                        tabindex="0"
                        align="center"
                        class="card"
                    >
                        <ya-icon class="card__icon" size="2xl"
                            >${t.icon}</ya-icon
                        >

                        <ya-text
                            class="card__text"
                            line-height="s"
                            font-size="s"
                            >${this.localesContext.getText(t.textKey)}</ya-text
                        >
                    </flex-container></nt-tooltip
                >`))}
        </flex-container>`}};By.styles=Dy,jy([hi({context:di,subscribe:!0}),mt()],By.prototype,"localesContext",void 0),By=jy([pt("card-container")],By);const Ny=o`
    :host {
        width: calc(100% - 2 * var(--space_xl));
        max-width: var(--text-content-max-width);
        height: 100%;

        user-select: none;
    }

    .empty-state-container {
        height: 100%;
        position: relative;
    }

    /* mobile */
    @media (pointer: coarse) and (max-width: 900px) {
        :host {
            width: 100%;
            max-width: 100%;
        }
    }
`;var Vy=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let Hy=class extends ht{render(){const t=this.localesContext.getText("empty_messages_list_placeholder"),e=`${t} ${this.environmentContext.isMobile?this.localesContext.getText("a11y_empty_messages_cards"):""}`,i=this.environmentContext.isMobile?"true":"false";return W`
            <flex-container
                class="empty-state-container"
                direction="column"
                justify="center"
                align="center"
                gap="m"
                aria-label=${e}
                tabindex="${this.environmentContext.isMobile?"0":""}"
            >
                <ya-text
                    font-size="2xl"
                    line-height="2xs"
                    font-weight="medium"
                    text-align="center"
                    aria-hidden="${i}"
                    tabindex="-1"
                >
                    ${t}
                </ya-text>

                <card-container
                    aria-hidden="${i}"
                    tabindex="-1"
                ></card-container>
            </flex-container>
        `}};Hy.styles=Ny,Vy([hi({context:di,subscribe:!0}),mt()],Hy.prototype,"localesContext",void 0),Vy([hi({context:ur}),mt()],Hy.prototype,"environmentContext",void 0),Hy=Vy([pt("empty-state-placeholder")],Hy);class Uy{constructor(t){this.host=t,this.localesService=of.resolve(rf.LocalesService),this.host.addController(this)}hostUpdate(){this.updateDocumentTitle()}updateDocumentTitle(){this.localesService.isLocalesReady?document.title=this.localesService.getText("header_text"):document.title=""}}const qy={firstMessage:{text:{en:"YandexGPT neural network translator: translate everything in the chat",ru:"   YandexGPT:    "}},secondMessage:{text:{en:"Cool!",ru:"!"},dictionary:{en:{dictionaryGroups:[{word:{text:"",partOfSpeechCode:"adv",partOfSpeech:"adverb",partOfSpeechText:"adv",partOfSpeechFullText:"adverb"},entries:[{translations:[{text:"abruptly",partOfSpeechCode:"adv",partOfSpeech:"adverb",partOfSpeechText:"adv",partOfSpeechFullText:"adverb"},{text:"steeply",partOfSpeechCode:"adv",partOfSpeech:"adverb",partOfSpeechText:"adv",partOfSpeechFullText:"adverb"},{text:"sharply",partOfSpeechCode:"adv",partOfSpeech:"adverb",partOfSpeechText:"adv",partOfSpeechFullText:"adverb"}],meanings:[{text:""},{text:""}]}]},{word:{text:"",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},entries:[{translations:[{text:"steep",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},{text:"sharp",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"}],meanings:[{text:""},{text:""}]},{translations:[{text:"abrupt",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},{text:"precipitous",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},{text:"drastic",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"}],meanings:[{text:""},{text:""}]},{translations:[{text:"tough",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"}],meanings:[{text:""}]},{translations:[{text:"cool",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"}],meanings:[]},{translations:[{text:"awesome",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"}],meanings:[{text:""}]},{translations:[{text:"strong",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"}],meanings:[{text:""}]},{translations:[{text:"craggy",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"}],meanings:[{text:""}]},{translations:[{text:"rapid",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"}],meanings:[{text:""}]}]}],relatedWords:{synonyms:[{text:"abruptly",partOfSpeechCode:"adv",partOfSpeech:"adverb",partOfSpeechText:"adv",partOfSpeechFullText:"adverb"},{text:"steeply",partOfSpeechCode:"adv",partOfSpeech:"adverb",partOfSpeechText:"adv",partOfSpeechFullText:"adverb"},{text:"sharply",partOfSpeechCode:"adv",partOfSpeech:"adverb",partOfSpeechText:"adv",partOfSpeechFullText:"adverb"},{text:"steep",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},{text:"sharp",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},{text:"abrupt",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},{text:"precipitous",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},{text:"drastic",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},{text:"tough",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},{text:"cool",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},{text:"awesome",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},{text:"strong",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},{text:"craggy",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},{text:"rapid",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"}],antonyms:[],derivatives:[]}},ru:{dictionaryGroups:[{word:{text:"cool",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective",transcription:"kul"},entries:[{translations:[{text:"",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},{text:"",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},{text:"",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},{text:"",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},{text:"",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"}],meanings:[{text:"steep"},{text:"classroom"},{text:"really cool"}]},{translations:[{text:"",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},{text:"",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},{text:"",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"}],meanings:[{text:"cold"},{text:"chilly"},{text:"calm"}]},{translations:[{text:"",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},{text:"",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"}],meanings:[{text:"great"},{text:"wonderful"}]},{translations:[{text:"",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"}],meanings:[{text:"interesting"}]},{translations:[{text:"",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"}],meanings:[{text:"coldish"}]}]},{word:{text:"cool",partOfSpeechCode:"vrb",partOfSpeech:"verb",partOfSpeechText:"v",partOfSpeechFullText:"verb",transcription:"kul"},entries:[{translations:[{text:"",partOfSpeechCode:"vrb",partOfSpeech:"verb",partOfSpeechText:"v",partOfSpeechFullText:"verb"},{text:"",partOfSpeechCode:"vrb",partOfSpeech:"verb",partOfSpeechText:"v",partOfSpeechFullText:"verb"},{text:"",partOfSpeechCode:"vrb",partOfSpeech:"verb",partOfSpeechText:"v",partOfSpeechFullText:"verb"},{text:"",partOfSpeechCode:"vrb",partOfSpeech:"verb",partOfSpeechText:"v",partOfSpeechFullText:"verb"},{text:"",partOfSpeechCode:"vrb",partOfSpeech:"verb",partOfSpeechText:"v",partOfSpeechFullText:"verb"}],meanings:[{text:"cool down"},{text:"cold"}]},{translations:[{text:"",partOfSpeechCode:"vrb",partOfSpeech:"verb",partOfSpeechText:"v",partOfSpeechFullText:"verb"},{text:"",partOfSpeechCode:"vrb",partOfSpeech:"verb",partOfSpeechText:"v",partOfSpeechFullText:"verb"},{text:"",partOfSpeechCode:"vrb",partOfSpeech:"verb",partOfSpeechText:"v",partOfSpeechFullText:"verb"},{text:"",partOfSpeechCode:"vrb",partOfSpeech:"verb",partOfSpeechText:"v",partOfSpeechFullText:"verb"}],meanings:[{text:"chill"}]}]},{word:{text:"cool",partOfSpeechCode:"nn",partOfSpeech:"noun",partOfSpeechText:"n",partOfSpeechFullText:"noun",transcription:"kul"},entries:[{translations:[{text:"",partOfSpeechCode:"nn",partOfSpeech:"noun",partOfSpeechText:"n",partOfSpeechFullText:"noun",gender:"feminine",genderText:"",genderFullText:"feminine"}],meanings:[{text:"chill"}]},{translations:[{text:"",partOfSpeechCode:"nn",partOfSpeech:"noun",partOfSpeechText:"n",partOfSpeechFullText:"noun",gender:"neuter",genderText:"",genderFullText:"neuter"},{text:"",partOfSpeechCode:"nn",partOfSpeech:"noun",partOfSpeechText:"n",partOfSpeechFullText:"noun",gender:"neuter",genderText:"",genderFullText:"neuter"}],meanings:[{text:"cooling"}]},{translations:[{text:"",partOfSpeechCode:"nn",partOfSpeech:"noun",partOfSpeechText:"n",partOfSpeechFullText:"noun",gender:"neuter",genderText:"",genderFullText:"neuter"}],meanings:[{text:"composure"}]},{translations:[{text:"",partOfSpeechCode:"nn",partOfSpeech:"noun",partOfSpeechText:"n",partOfSpeechFullText:"noun",gender:"feminine",genderText:"",genderFullText:"feminine"}],meanings:[{text:"slope"}]}]},{word:{text:"cool",partOfSpeechCode:"adv",partOfSpeech:"adverb",partOfSpeechText:"adv",partOfSpeechFullText:"adverb",transcription:"kul"},entries:[{translations:[{text:"",partOfSpeechCode:"adv",partOfSpeech:"adverb",partOfSpeechText:"adv",partOfSpeechFullText:"adverb"}],meanings:[{text:"great"}]}]}],relatedWords:{synonyms:[{text:"",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},{text:"",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},{text:"",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},{text:"",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},{text:"",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},{text:"",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},{text:"",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},{text:"",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},{text:"",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},{text:"",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},{text:"",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},{text:"",partOfSpeechCode:"adj",partOfSpeech:"adjective",partOfSpeechText:"adj",partOfSpeechFullText:"adjective"},{text:"",partOfSpeechCode:"vrb",partOfSpeech:"verb",partOfSpeechText:"v",partOfSpeechFullText:"verb"},{text:"",partOfSpeechCode:"vrb",partOfSpeech:"verb",partOfSpeechText:"v",partOfSpeechFullText:"verb"},{text:"",partOfSpeechCode:"vrb",partOfSpeech:"verb",partOfSpeechText:"v",partOfSpeechFullText:"verb"},{text:"",partOfSpeechCode:"vrb",partOfSpeech:"verb",partOfSpeechText:"v",partOfSpeechFullText:"verb"},{text:"",partOfSpeechCode:"vrb",partOfSpeech:"verb",partOfSpeechText:"v",partOfSpeechFullText:"verb"},{text:"",partOfSpeechCode:"vrb",partOfSpeech:"verb",partOfSpeechText:"v",partOfSpeechFullText:"verb"},{text:"",partOfSpeechCode:"vrb",partOfSpeech:"verb",partOfSpeechText:"v",partOfSpeechFullText:"verb"},{text:"",partOfSpeechCode:"vrb",partOfSpeech:"verb",partOfSpeechText:"v",partOfSpeechFullText:"verb"},{text:"",partOfSpeechCode:"vrb",partOfSpeech:"verb",partOfSpeechText:"v",partOfSpeechFullText:"verb"},{text:"",partOfSpeechCode:"nn",partOfSpeech:"noun",partOfSpeechText:"n",partOfSpeechFullText:"noun",gender:"feminine",genderText:"",genderFullText:"feminine"},{text:"",partOfSpeechCode:"nn",partOfSpeech:"noun",partOfSpeechText:"n",partOfSpeechFullText:"noun",gender:"neuter",genderText:"",genderFullText:"neuter"},{text:"",partOfSpeechCode:"nn",partOfSpeech:"noun",partOfSpeechText:"n",partOfSpeechFullText:"noun",gender:"neuter",genderText:"",genderFullText:"neuter"},{text:"",partOfSpeechCode:"nn",partOfSpeech:"noun",partOfSpeechText:"n",partOfSpeechFullText:"noun",gender:"neuter",genderText:"",genderFullText:"neuter"},{text:"",partOfSpeechCode:"nn",partOfSpeech:"noun",partOfSpeechText:"n",partOfSpeechFullText:"noun",gender:"feminine",genderText:"",genderFullText:"feminine"},{text:"",partOfSpeechCode:"adv",partOfSpeech:"adverb",partOfSpeechText:"adv",partOfSpeechFullText:"adverb"}],antonyms:[],derivatives:[]}}},examples:{en:{examples:[{id:"e4239a6f1aece6b9da6c9762d0aaf8c6",srcHighlightedParts:[{text:"    ,  ,  -  -   ",isHighlighting:!1},{text:"",isHighlighting:!0},{text:" .",isHighlighting:!1}],dstHighlightedParts:[{text:"Sometimes things fall out so badly that there's nothing for it but to hang one's self- but, just look, to-morrow life has changed",isHighlighting:!1},{text:"abruptly",isHighlighting:!0},{text:".",isHighlighting:!1}],srcText:"    ,  ,  -  -    .",dstText:"Sometimes things fall out so badly that there's nothing for it but to hang one's self- but, just look, to-morrow life has changed abruptly.",ref:{type:"book",author:"  ",title:"",translator:"B.G. Guerney",year:1909,director:"",imdb:"",origTitle:"",url:""}},{id:"386eb4deefda7819cc6df165463e9306",srcHighlightedParts:[{text:",   :      ",isHighlighting:!1},{text:"",isHighlighting:!0},{text:",         .",isHighlighting:!1}],dstHighlightedParts:[{text:"A poker game-- We intended to raise so ",isHighlighting:!1},{text:"steeply",isHighlighting:!0},{text:" that they would fold and drop out.",isHighlighting:!1}],srcText:",   :      ,         .",dstText:"A poker game-- We intended to raise so steeply that they would fold and drop out.",ref:{type:"book",author:" ",title:" -  ",translator:".. , .. ",year:1965,director:"",imdb:"",origTitle:"",url:""}},{id:"b6cb6a9e6d409f9745dfbde8640fa01c",srcHighlightedParts:[{text:" , ",isHighlighting:!1},{text:"",isHighlighting:!0},{text:" .",isHighlighting:!1}],dstHighlightedParts:[{text:"Myshlaevsky saluted and faced ",isHighlighting:!1},{text:"sharply",isHighlighting:!0},{text:" about.",isHighlighting:!1}],srcText:" ,  .",dstText:"Myshlaevsky saluted and faced sharply about.",ref:{type:"book",author:"  ",title:" ",translator:"Michael Glenny",year:1925,director:"",imdb:"",origTitle:"",url:""}}],tabs:[]},ru:{examples:[{id:"e2f1554c05811f7f28c684520f4d5057",srcHighlightedParts:[{text:"",isHighlighting:!1},{text:"Cool",isHighlighting:!0},{text:" Aunt Phoebe.",isHighlighting:!1}],dstHighlightedParts:[{text:"",isHighlighting:!1},{text:"",isHighlighting:!0},{text:"  .",isHighlighting:!1}],srcText:"Cool Aunt Phoebe.",dstText:"  .",ref:{type:"series",author:"",title:"Friends",translator:"",year:0,director:"Peter Bonerz",imdb:"https://www.imdb.com/title/tt0583659/",origTitle:"Friends",url:"https://www.kinopoisk.ru/film/77044/"}},{id:"70901b362665788122323af6d698d897",srcHighlightedParts:[{text:"",isHighlighting:!1},{text:"Cool",isHighlighting:!0},{text:" tie.",isHighlighting:!1}],dstHighlightedParts:[{text:"",isHighlighting:!1},{text:"",isHighlighting:!0},{text:" .",isHighlighting:!1}],srcText:"Cool tie.",dstText:" .",ref:{type:"series",author:"",title:"Friends",translator:"",year:0,director:"Michael Lembeck",imdb:"https://www.imdb.com/title/tt0583568/",origTitle:"Friends",url:"https://www.kinopoisk.ru/film/77044/"}},{id:"5127ba0fdaf74cc33978dc4f3d45d9f3",srcHighlightedParts:[{text:"",isHighlighting:!1},{text:"Cool",isHighlighting:!0},{text:", sir! said Dean Thomas in amazement.",isHighlighting:!1}],dstHighlightedParts:[{text:"- ",isHighlighting:!1},{text:"",isHighlighting:!0},{text:", ! -   .",isHighlighting:!1}],srcText:"Cool, sir! said Dean Thomas in amazement.",dstText:"- , ! -   .",ref:{type:"book",author:" . ",title:"    ",translator:" ",year:1999,director:"",imdb:"",origTitle:"",url:""}}],tabs:[]}}},thirdMessage:{text:{en:{desktop:"Send a text, picture, document or website for translation ",mobile:"Send a text, picture or website for translation "},ru:{desktop:" , ,   -   ",mobile:" ,   -   "}}}},Wy="onboardingStarted";class Zy extends Dl{constructor(){super(...arguments),this.shownMessagesCount=0,this.allMessagesCount=0,this.config=of.resolve(rf.Config),this.langStorage=of.resolve(rf.LangsStorage),this.threadsStorage=of.resolve(rf.ThreadsStorage),this.messagesPairsStorage=of.resolve(rf.MessagesPairsStorage),this.messagesPairsFactory=of.resolve(rf.MessagesPairsFactory),this.settingsStorage=of.resolve(rf.SettingsStorage),this.trackingService=of.resolve(rf.TrackingService)}async start(t){super.start(t),this.isOnboardingStarted||(this.isShowOnboardingEnabled&&this.isOnboardingStarted?this.setOnboardingCompleted():(this.setOnboardingStarted(),this.trackingService.trackEvent("onboarding_start"),await this.runTask(),this.setOnboardingCompleted(),this.stop()))}async runTask(){const t=this.getOnboardingMessages();this.allMessagesCount=t.length,await this.appendMessage(t[0]),await this.appendMessage(t[1]),await this.appendMessage(t[2])}async appendMessage(t){if(!this.isShowOnboardingEnabled)return;this.shownMessagesCount++;const e=this.messagesPairsFactory.createTextMessagesPair(t.input),i=e.id;await this.messagesPairsStorage.addMessagesPair(e),this.threadsStorage.getActiveThread().isEmpty&&this.threadsStorage.updateThreadIsEmpty(e.threadId,!1),await qe(2e3),await this.messagesPairsStorage.setMessagesPairOutput(i,t.output),await this.messagesPairsStorage.updateMessagesPairStatus(i,hn.Ready),await qe(2e3)}getOnboardingMessages(){const t=this.langStorage.getLangsPair();return[{input:{text:qy.firstMessage.text[t.srcLang],srcLang:t.srcLang,dstLang:t.dstLang},output:{text:qy.firstMessage.text[t.dstLang],dictionary:void 0,examples:void 0}},{input:{text:qy.secondMessage.text[t.srcLang],srcLang:t.srcLang,dstLang:t.dstLang},output:{text:qy.secondMessage.text[t.dstLang],dictionary:qy.secondMessage.dictionary[t.dstLang],examples:qy.secondMessage.examples[t.dstLang]}},{input:{text:qy.thirdMessage.text[t.srcLang][this.config.platform],srcLang:t.srcLang,dstLang:t.dstLang},output:{text:qy.thirdMessage.text[t.dstLang][this.config.platform],dictionary:void 0,examples:void 0}}]}get isOnboardingStarted(){return"true"===localStorage.getItem(Wy)}setOnboardingStarted(){return localStorage.setItem(Wy,"true")}get isShowOnboardingEnabled(){return this.settingsStorage.isOptionEnabled("showOnboarding")}setOnboardingCompleted(){this.settingsStorage.setIsOptionEnabled("showOnboarding",!1)}stop(){super.stop(),this.trackingService.trackEvent("onboarding_stop",{messages_all_count:this.allMessagesCount,messages_shown_count:this.shownMessagesCount})}}const Ky=class{constructor(t){this.host=t,this.tasksService=of.resolve(rf.TasksService),this.isOnboardingRequested=!1,this.host=t,this.host.addController(this)}hostConnected(){}async requestOnboarding(){if(this.isOnboardingRequested)return;this.isOnboardingRequested=!0,await Vg();const t=new Zy;this.tasksService.executeTask(t)}};var Gy=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};class Yy extends ht{constructor(){super(),this.trackingService=of.resolve(rf.TrackingService),this.userInputInteractor=of.resolve(rf.UserInputInteractor),this.acceptFileInteractor=of.resolve(rf.AcceptFileInteractor),this.documentsTranslationInteractor=of.resolve(rf.DocumentsTranslationInteractor),this.experimentsService=of.resolve(rf.ExperimentsService),this.isMessagesScrollStarted=!1,this.emptyStateThreadId="",this.mainInputText="",this.firstOpeningAnimationController=new Xf(this),this.documentTitleController=new Uy(this),this.onboardingTaskController=new Ky(this)}async handleFileSelect(t,e){const{file:i,fileSize:n,fileName:s}=t.detail,r=this.threadsContext.activeThread;if(!r)return;const{srcLang:a,dstLang:o}=this.langsContext.langsPair;this.acceptFileInteractor.handleAcceptFile({srcLang:a,dstLang:o,file:i,fileSize:n,fileName:s,onImageFileLoad:()=>{this.trackingService.trackEvent("ocr_load_image",{type:e,file_name:s})},onInvalidFileFormat:this.handleInvalidFileFormat,onInvalidFileSize:this.handleInvalidFileSize,onSuccess:async()=>{await this.updateActiveThreadIsEmpty(),r.isRenamed||await this.threadsContext.updateThreadTitle(r.id,s),this.dispatchScrollEvent()}})}handleInvalidFileFormat(){}handleInvalidFileSize(){this.appNotificationsContext.showWarningNotification({text:this.localesContext.getText("file_size_warning"),position:"center",autoHide:!0})}filterMessagePairsOnThread(){const t=this.threadsContext.activeThread,e=this.messagesPairsContext.messagesPairs;return t?.isEmpty?[]:e.filter((e=>e.threadId===t?.id))}async handleMainInputSubmit(t){const e=this.threadsContext.activeThread,i=t.detail.text.trim();if(!i||!e)return;this.settingsContext.isShowOnboardingEnabled&&this.settingsContext.setIsShowOnboardingEnabled(!1);const{srcLang:n,dstLang:s}=this.langsContext.langsPair;this.userInputInteractor.handleMainInputTextSubmit({srcLang:n,dstLang:s,text:i,onInvalidTextLength:this.handleInvalidTextLength,onSuccess:async()=>{this.clearMainInputText(),await this.updateActiveThreadIsEmpty(),e.isRenamed||await this.threadsContext.updateThreadTitle(e.id,i),this.dispatchScrollEvent()}})}clearMainInputText(){this.mainInputText=""}handleInvalidTextLength(){this.appNotificationsContext.showWarningNotification({text:this.localesContext.getText("text_limit_warning"),position:"center",autoHide:!0})}async updateActiveThreadIsEmpty(){const t=this.threadsContext.activeThread;t?.isEmpty&&await this.threadsContext.updateThreadIsEmpty(t.id,!1)}updated(t){if(t.has("messagesPairsContext")){const e=t.get("messagesPairsContext");if(!e?.isMessagesPairsListReady&&this.messagesPairsContext.isMessagesPairsListReady){const t=this.messagesPairsContext.messagesPairs.filter(bn);this.documentsTranslationInteractor.restoreTranslationTasks(t)}}this.firstOpeningAnimationController.addElementToAnimate(this.chatContainerElement);this.threadsContext.activeThread&&this.settingsContext.isShowOnboardingEnabled&&this.onboardingTaskController.requestOnboarding()}dispatchScrollEvent(){this.dispatchEvent(new CustomEvent("scroll-to-top-thread-list",{bubbles:!0,composed:!0}))}handleMainPutTextChange(t){const{value:e}=t.detail;this.mainInputText=e}}Gy([hi({context:di,subscribe:!0}),mt()],Yy.prototype,"localesContext",void 0),Gy([hi({context:pi,subscribe:!0}),mt()],Yy.prototype,"settingsContext",void 0),Gy([hi({context:$n,subscribe:!0}),mt()],Yy.prototype,"messagesPairsContext",void 0),Gy([hi({context:cs,subscribe:!0}),mt()],Yy.prototype,"threadsContext",void 0),Gy([hi({context:cn,subscribe:!0}),mt()],Yy.prototype,"langsContext",void 0),Gy([hi({context:Ys,subscribe:!0}),mt()],Yy.prototype,"messagesPairsVotesContext",void 0),Gy([hi({context:ur}),mt()],Yy.prototype,"environmentContext",void 0),Gy([hi({context:Hn,subscribe:!0}),mt()],Yy.prototype,"appNotificationsContext",void 0),Gy([mt()],Yy.prototype,"emptyStateThreadId",void 0),Gy([mt()],Yy.prototype,"mainInputText",void 0),Gy([yt(".chat")],Yy.prototype,"chatContainerElement",void 0),Gy([Ue],Yy.prototype,"handleInvalidFileFormat",null),Gy([Ue],Yy.prototype,"handleInvalidFileSize",null),Gy([Ue],Yy.prototype,"handleInvalidTextLength",null),Gy([Ue],Yy.prototype,"handleMainPutTextChange",null);var Xy=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};const Jy=t=>t?.shadowRoot?.querySelector("ya-popup"),Qy=t=>t?.getBoundingClientRect();class tx{constructor(t){this.trackingService=of.resolve(rf.TrackingService),this.ttsService=of.resolve(rf.TTSService),this.changeLangMessageInteractor=of.resolve(rf.ChangeLangMessageInteractor),this.host=t,this.host.addController(this)}hostConnected(){}hostDisconnected(){}handleMainButtonsLangClick(t,e,i){const{code:n}=t.detail,{setSrcLang:s,setDstLang:r}=e;"src"===i?s(n):r(n),this.trackingService.trackEvent("langselect_select",{select_type:i,lang_code:n})}async handleMessageButtonLangClick(t,e,i,n){const{code:s}=t.detail,{srcLang:r,dstLang:a}=e.input,{activePlayerId:o,langPairType:l}=this.ttsService.activePlayerData,c=s===e.input.srcLang||s===e.input.dstLang,h=o===e.id;!c&&h&&("src"===i||i===l)&&this.ttsService.stop(),this.trackingService.trackEvent("langselect_message_rewrite",{message_id:e.id,select_type:i,lang_code:s}),await this.changeLangMessageInteractor.handleChangeLangMessage({messagesPair:e,type:i,newLang:s});("src"===i&&a===s||"dst"===i&&r===s||s!==r&&s!==a)&&await n.applyMessagesPairVote(e.id,void 0)}insertLanguagePopupElement(t){const{buttonElement:e,parentElement:i,languagePopupElement:n}=t,s=Qy(e),r=Qy(i);if(s&&r){const t=r.bottom-s.bottom,e=s.top-r.top,i=Math.max(e,t);let a="bottom";e>=i&&(a="top"),this.calculateYOffseLanguagePopup({positionY:a,maxAvailableHeight:i,languagePopupElement:n,parentRect:r,buttonRect:s})}}resetPopupPosition(t){if(!t)return;const e=Jy(t);e&&(e.style.top="",e.style.height="")}calculateYOffseLanguagePopup(t){const{positionY:e,maxAvailableHeight:i,languagePopupElement:n,buttonRect:s,parentRect:r}=t,a=Jy(n);if(a&&r&&s)if("top"===e)a.style.height=i-8+"px",a.style.top="2px";else{const t=Math.max(s.bottom-r.top+4,2);a.style.height=`${i+20}px`,a.style.top=`${t}px`}}}Xy([Ue],tx.prototype,"handleMainButtonsLangClick",null),Xy([Ue],tx.prototype,"handleMessageButtonLangClick",null),Xy([Ue],tx.prototype,"insertLanguagePopupElement",null);var ex=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};class ix{constructor(t,e){this.host=t,this.isMobile=e,this.host.addController(this)}hostUpdate(){}async handleSizeChange(t){if(this.isMobile&&screen.orientation.type.startsWith("landscape")||!this.host.messagesElement)return;await qe(0);const e=t.detail.element,i=e.getBoundingClientRect().top-this.host.messagesElement.getBoundingClientRect().top+e.clientHeight,n=i-this.host.messagesElement.offsetHeight;i>=this.host.messagesElement.offsetHeight&&this.host.messagesElement.scrollBy({top:n,behavior:"smooth"})}}ex([Ue],ix.prototype,"handleSizeChange",null);const nx=[[Vh,o`
        :host {
            display: block;
        }

        .languages-select {
            box-sizing: border-box;
            width: 100%;
        }

        .chat:not([data-static='true']) {
            animation: 0.1s ease-in-out 0s 1 smooth-opening;
        }
    `],o`
        :host {
            --chat-gap: var(--space_2xl);

            position: relative;

            flex-grow: 1;

            min-width: var(--central-section-min-width);
            max-width: var(--central-section-max-width);
            height: calc(100% - var(--space_m));
            margin-top: var(--space_m);
        }

        .sidebar {
            flex-grow: 1;
        }

        .main-content {
            position: relative;

            flex-grow: 1;
            min-width: var(--main-content-min-width);
            max-width: var(--main-content-max-width);

            background-color: var(--bg-secondary);

            border-top-right-radius: var(--border-radius_xl);
        }

        .chat {
            flex-grow: 1;
            overflow: hidden;
            position: relative;

            max-height: calc(100% - var(--space_4xl));
            gap: var(--chat-gap);
        }

        .chat-content {
            position: relative;

            overflow: hidden;
            flex-grow: 1;

            width: 100%;
        }

        .chat-content.empty {
            height: 100%;
            overflow: visible;
        }

        .messages {
            --nt-message-gap: var(--space_s);
            --nt-messages-list-padding: calc(
                var(--space_xl) - var(--scrollbar-size)
            );
            --nt-messages-list-max-width: var(--text-content-max-width);
            --nt-message-list-gap: var(--space_m);

            min-width: var(--text-content-min-width);
            height: 100%;

            width: 100%;
            scrollbar-gutter: stable both-edges;
        }

        .input-wrapper {
            width: 100%;
        }

        .language-popup {
            margin-bottom: calc(var(--chat-gap) * -1);
        }

        @media (max-width: 1092px) {
            .main-content {
                flex-grow: 0;

                max-width: var(--main-content-min-width);
            }
        }
    `];var sx=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};const rx="messages";let ax=class extends Yy{get messagesElement(){return this.messagesBlock||null}constructor(){super(),this.isDragOver=!1,this.isLanguagePopupOpen=!1,this.languagePopupCurrentType="src",this.currentLanguageSource="main",this.soundService=of.resolve(rf.SoundService),this.handleMainInputFileSelect=this.handleMainInputFileSelect.bind(this),this.languagePopupController=new tx(this),this.messageResizeController=new ix(this,!1)}render(){const t=!this.messagesPairsContext.isMessagesPairsListReady;return W`
            <drop-container
                @drop-file=${this.handleFileDrop}
                @drag-over-changed=${this.handleIsDragOverChange}
            >
                <nt-history-sidebar class="sidebar"></nt-history-sidebar>
                <flex-container
                    class="main-content"
                    direction="column"
                    gap="none"
                >
                    ${this.renderContent()}
                    <nt-app-notification
                        ?ignore-input-field=${this.imageViewerContext.isOpen}
                        position="center"
                    ></nt-app-notification>
                </flex-container>
            </drop-container>
            ${t?K:this.renderFilesProvider()}
            <cross-button></cross-button>
        `}renderFilesProvider(){return W` <files-provider
            @paste-file=${this.handleFilePaste}
            @external-file=${this.handleExternalFile}
        ></files-provider>`}async handleMainInputFileSelect(t){await this.handleFileSelect(t,"input")}renderMessagesList(){return W`<nt-messages-list
            @message-size-change=${this.messageResizeController.handleSizeChange}
            class=${rx}
            .messages="${this.filterMessagePairsOnThread()}"
            @lang-button-click="${this.handleLanguageButtonClick}"
            .active-rewrite-message-id="${this.activeMessageForLangChange?.id}"
        ></nt-messages-list>`}handleInvalidFileFormat(){this.appNotificationsContext.showWarningNotification({text:this.localesContext.getText("file_format_warning"),position:"center",autoHide:!0})}openLanguagePopup(t){this.languagePopupCurrentType=t,this.isLanguagePopupOpen=!0;const e=this.shadowRoot?.querySelector("language-popup"),{insertLanguagePopupElement:i,resetPopupPosition:n}=this.languagePopupController;"message"===this.currentLanguageSource?i({buttonElement:this.languageMessageButtonElement,languagePopupElement:e,parentElement:this.chatWrapper}):n(e),this.trackingService.trackEvent("langselect_open",{select_type:this.languagePopupCurrentType}),Ry()}closeLanguagePopup(){this.isLanguagePopupOpen&&(this.langsContext.setActiveMessagePopup(void 0),this.trackingService.trackEvent("langselect_close",{select_type:this.languagePopupCurrentType}),this.isLanguagePopupOpen=!1,Oy())}handleAutodetectCheckboxClick(){const t=this.settingsContext.isAutodetectEnabled;this.settingsContext.setIsAutodetectEnabled(!t),this.trackingService.trackEvent("lang_detect",{isAutodetectEnabled:!t})}async handleLangClick(t){const{handleMainButtonsLangClick:e,handleMessageButtonLangClick:i}=this.languagePopupController;if("main"===this.currentLanguageSource)e(t,this.langsContext,this.languagePopupCurrentType);else{if(!this.activeMessageForLangChange)return;await i(t,this.activeMessageForLangChange,this.languagePopupCurrentType,this.messagesPairsVotesContext)}this.closeLanguagePopup()}async handleFileSelect(t,e){super.handleFileSelect(t,e),this.soundService.playInput()}async handleIsDragOverChange(t){const{isDragOver:e}=t.detail;e!==this.isDragOver&&(this.isDragOver=e)}handleFileDrop(t){this.isDragOver=!1,this.handleFileSelect(t,"drop")}handleFilePaste(t){this.handleFileSelect(t,"clipboard")}handleExternalFile(t){this.handleFileSelect(t,"external-file")}handleCardClick(t){if(!yh())return void this.handleOfflineStatus();const e=t.detail.action;this.inputWrapperElement?.handleCardClick(e)}handleOfflineStatus(){this.appNotificationsContext.showOfflineNotification({text:this.localesContext.getText("offline_warning"),position:"center",autoHide:!0})}handleLanguageButtonClick(t){const{currentElement:e,buttonType:i,message:n,currentMessageLang:s,languagesSource:r}=t.detail;this.currentLanguageSource=r,"message"===this.currentLanguageSource&&(this.currentLanguageMessage=s,this.activeMessageForLangChange=n);const a=i===this.languagePopupCurrentType&&this.currentLanguageSource===r,o=!this.isLanguagePopupOpen||!a||this.languageMessageButtonElement!==e;if(this.languageMessageButtonElement=e,o)return this.openLanguagePopup(i),Oy(),void Ry();this.closeLanguagePopup()}renderContent(){const t=!!this.messagesPairsContext.isMessagesPairsListReady&&!this.filterMessagePairsOnThread().length,e=[this.inputWrapperElement?.srcLanguageButtonElement,this.inputWrapperElement?.dstLanguageButtonElement,this.languageMessageButtonElement],{srcLang:i,dstLang:n}=this.langsContext.langsPair,s="src"===this.languagePopupCurrentType,r="main"===this.currentLanguageSource?s?i:n:this.currentLanguageMessage,a=s?this.langsContext.srcLangsHistory:this.langsContext.dstLangsHistory,o="main"===this.currentLanguageSource&&this.settingsContext.isAutodetectEnabled;return this.localesContext.isLocalesReady&&this.messagesPairsContext.isMessagesPairsListReady?W`
            <messages-toolbar
                @lang-button-click="${this.handleLanguageButtonClick}"
            ></messages-toolbar>
            <flex-container
                class="chat"
                direction="column"
                justify="end"
                align="center"
            >
                <image-viewer></image-viewer>
                ${this.isDragOver?W`<drop-zone></drop-zone>`:K}
                <flex-container
                    direction="column"
                    align="center"
                    class="${We({"chat-content":!0,empty:t})}"
                >
                    ${t?this.renderEmptyStatePlaceholder():this.renderMessagesList()}
                </flex-container>
                <language-popup
                    class="language-popup"
                    ?open=${this.isLanguagePopupOpen}
                    .type=${this.languagePopupCurrentType}
                    mode="${this.currentLanguageSource}"
                    .active-lang="${r}"
                    .langs-history=${a}
                    .lang-buttons-nodes=${e}
                    ?is-autodetect-enabled=${o}
                    @request-close=${this.closeLanguagePopup}
                    @autodetect-checkbox-click=${this.handleAutodetectCheckboxClick}
                    @lang-select=${this.handleLangClick}
                    .thread-id=${this.threadsContext.activeThread?.id||""}
                ></language-popup>
                <nt-central-section-input-wrapper
                    class="input-wrapper"
                    .main-input-text=${this.mainInputText}
                    .language-popup-current-type=${this.languagePopupCurrentType}
                    @lang-button-click=${this.handleLanguageButtonClick}
                    @text-input=${this.handleMainPutTextChange}
                    @submit=${this.handleMainInputSubmit}
                    @file-select=${this.handleMainInputFileSelect}
                ></nt-central-section-input-wrapper>
            </flex-container>
        `:K}renderEmptyStatePlaceholder(){return W`<empty-state-placeholder
            @card-click=${this.handleCardClick}
        ></empty-state-placeholder> `}};ax.styles=nx,sx([mt()],ax.prototype,"isDragOver",void 0),sx([mt()],ax.prototype,"isLanguagePopupOpen",void 0),sx([mt()],ax.prototype,"languagePopupCurrentType",void 0),sx([mt()],ax.prototype,"languageMessageButtonElement",void 0),sx([mt()],ax.prototype,"currentLanguageMessage",void 0),sx([mt()],ax.prototype,"currentLanguageSource",void 0),sx([mt()],ax.prototype,"activeMessageForLangChange",void 0),sx([yt(".input-wrapper")],ax.prototype,"inputWrapperElement",void 0),sx([yt(".chat-content")],ax.prototype,"chatWrapper",void 0),sx([yt(`.${rx}`)],ax.prototype,"messagesBlock",void 0),sx([hi({context:ur}),mt()],ax.prototype,"environmentContext",void 0),sx([hi({context:oc,subscribe:!0}),mt()],ax.prototype,"imageViewerContext",void 0),sx([Ue],ax.prototype,"handleInvalidFileFormat",null),ax=sx([pt("central-section")],ax);class ox{constructor(t,e){this.getThreadsContextMenuContext=t,this.setThreadsContextMenuContext=e,this.setThreadsContextMenuContext(this.getInitialThreadsContextMenuContext())}disconnect(){}getInitialThreadsContextMenuContext(){return{activeMenu:null,setActiveMenu:t=>{const e={...this.getThreadsContextMenuContext(),activeMenu:t};this.setThreadsContextMenuContext(e)}}}}var lx=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let cx=class extends ht{constructor(){super(),this.subProviders=[],this.addDataSubProvider(new fn((()=>this.langsContext),(t=>{this.langsContext=t}))),this.addDataSubProvider(new cf((()=>this.localesContext),(t=>{this.localesContext=t}))),this.addDataSubProvider(new Bn((()=>this.messagesPairsContext),(t=>{this.messagesPairsContext=t}))),this.addDataSubProvider(new ds((()=>this.threadsContext),(t=>{this.threadsContext=t}))),this.addDataSubProvider(new yr((()=>this.searchSidebarContext),(t=>{this.searchSidebarContext=t}))),this.addDataSubProvider(new dm((()=>this.searchLanguagesContext),(t=>{this.searchLanguagesContext=t}))),this.addDataSubProvider(new Td((()=>this.voteContextMenuContext),(t=>{this.voteContextMenuContext=t}))),this.addDataSubProvider(new ox((()=>this.threadsContextMenuContext),(t=>{this.threadsContextMenuContext=t}))),this.addDataSubProvider(new wp((()=>this.recognitionContext),(t=>{this.recognitionContext=t}))),this.addDataSubProvider(new zf((()=>this.modalContext),(t=>{this.modalContext=t}))),this.addDataSubProvider(new gi((()=>this.settingsContext),(t=>{this.settingsContext=t}))),this.addDataSubProvider(new tr((()=>this.messagesPairsVotesContext),(t=>{this.messagesPairsVotesContext=t}))),this.addDataSubProvider(new cc((()=>this.imageViewerContext),(t=>{this.imageViewerContext=t}))),this.addDataSubProvider(new gr((t=>{this.environmentContext=t}))),this.addDataSubProvider(new Zh((()=>this.bottomSheetContext),(t=>{this.bottomSheetContext=t}))),this.addDataSubProvider(new Un((()=>this.appNotificationsContext),(t=>{this.appNotificationsContext=t})))}render(){return W`<slot></slot>`}disconnectedCallback(){super.disconnectedCallback(),this.subProviders.forEach((t=>t.disconnect()))}addDataSubProvider(t){this.subProviders.push(t)}};lx([ci({context:cn}),mt()],cx.prototype,"langsContext",void 0),lx([ci({context:di}),mt()],cx.prototype,"localesContext",void 0),lx([ci({context:$n}),mt()],cx.prototype,"messagesPairsContext",void 0),lx([ci({context:cs}),mt()],cx.prototype,"threadsContext",void 0),lx([ci({context:vr}),mt()],cx.prototype,"searchSidebarContext",void 0),lx([ci({context:hm}),mt()],cx.prototype,"searchLanguagesContext",void 0),lx([ci({context:ed}),mt()],cx.prototype,"voteContextMenuContext",void 0),lx([ci({context:qf}),mt()],cx.prototype,"threadsContextMenuContext",void 0),lx([ci({context:bp}),mt()],cx.prototype,"recognitionContext",void 0),lx([ci({context:$f}),mt()],cx.prototype,"modalContext",void 0),lx([ci({context:pi}),mt()],cx.prototype,"settingsContext",void 0),lx([ci({context:Ys}),mt()],cx.prototype,"messagesPairsVotesContext",void 0),lx([ci({context:oc}),mt()],cx.prototype,"imageViewerContext",void 0),lx([ci({context:ur}),mt()],cx.prototype,"environmentContext",void 0),lx([ci({context:Wh}),mt()],cx.prototype,"bottomSheetContext",void 0),lx([ci({context:Hn}),mt()],cx.prototype,"appNotificationsContext",void 0),cx=lx([pt("data-provider")],cx);var hx=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};class dx{constructor(){this.lastClickTimestamp=Date.now()}hostConnected(){document.addEventListener("mousedown",this.handleMouseDown,{passive:!0,capture:!0}),document.addEventListener("focus",this.handleFocus,{passive:!0,capture:!0}),document.addEventListener("blur",this.handleBlur,{passive:!0,capture:!0})}hostDisconnected(){document.removeEventListener("mousedown",this.handleMouseDown),document.removeEventListener("focus",this.handleFocus),document.removeEventListener("blur",this.handleBlur)}handleMouseDown(){this.lastClickTimestamp=Date.now()}handleFocus(t){if(!(Date.now()-this.lastClickTimestamp>200))try{this.lastFocusedElement=t.composedPath()[0],this.insertedStylesNode=this.createStyleNode(),this.lastFocusedElement.parentNode?.insertBefore(this.insertedStylesNode,this.lastFocusedElement),this.disableFocusOutline()}catch{}}createStyleNode(){const t=document.createElement("style");return t.innerHTML="\n                .focus-hidden:focus-visible {\n                    outline: none !important;\n                }\n            ",t}disableFocusOutline(){this.lastFocusedElement?.classList.add("focus-hidden")}handleBlur(){this.insertedStylesNode?.remove(),this.enableFocusOutline()}enableFocusOutline(){this.lastFocusedElement?.classList.remove("focus-hidden")}}hx([Ue],dx.prototype,"handleMouseDown",null),hx([Ue],dx.prototype,"handleFocus",null),hx([Ue],dx.prototype,"handleBlur",null);i(458),i(9822),i(3876),i(9969),i(676),i(839);class px{constructor(t){this.host=t,this.config=of.resolve(rf.Config),this.host.addController(this)}hostConnected(){this.initRum()}initRum(){const t=this.getPlatform(),e=this.getEnv();window.Ya.Rum.initErrors({project:this.config.tracking.errorBoosterProjectName,version:this.config.ver,platform:t,env:e,uncaughtException:!0,unhandledRejection:!0,traceUnhandledRejection:!0,limits:{client:1e3,uncaught:100,script:100,external:100},initTimestamp:+new Date})}getPlatform(){return"mobile"===this.config.platform?"touch":this.config.platform}getEnv(){return"dev"===this.config.env?"development":"production"}}class ux extends Wi{constructor(){super(...arguments),this.source="storage-estimate",this.name="StorageEstimateException"}}class gx{constructor(t){this.host=t,this.trackingService=of.resolve(rf.TrackingService),this.onPageReady=async()=>{const t=await this.getStorageInfo();this.trackingService.trackEvent("page_load",t)},this.host.addController(this)}async hostConnected(){await Vg(),this.onPageReady()}async getStorageInfo(){const t={quota:0,usage:0,indexDB:0,cache:0},e=await this.safeStorageEstimate(),i=e?.usageDetails;return i&&(t.indexDB=i.indexedDB,t.cache=i.caches),t}async safeStorageEstimate(){try{if("storage"in navigator&&"estimate"in navigator.storage)return await navigator.storage.estimate()}catch{us(new ux)}}}var fx=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};class mx{constructor(t){this.host=t,this.config=of.resolve(rf.Config),this.goalsQueue=[],this.hitsQueue=[],this.host.addController(this),this.initTrackingFunctions()}async hostConnected(){await Vg(),this.injectYaMetrikaScript()}initTrackingFunctions(){window.sendMetrikaGoal=(t,e)=>{this.metrikaInstance&&!this.goalsQueue.length?this.metrikaInstance?.reachGoal(t,e):this.goalsQueue.push([t,e])},window.sendMetrikaHit=(t,e)=>{this.metrikaInstance&&!this.hitsQueue.length?this.metrikaInstance?.hit(t,e):this.hitsQueue.push([t,e])}}injectYaMetrikaScript(){if(!("prod"===this.config.env))return;const t=document.createElement("script");t.async=!0,t.src="https://mc.yandex.ru/metrika/watch.js",t.addEventListener("load",this.initYaMetrikaInstance),document.body.append(t)}sendEventsFromQueues(){for(;this.goalsQueue.length||this.hitsQueue.length;){const t=this.goalsQueue.shift(),e=this.hitsQueue.shift();t&&this.metrikaInstance?.reachGoal(t[0],t[1]),e&&this.metrikaInstance?.hit(e[0],e[1])}}initYaMetrikaInstance(){const t={id:this.config.tracking.yaMetrikaId,webvisor:!1,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,trackHash:!0,yaGDPRLang:"ru",params:{}},e=Ya.Metrika;e&&(this.metrikaInstance=new e(t),this.sendEventsFromQueues())}}fx([Ue],mx.prototype,"injectYaMetrikaScript",null),fx([Ue],mx.prototype,"initYaMetrikaInstance",null);const vx=[o`
    :host {
        position: relative;

        display: block;

        width: 100%;
        height: 100%;
    }
`,o`
        :host {
            --side-bar-padding: 101px;
            --link-hover: var(--text-link-hover);

            --nt-src-message-max-width: 70%;
            --nt-src-message-padding: var(--space_xs) var(--space_m)
                var(--space_s);

            overflow: hidden;
        }

        .page-container-wrapper {
            height: 100%;
            padding: 0 var(--side-bar-padding);
        }

        .page-container {
            flex-grow: 1;
            flex-basis: calc(
                var(--central-section-min-width) + 2 * var(--side-bar-padding)
            );

            box-sizing: border-box;
            width: 100%;
            height: 100%;
        }
    `];var yx=function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,i,a):s(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};let xx=class extends ht{constructor(){super(),this.trackingController=new gx(this),this.yaMetrikaController=new mx(this),this.rumController=new px(this),this.addController(new dx)}render(){return W`
            <data-provider>
                <flex-container class="page-container-wrapper">
                    <flex-container
                        class="page-container"
                        justify="center"
                        align="center"
                    >
                        <central-section></central-section>
                    </flex-container>
                </flex-container>
                <ya-modal></ya-modal>
            </data-provider>
        `}};xx.styles=vx,xx=yx([pt("app-entry")],xx);i(8714)})()})();